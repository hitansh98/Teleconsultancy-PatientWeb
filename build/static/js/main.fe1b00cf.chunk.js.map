{"version":3,"sources":["../node_modules/react-pdf/node_modules/pdfjs-dist/build sync","Assets/Images/gray-clock.svg","Assets/Lottie/loading-animation.gif","Assets/Lottie/check-animation.gif","Assets/Lottie/staysafe.gif","Assets/Images/v-consultancy.svg","Assets/Images/o-consultancy.svg","Services/firebase.js","Assets/Loader/Loader.js","Components/HomePage/HomePage.js","Components/Login/Login.js","Components/Register/Register.js","Components/LoginFor/LoginFor.js","Components/Consultancy/Consultancy.js","Assets/Dropzone/Dropzone.js","Assets/Loader/Uploaded.js","Components/Consultancy/ConsultancyForm.js","Components/ThankYou/ThankYou.js","Components/Prescriptions/Prescriptions.js","Components/Appointments/Appointments.js","Routes.js","App.js","serviceWorker.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Loader","props","loading","Modal","isOpen","ModalBody","style","textAlign","src","loadinganimation","height","width","fontWeight","fontSize","fontFamily","Login","componentDidMount","a","togglePrivacyPolicyModal","setState","prevState","privacyPolicyModal","toggleTermsModal","termsModal","toggleCancellationRefundModal","cancellationRefundModal","toggleButton","goToDoctor","state","location","userLoggedInFromRegister","className","alignContent","marginLeft","marginRight","marginTop","borderColor","margin","display","flexDirection","flexWrap","padding","paddingLeft","paddingRight","paddingTop","onClick","this","toggle","ModalHeader","ModalFooter","Button","color","push","to","pathname","Component","isFetching","dbref","database","ref","doctorId","once","snap","data","val","doctorData","doctorName","doctorPaymentAlternativeOnline","doctorPaymentAlternativeOffline","fetchSessionStorageItems","fetchSlotDetails","auth","onAuthStateChanged","user","console","log","diChecker","localStorage","getItem","handleDocId","uli","sessionStorage","uc","up","pd","udn","ucm","userLoggedIn","userCommunicationMode","uw","userWhatsapp","userPhone","userDependentName","patientsData","JSON","parse","obj","dependentsDataObj","dependentsDataArray","Object","map","key","dependentsData","dObject","dObjKeys","dObjArray","i","length","temp","dObjTemp","j","sorter","sort","b","day1","day2","handleTextChange","event","target","value","handleSubmit","userChosen","userDependentTitle","userDependentGender","userDependentAgree","userDependentNameEntry","userDependentRelationEntry","userDependentGenderEntry","userDependentBirthdateEntry","updates","userDependentBirthdate","userDependentRelation","num","name","relation","title","gender","birthdate","keyStringDep","dependents","update","setItem","stringify","document","getElementById","innerHTML","userChosenId","dataSubmitted","handleSelectChange","handleDate","handleLogout","removeItem","window","reload","choosePerson","userDependentId","toString","str","substring","dObj","verifyOtp","submitPhoneNumberAuthCode","verifyUser","userVerified","sendOtp","isVerifying","then","userNotFound","submitPhoneNumberAuth","notifArray","notifArrayFil","filter","ele","isSeen","notificationData","isLoading","phoneNumber","appVerifier","RecaptchaVerifier","size","callback","response","signInWithPhoneNumber","confirmationResult","confResult","catch","error","userOtp","confirm","result","userNotificationModal","moment","Date","valueOf","setNotificationsSeen","handleUserNotificationButton","toggleUserNotificationModal","goToPrescriptions","toggleUserLoggedInFromRegisterModal","toggleSlotPopover","slotPopoverOpen","toggleNavbar","isNavbarOpen","toggleUserDependentAgree","match","params","handle","toggleSwitch","Navbar","dark","light","expand","backgroundColor","NavbarBrand","href","NavbarToggler","Collapse","navbar","Nav","NavItem","NavLink","NavbarText","element","index","notification","description","doctorIntro","avatar","cursor","justifyContent","require","Popover","trigger","placement","PopoverBody","o","openTime","closeTime","hospitalName","education","class","type","onInput","for","dep","onChange","placeholder","pattern","inputMode","Spinner","disabled","handleToggleArrow","bind","Register","handleInvalidSubmit","handleInvalidWhatsapp","toggleUserNotFoundModal","toggleUnderageModal","toggleUnderage","saveGuardianData","object","guardianName","guardianPhone","guardianEmail","guardianRelationship","guardianAddress","guardianDataObject","guardianDataFilled","toggleConditionModal","toggleCondition","userBirthdate","handleNameChange","validationMessage","handleCheckboxChange","checked","handleRegisterClick","userName","userGender","userUnderage","communicationMode","userEmail","toggleCommunicationModeModal","communicationModeModal","nameError","onValidSubmit","onInvalidSubmit","FormGroup","validate","required","errorMessage","helpMessage","marginBottom","float","textDecoration","paddingBottom","userAgree","Consultancy","script","createElement","async","crossOrigin","body","appendChild","getValuesFromLocalStorage","fetchDoctorData","getStaticValueFromSessionStorage","getDynamicValueFromSessionStorage","componentDidUpdate","sT","sessionExpired","dateNowMoment","timestampMoment","parseInt","add","isBefore","dI","udi","udr","udg","udbd","uI","dpan","dpaf","userId","dependentInfo","doctorFeeData","leaveDatesObj","daysAvailable","daysObject","leaveDateArray","startDateMoment","From","endDateMoment","To","tempMom","isAfter","format","setAvailableSlots","daySlotArray","innerObject","innerObjectKeys","timeSlotArray","timingObject","slotBeginTime","slotCloseTime","timeDuration","timeBegin","timeEnd","tempDate","slotArray","onCalendarChange","date","momentToday","dateTodaySelected","timeTodaySelected","todaySelected","dayToday","todaySlotArray","todaySlotArrayFiltered","time","busyArray","includes","leaveSelected","olderDateSelected","slotClicked","dateSelected","dayOfDate","substr","fetchCalendarSlots","options","year","month","day","formatDate","toLocaleDateString","replace","disKeys","tempObject","disKeys2","handlePayButton","dateSelect","appointmentMode","format2Date","docObject","patObject","consultancyFee","appointmentType","uploadBusySlots","numb","slotSelect","dateNow","formatNowDate","uploadObject","createAppointmentAndPayOnline","createAppointmentAndPayOffline","handlePaymentSuccess","razorpay_payment_id","razorPayResp","rzp1","Razorpay","open","handleContinueWithoutPayment","formatDate1","formatDate2","formatTime","formatNowDate2","toLocaleTimeString","momNowTime","momNowTimeFormat","formatNowTime1","keyString","diagnosisEmptyForm","lastAppointment","allowedToRedirect","rpPaymentId","formatNowDate1","formatNowTime2","paymentStr","paymentObj","changeSlotSelect","slot","t","toggleAppointmentMode","handleOnlineClickScroll","handleOfflineClickScroll","changeAppointmentType","checkFollowupAppointment","momentDate","momentNow","dbref2","orderByChild","equalTo","appointmentsArray","forEach","sn","d","notFollowup","notFollowupModal","ele1","ele2","date1","date2","time1","time2","isSame","lastAppointmentDate","momentLAD","momentDateTemp","subtract","momentDate2","momentNowTemp","momentNow2","toggleGuideModal","guideModalOpen","toggleOfflineClick","togglePayClick","payOfflineClick","toggleOnlineClick","payOnlineClick","toggleErrorModal","toggleNotFollowupModal","payClick","toggleDocSlotsModal","viewDocSlotsModal","calendarRef","current","scrollIntoView","behavior","block","buttonsRef","React","createRef","UncontrolledDropdown","nav","inNavbar","DropdownToggle","caret","Badge","DropdownMenu","right","DropdownItem","borderBottom","position","alignSelf","border","borderTop","slice","FileDropzone","getUploadParams","meta","url","uploadingProcess","allFiles","viewIsUploading","Promise","allSettled","f","storage","child","file","put","snapshot","getDownloadURL","downloadURL","changeUrlValue","changeImageArray","changeVideoArray","changeIsUploading","toggleOpenUploadingModal","changeValues","files","remove","onChangeStatus","status","onSubmit","accept","submitButtonContent","inputContent","extra","reject","styles","dropzoneReject","inputLabel","previewImage","maxWidth","maxHeight","Uploaded","toggleHasUploaded","responsive","superLargeDesktop","breakpoint","max","min","items","desktop","tablet","mobile","ConsultancyForm","setValuesFromLocalStorage","getValueFromSessionStorage","addedMoment","sS","dS","aM","aT","lA1","lA","slotSelected","toUpperCase","quesArray","typeArray","ansArray","tempArray","diagnosisFormMedia","diagnosisFormQuestionData","diagnosisFormTypeData","diagnosisFormAnswerData","previousFormData","previousFormObj","previousAppointmentDate","previousAppointmentTime","concat","previousAppointmentAddInfo","previousAppointmentMediaObj","previousAppointmentMedia","shift","keyStr","handleAnswerChange","ans","finalAnswersArray","handleFollowUpClick","additionalInfo","dataNotFilled","dataNotFilledModal","bigFormObj","mediaObj","imagesArray","videosArray","hasUploaded","handleSubmitClick","flag","undefined","formObj","answer","urlValue","mediaItems","isUploading","animationSeen","handleCarouselClick","toggleImageGalleryModal","imageGalleryModal","toggleMediaErrorModal","mediaNotUploaded","openUploadingModal","ind","videoUrl","frameborder","allow","allowfullscreen","imgUrl","ThankYou","dbDoctors","pdfjs","GlobalWorkerOptions","workerSrc","version","Prescription","on","prescription","prescriptionList","emptyData","dbRefAppoint","s","appointmentObj","fetchAppointmentDetails","aId","appointmentData","togglePaymentModal","fetchReceiptDetails","pObj","reciepturl","receiptUrl","hasPaid","toggleReceiptOpenModal","fetchAppointmentDetails2","pdfLink","printableFile","togglePdfNonPaymentOpenModal","togglePdfPaymentOpenModal","handlePaymentClick","prescriptionStr","appmtStr","paymentModalOpen","pdfPaymentOpenModal","pdfNonPaymentOpenModal","receiptOpenModal","preDetailsData","prescriptionTrue","prescriptionFalse","prescriptionListTrue","prescriptionListFalse","numPages","pageNumber","prescriptionListElement","mode","appointmentId","scope","Appointments","dbrefAppointment","appointment","doctorIdList","d1","d2","appointmentsList","doctorIdList1","handleEditClick","appointmentChosen","fetchDoctorAppointmentData","toggleRescheduleModal","rescheduleModal","appointmentsListElement","visitType","history","createBrowserHistory","Routes","exact","path","component","HomePage","Prescriptions","App","Boolean","hostname","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"iGAAA,SAASA,EAAoBC,GAC5B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBF,EAAM,KAEjD,MADAC,EAAEE,KAAO,mBACHF,EAEPF,EAAoBK,KAAO,WAAa,MAAO,IAC/CL,EAAoBM,QAAUN,EAC9BO,EAAOC,QAAUR,EACjBA,EAAoBS,GAAK,K,oBCRzBF,EAAOC,QAAU,IAA0B,wC,0CCA3CD,EAAOC,QAAU,IAA0B,+C,oBCA3CD,EAAOC,QAAU,IAA0B,6C,oBCA3CD,EAAOC,QAAU,IAA0B,sC,sGCA3CD,EAAOC,QAAU,IAA0B,2C,oBCA3CD,EAAOC,QAAU,IAA0B,2C,ymBCa3CE,gBAXqB,CACnBC,OAAQ,0CACRC,WAAY,wCACZC,YAAa,+CACbC,UAAW,wBACXC,cAAe,oCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKFR,Q,yFCuBAS,EA3BA,SAAAC,GAITA,EAFFC,QAFoB,YAIlBD,EAJkB,aAQtB,OACE,kBAACE,EAAA,EAAD,CAAOC,OAAQH,EAAMC,SACjB,kBAACG,EAAA,EAAD,KACI,yBAAKC,MAAO,CAACC,UAAU,WACnB,yBAAKC,IAAKC,IAAkBC,OAAQ,IAAKC,MAAO,MAChD,uBAAGL,MAAO,CAACM,WAAW,QAASC,SAAS,GAAIC,WAAY,WAAxD,qB,iBCwiBDC,E,kDA3iBf,WAAYd,GAAQ,IAAD,8BAEf,cAAMA,IAqBVe,kBAvBmB,sBAuBC,sBAAAC,EAAA,0FAvBD,EA2BnBC,yBAA2B,WACvB,EAAKC,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIC,oBAAqBD,EAAUC,yBA/BxB,EAoCnBC,iBAAmB,WACf,EAAKH,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIG,YAAaH,EAAUG,iBAxChB,EA6CnBC,8BAAgC,WAC5B,EAAKL,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIK,yBAA0BL,EAAUK,8BAjD7B,EAsDnBC,aAAe,WACX,EAAKP,SAAS,CAACQ,YAAY,KApD3B,EAAKC,MAAQ,CACTP,oBAAqB,EACrBE,YAAa,EACbE,yBAAyB,EACzBE,YAAY,GAMX1B,EAAM4B,SAASD,OACb3B,EAAM4B,SAASD,MAAME,2BAItB,EAAKF,MAAL,0BAAyC,GAlBhC,E,qDA2DjB,OACE,0BAAMG,UAAU,eAChB,yBAAKA,UAAU,WACf,yBAAKA,UAAU,mBAEX,yBAAKA,UAAU,MAAMzB,MAAO,CAAC0B,aAAa,SAAUtB,OAAQ,UACxD,yBAAKqB,UAAU,4CACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,kBACX,uBAAGA,UAAU,iBAAiBzB,MAAO,CAAC2B,WAAW,WAAjD,gCAIJ,6BACI,uBAAGF,UAAU,oBAAoBzB,MAAO,CAAC2B,WAAW,SAAUC,YAAY,WAA1E,uNAKH,wBAAI5B,MAAO,CAAC6B,UAAU,SAAUC,YAAa,WAE7C,yBAAKL,UAAU,mBACZ,6BACI,uBAAGA,UAAU,iBAAiBzB,MAAO,CAACO,SAAS,GAAIwB,OAAO,IAA1D,wBAEJ,yBAAK/B,MAAO,CAACgC,QAAQ,OAAQC,cAAc,MAAO5B,MAAM,OAAQ6B,SAAU,SACtE,yBAAKT,UAAU,+BAA+BzB,MAAO,CAACmC,QAAQ,EAAGC,YAAY,SAAUC,aAAa,SAAUC,WAAW,WACrH,uBAAGb,UAAU,oBAAoBzB,MAAO,CAACC,UAAU,OAAQ8B,OAAQ,IAC/D,0BAAMN,UAAU,QAAQc,QAASC,KAAK5B,0BAAtC,mBAGJ,uBAAGa,UAAU,oBAAoBzB,MAAO,CAACC,UAAU,OAAQ8B,OAAQ,IAC/D,0BAAMN,UAAU,QAAQc,QAASC,KAAKxB,kBAAtC,SAA+D,IAA/D,gBAGJ,uBAAGS,UAAU,oBAAoBzB,MAAO,CAACC,UAAU,OAAQ8B,OAAQ,IAC/D,0BAAMN,UAAU,QAAQc,QAASC,KAAKtB,+BAAtC,+BAGR,yBAAKO,UAAU,+BAA+BzB,MAAO,CAAC6B,UAAU,SAAUM,QAAS,EAAGC,YAAY,SAAUC,aAAa,WACrH,uBAAGZ,UAAU,oBAAoBzB,MAAO,CAACC,UAAU,OAAQK,WAAW,IAAKC,SAAS,GAAIwB,OAAQ,IAAhG,eAGA,uBAAGN,UAAU,oBAAoBzB,MAAO,CAACC,UAAU,OAAQ8B,OAAQ,IAAnE,kCAGA,uBAAGN,UAAU,oBAAoBzB,MAAO,CAACC,UAAU,OAAQ8B,OAAQ,IAAnE,uCAMR,kBAAClC,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMP,mBAAoB0B,OAAQD,KAAK5B,0BACvD,kBAAC8B,EAAA,EAAD,CAAaD,OAAQD,KAAK5B,0BAA1B,qBACA,kBAACb,EAAA,EAAD,KACA,2BACA,+EACA,khBAEA,6BACA,kDACA,gcAEA,6BACA,4DACA,gVAEA,6BACA,qDACA,mJAEA,6BACA,kDACA,0aAEA,6BACA,kDACA,+0BAEA,6BAEA,+DACA,24CAEA,6BAEA,mDACA,uOAEA,6BAEA,kDACA,4IAEA,6BAEA,yDACA,wTAEA,6BAEA,yEACA,imBAEA,6BAEA,gEACA,0UACA,8CACA,4FAIA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAK5B,0BAAtC,UAIJ,kBAACf,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAML,WAAYwB,OAAQD,KAAKxB,kBAC/C,kBAAC0B,EAAA,EAAD,CAAaD,OAAQD,KAAKxB,kBAA1B,8BACA,kBAACjB,EAAA,EAAD,KACA,iiCACA,2BAAG,4CACH,0RAIA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKxB,kBAAtC,UAIJ,kBAACnB,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMH,wBAAyBsB,OAAQD,KAAKtB,+BAC5D,kBAACwB,EAAA,EAAD,CAAaD,OAAQD,KAAKtB,+BAA1B,uBACA,kBAACnB,EAAA,EAAD,KACA,mQACA,wJAEA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKtB,+BAAtC,UAIJ,yBAAKlB,MAAO,CAACC,UAAU,SAAU4B,UAAW,WACpC,kBAACe,EAAA,EAAD,CAAQC,MAAM,UAAUpB,UAAU,gBAAgBc,QAASC,KAAKpB,cAAhE,oBAMXoB,KAAKlB,MAAMD,WACR,kBAAC,IAAD,CAAUyB,MAAI,EACVC,GAAI,CACAC,SAAS,kBAEhB,wC,GAvNLC,a,2GC68BLxC,E,kDA58Bf,WAAYd,GAAQ,IAAD,8BAEf,cAAMA,IA4BVe,kBA9BmB,sBA8BC,4BAAAC,EAAA,6DAGlB,EAAKE,SAAS,CAACqC,YAAa,IACxBC,EAAQlE,EAASmE,WAAWC,IAApB,kBAAmC,EAAK/B,MAAMgC,WAJxC,SAKZH,EAAMI,KAAK,QAAX,uCAAoB,WAAMC,GAAN,mBAAA7C,EAAA,sDACpB8C,EAAOD,EAAKE,MAChB,EAAK7C,SAAS,CAAE8C,WAAaF,IAC7B,EAAK5C,SAAS,CAAE+C,WAAYH,EAAI,OAC5BI,EAAiCJ,EAAI,eAAJ,uBACjCK,EAAkCL,EAAI,eAAJ,wBACtC,EAAK5C,SAAS,CAACgD,mCACf,EAAKhD,SAAS,CAACiD,oCAPS,2CAApB,uDALY,uBAwCZ,EAAKC,2BAxCO,uBA0CZ,EAAKC,mBA1CO,OA6ClB/E,EAASgF,OAAOC,oBAAmB,SAASC,GACtCA,EACAC,QAAQC,IAAI,kBAGZD,QAAQC,IAAI,yBAlDA,2CA9BD,EAsFnBN,yBAtFmB,sBAsFQ,gDAAApD,EAAA,yDAEnB2D,EAAYC,aAAaC,QAAQ,YAElC,EAAKlD,MAAMmD,aAAeH,EAJN,oBAKjBI,EAAMC,eAAeH,QAAQ,gBAC7BI,EAAKD,eAAeH,QAAQ,cAC5BK,EAAKF,eAAeH,QAAQ,aAC5BM,EAAKH,eAAeH,QAAQ,gBAC5BO,EAAMJ,eAAeH,QAAQ,qBAC7BQ,EAAML,eAAeH,QAAQ,yBAGvB,aAAPE,GAA4B,aAANE,GAA0B,aAALC,GAA0B,aAANC,GAA2B,cAANC,GAA4B,cAAPC,EAbvF,wBAcnB,EAAKnE,SAAS,CAACoE,aAAcP,IAE7B,EAAK7D,SAAS,CAACqE,sBAAuBF,IAC5B,YAAPA,GAEQ,eADLG,EAAKR,eAAeH,QAAQ,kBAE9B,EAAK3D,SAAS,CAACuE,aAAcD,IAGjC,EAAKtE,SAAS,CAACwE,UAAWR,IAC1B,EAAKhE,SAAS,CAACyE,kBAAmBP,IAxBf,UAyBb,EAAKlE,SAAS,CAAC0E,aAAcC,KAAKC,MAAMX,KAzB3B,QA2BhBA,IACGY,EAAMF,KAAKC,MAAMX,GACjBa,EAAoBD,EAAG,WACvBE,EAAsB,GACrBD,IACDC,EAAsBC,OAAOjH,KAAK+G,GAAmBG,KAAI,SAAAC,GACvD,OAAOJ,EAAkBI,OAG/B,EAAKlF,SAAS,CAACmF,eAAgBJ,KApCd,4CAtFR,EAqInB5B,iBArImB,sBAqIA,8CAAArD,EAAA,sDAKb,GAJJyD,QAAQC,IAAI,oBAAqB,EAAK/C,MAAMgC,UACxCc,QAAQC,IAAI,EAAK/C,MAAMqC,YACnBsC,EAAU,EAAK3E,MAAMqC,WAAX,0BACdS,QAAQC,IAAI4B,GACTA,EAAQ,CAIT,IAHIC,EAAWL,OAAOjH,KAAKqH,GACvBE,EAAY,GAERC,EAAE,EAAEA,EAAEF,EAASG,OAAOD,IAAI,CAI9B,IAFIE,EAAOT,OAAOjH,KAAKqH,EAAQC,EAASE,KACpCG,EAAW,GACPC,EAAE,EAAEA,EAAEF,EAAKD,OAAOG,IACtBD,EAASzD,KAAKmD,EAAQC,EAASE,IAAIE,EAAKE,KAExCT,EAAMG,EAASE,IACfV,EAAI,IACJK,GAAOQ,EACXJ,EAAUrD,KAAK4C,GAGbe,EAAS,CAEX,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,GAGTN,EAAUO,MAAK,SAAmB/F,EAAGgG,GAEnC,IAAIC,EAAOf,OAAOjH,KAAK+B,GAAG,GACtBkG,EAAOhB,OAAOjH,KAAK+H,GAAG,GAC1B,OAAOF,EAAOG,GAAQH,EAAOI,MAIjCzC,QAAQC,IAAI8B,GACZ,EAAKtF,SAAS,CAAEsF,cAGlB,EAAKtF,SAAS,CAACqC,YAAa,IA7Cf,2CArIA,EA0LnB4D,iBAAmB,SAACf,GAAD,OAAS,SAACgB,GAE3B,EAAKlG,SAAL,eAAiBkF,EAAMgB,EAAMC,OAAOC,UA5LnB,EA+LnBC,aA/LmB,sBA+LJ,kCAAAvG,EAAA,yDAEa,QAAvB,EAAKW,MAAM6F,WAFD,gCAGL,EAAKtG,SAAS,CAClBuG,mBAAqD,QAAhC,EAAK9F,MAAM+F,oBAA+B,MAAQ,SAJ9D,UAOa,SAAvB,EAAK/F,MAAM6F,WAPD,oBAQX/C,QAAQC,IAAI,EAAK/C,MAAMgG,mBAAmB,IAAI,EAAKhG,MAAMiG,uBAAuB,IAAI,EAAKjG,MAAMkG,2BAA2B,IAAI,EAAKlG,MAAMmG,yBAAyB,IAAI,EAAKnG,MAAMoG,8BAC9K,EAAKpG,MAAMgG,mBATH,sBAUN,EAAKhG,MAAMiG,wBAA0B,EAAKjG,MAAMkG,4BAA8B,EAAKlG,MAAMmG,0BAA4B,EAAKnG,MAAMoG,6BAV1H,wBAWHC,EAAU,GAXP,UAYD,EAAK9G,SAAS,CAClB+G,uBAAwB,EAAKtG,MAAMoG,4BACnCpC,kBAAmB,EAAKhE,MAAMiG,uBAC9BM,sBAAuB,EAAKvG,MAAMkG,2BAClCH,oBAAqB,EAAK/F,MAAMmG,2BAhB3B,eAmBK,EAAKnG,MAAMiG,uBACnBO,EAAM,EACP,EAAKxG,MAAMiE,aAAX,aACDuC,EAAMjC,OAAOjH,KAAK,EAAK0C,MAAMiE,aAAX,YAAuCc,QAE3DyB,IAEI7B,EAAU,CACZ8B,KAAO,EAAKzG,MAAMgE,kBAClB0C,SAAU,EAAK1G,MAAMuG,sBACrBI,MAAO,EAAK3G,MAAM8F,mBAClBc,OAAQ,EAAK5G,MAAM+F,oBACnBc,UAAW,EAAK7G,MAAMsG,wBAGpBQ,EAAe,IAAIN,EAlChB,UAmCD,EAAKjH,UAAS,SAAAC,GAAS,MAAK,CAChCyE,aAAa,2BACRzE,EAAUyE,cADH,IAEV8C,WAAU,2BACLvH,EAAUyE,aAAa8C,YADlB,kBAEPD,EAAgBnC,UAxChB,eA8CP0B,EAAQ,YAAD,OAAa,EAAKrG,MAAM+D,UAAxB,wBAAiDyC,IAAS7B,EA9C1D,UA+CDhH,EAASmE,WAAWC,MAAMiF,OAAOX,GA/ChC,QAgDPhD,eAAe4D,QAAQ,eAAgB/C,KAAKgD,UAAU,EAAKlH,MAAMiE,eAhD1D,+BAmDPkD,SAASC,eAAe,kBAAkBC,UAAU,6BAnD7C,0DAwDTF,SAASC,eAAe,kBAAkBC,UAAU,gDAxD3C,2BAyETpE,aAAagE,QAAQ,oBAAqB,EAAKjH,MAAM8F,mBAAmB,IAAI,EAAK9F,MAAMgE,mBACvFf,aAAagE,QAAQ,kBAAmB,EAAKjH,MAAMsH,cACnDrE,aAAagE,QAAQ,wBAAyB,EAAKjH,MAAMuG,uBACzDtD,aAAagE,QAAQ,sBAAuB,EAAKjH,MAAM+F,qBACvD9C,aAAagE,QAAQ,yBAA0B,EAAKjH,MAAMsG,wBAC1DrD,aAAagE,QAAQ,SAAU,EAAKjH,MAAM+D,WAC1Cd,aAAagE,QAAQ,iCAAkC,EAAKjH,MAAMuC,gCAClEU,aAAagE,QAAQ,kCAAmC,EAAKjH,MAAMwC,iCAGvE,EAAKjD,SAAS,CAACgI,eAAe,IAnFjB,4CA/LI,EAsRnBC,mBAAqB,SAAC/C,GAAD,8CAAS,WAAMgB,GAAN,SAAApG,EAAA,yDACpB,SAALoF,GACD,EAAKlF,SAAS,CAAEuG,mBAAoBL,EAAMC,OAAOC,QAE3C,UAALlB,EAJyB,gCAKpB,EAAKlF,SAAS,CAAE4G,yBAA0BV,EAAMC,OAAOC,QALnC,2CAAT,uDAtRF,EA+RnB8B,WAAa,SAAChC,GACZ3C,QAAQC,IAAI0C,EAAMC,OAAOC,OACzB,EAAKpG,SAAS,CAAC6G,4BAA8BX,EAAMC,OAAOC,SAjSzC,EAoSnB+B,aAAe,WACbzE,aAAa0E,WAAW,YACxBC,OAAO3H,SAAS4H,UAtSC,EAySnBC,aAAe,SAACrC,GAMd,GAJA3C,QAAQC,IAAI,EAAK/C,MAAMiE,aAAX,MAGZ,EAAK1E,SAAS,CAACsG,WAAYJ,EAAMC,OAAOC,QACf,QAAtBF,EAAMC,OAAOC,MACd,EAAKpG,SAAS,CAAE+H,aAAc,MAC9B,EAAK/H,SAAS,CAAEyE,kBAAmB,EAAKhE,MAAMiE,aAAX,OACnC,EAAK1E,SAAS,CAAEwG,oBAAqB,EAAK/F,MAAMiE,aAAX,SACrC,EAAK1E,SAAS,CAAE+G,uBAAwB,EAAKtG,MAAMiE,aAAX,YACxC,EAAK1E,SAAS,CAAEgH,sBAAuB,SACvC,EAAKhH,SAAS,CAAEwI,gBAAiB,WAE9B,GAAyB,SAAtBtC,EAAMC,OAAOC,MAAiB,CACpC,IAAIa,EAAI,EACL,EAAKxG,MAAMiE,aAAX,aACDuC,EAAMjC,OAAOjH,KAAK,EAAK0C,MAAMiE,aAAX,YAAuCc,QAE3DyB,IACA,EAAKjH,SAAS,CAAE+H,aAAcd,EAAIwB,aAClC,EAAKzI,SAAS,CAAEwI,gBAAiBvB,EAAIwB,iBAClC,CACH,IAAIC,EAAMxC,EAAMC,OAAOC,MAAMqC,WAAWE,UAAU,GAE9CxK,EAAK,IAAIuK,EACTE,EAAO,EAAKnI,MAAMiE,aAAX,WAAsCvG,GACjD,EAAK6B,SAAS,CAAE+H,aAAcW,IAC9B,EAAK1I,SAAS,CAAEwI,gBAAiBE,IACjC,EAAK1I,SAAS,CAAEyE,kBAAmBmE,EAAK1B,OACxC,EAAKlH,SAAS,CAAEuG,mBAAoBqC,EAAKxB,QACzC,EAAKpH,SAAS,CAAEgH,sBAAuB4B,EAAKzB,WAC5C,EAAKnH,SAAS,CAAEwG,oBAAqBoC,EAAKvB,WAzU3B,EA8UnBwB,UA9UmB,sBA8UP,8BAAA/I,EAAA,sDACRyD,QAAQC,IAAI,EAAK/C,MAAMiE,cACnBI,EAAoB,EAAKrE,MAAMiE,aAAX,WACpBK,EAAsB,GACvBD,IACDC,EAAsBC,OAAOjH,KAAK+G,GAAmBG,KAAI,SAAAC,GACvD,OAAOJ,EAAkBI,OAG7B,EAAKlF,SAAS,CAACmF,eAAgBJ,IAC/BxB,QAAQC,IAAI,wBACZ,EAAKsF,4BAXG,2CA9UO,EA8VnBC,WAAa,WAEX,EAAK/I,SAAS,CAACgJ,cAAc,KAhWZ,EAmWnBC,QAnWmB,sBAmWT,sBAAAnJ,EAAA,6DACR,EAAKE,SAAS,CAACkJ,aAAa,IADpB,SAEF9K,EAASmE,WAAWC,IAApB,oBAAqC,EAAK/B,MAAM+D,YAAa9B,KAAK,SAASyG,KAA3E,uCAAgF,WAAMxG,GAAN,mBAAA7C,EAAA,yDAC9E8C,EAAOD,EAAKE,MADkE,uBAGlF,EAAK7C,SAAS,CAAEoJ,cAAc,IAE9B,EAAKpJ,SAAS,CAACkJ,aAAa,IALsD,0CAQ9E,EAAKG,wBARyE,cASpF,EAAKrJ,SAAS,CAAE0E,aAAc9B,KAC1B0G,EAAa1G,EAAI,iBAEf2G,EAAgBD,EAAWE,QAAO,SAACC,GACrC,OAAa,MAANA,GAAcA,EAAIhH,UAAU,EAAKhC,MAAMmD,aAA2B,GAAZ6F,EAAIC,UAEnEnG,QAAQC,IAAI+F,GACZ,EAAKvJ,SAAS,CAAE2J,iBAAkBJ,KAGpC,EAAKvJ,SAAS,CAAEyE,kBAAmB7B,EAAI,OACvC,EAAK5C,SAAS,CAACkJ,aAAa,IAC5B,EAAKH,aACLxF,QAAQC,IAAI,uBAtBwE,+DAAhF,uDAFE,2CAnWS,EAmYnB6F,sBAAwB,WAGpB,EAAKrJ,SAAS,CAAC4J,WAAW,IAC1BrG,QAAQC,IAAI,mBACZ,IAAIqG,EAAc,MAAM,EAAKpJ,MAAM+D,UAC/BsF,EAAc,IAAI1L,EAASgF,KAAK2G,kBAClC,sBACA,CACEC,KAAM,YACNC,SAAU,SAASC,GACjBvI,KAAK0H,2BAIXjL,EACCgF,OACA+G,sBAAsBN,EAAaC,GACnCX,MAAK,SAACiB,GACH/B,OAAO+B,mBAAqBA,EAC5B,EAAKpK,SAAS,CAAE4J,WAAY,IAC5BrG,QAAQC,IAAI6E,OAAO+B,oBACnB,EAAKpK,SAAS,CAACqK,WAAahC,OAAO+B,wBAEtCE,OAAM,SAACC,GACJhH,QAAQC,IAAI,wBAAwB+G,OA5ZzB,EAmanBzB,0BAA4B,WAGxB,IAAIhL,EAAO,EAAK2C,MAAM+J,QACnB,EAAK/J,MAAM4J,YACZ,EAAK5J,MAAM4J,WACVI,QAAQ3M,GACRqL,MAAK,SAACuB,GACH,IAAIpH,EAAOoH,EAAOpH,KAClBC,QAAQC,IAAIF,GACZsE,SAASC,eAAe,qBAAqBC,UAAU,GACvD,EAAK9H,SAAS,CAACoE,cAAc,IAC7Bb,QAAQC,IAAI,EAAK/C,MAAMkJ,kBACpB,EAAKlJ,MAAMkJ,kBACT,EAAKlJ,MAAMkJ,iBAAiBnE,OAAO,GACpC,EAAKxF,SAAS,CAAC2K,uBAAuB,IAK1CjH,aAAagE,QAAQ,WAAY,EAAKjH,MAAMgC,UAC5CqB,eAAe4D,QAAQ,gBAAgB,GACvC5D,eAAe4D,QAAQ,aAAc,QACrC5D,eAAe4D,QAAQ,oBAAqB,EAAKjH,MAAMgE,mBAEvDX,eAAe4D,QAAQ,wBAAyB,EAAKjH,MAAMiE,aAAX,mBACC,YAA9C,EAAKjE,MAAMiE,aAAX,mBACDZ,eAAe4D,QAAQ,eAAgB,EAAKjH,MAAMiE,aAAX,cAEzCZ,eAAe4D,QAAQ,YAAa,EAAKjH,MAAM+D,WAC/CV,eAAe4D,QAAQ,eAAgB/C,KAAKgD,UAAU,EAAKlH,MAAMiE,eACjEZ,eAAe4D,QAAQ,iBAAkBkD,IAAO,IAAIC,MAAQC,cAE7D3B,KAAK5F,QAAQC,IAAI,EAAK/C,MAAM2D,cACvBb,QAAQC,IAAI,EAAK/C,MAAM6F,aAC9BgE,OAAM,SAACC,GACJhH,QAAQC,IAAI,yBAAyB+G,GACrC3C,SAASC,eAAe,qBAAqBC,UAAU,uCAxc9C,EA8cnBiD,qBAAuB,WAIpB,IAHA,IAAIzB,EAAa,EAAK7I,MAAMkJ,iBAExB7C,EAAU,GACNvB,EAAE,EAAEA,EAAE+D,EAAW9D,OAAOD,IAE9BuB,EAAQ,YAAD,OAAa,EAAKrG,MAAM+D,UAAxB,0BAAmD8E,EAAW/D,GAAGpH,GAAjE,aAAgF,EAEzFC,EAASmE,WAAWC,MAAMiF,OAAOX,IAtdjB,EAydnBkE,6BAzdmB,sBAydY,sBAAAlL,EAAA,sEACvB,EAAKmL,8BADkB,uBAEvB,EAAKjL,SAAS,CAACkL,mBAAmB,IAFX,2CAzdZ,EA8dnBC,oCAAsC,WACpC,EAAKnL,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIU,0BAA2BV,EAAUU,+BAle5B,EAuenByK,kBAAoB,WAClB,EAAKpL,UAAS,SAAAC,GACZ,kCACOA,GADP,IAEIoL,iBAAkBpL,EAAUoL,sBA3ejB,EAgfnBC,aAAe,WACb,EAAKtL,UAAS,SAAAC,GACZ,kCACOA,GADP,IAEIsL,cAAetL,EAAUsL,mBApfd,EAyfnBC,yBAA2B,WACzB,EAAKxL,UAAS,SAAAC,GACZ,kCACOA,GADP,IAEIwG,oBAAqBxG,EAAUwG,yBA7fpB,EAkgBnBwE,4BAA8B,WAC5B,EAAKjL,UAAS,SAAAC,GAIZ,OAHoC,GAAjCA,EAAU0K,uBACX,EAAKI,uBAEP,2BACO9K,GADP,IAEI0K,uBAAwB1K,EAAU0K,4BAtgBtC,EAAKlK,MAAQ,CACTgC,SAAU,EAAK3D,MAAM2M,MAAMC,OAAOC,OAClCC,cAAc,EACdrF,mBAAoB,MACpByB,eAAe,EACfD,aAAc,IACdf,sBAAuB,OACvB4C,WAAW,EACXhG,YAAc,EAAK9E,MAAM2M,MAAMC,OAAOC,OACtCN,iBAAiB,EACjB5E,oBAAoB,EACpBkE,uBAAuB,GAMtB7L,EAAM4B,SAASD,OACb3B,EAAM4B,SAASD,MAAME,2BAItB,EAAKF,MAAL,0BAAyC,GAzBhC,E,gEAuLjBkB,KAAK3B,SAAS,CAAE4L,cAAejK,KAAKlB,MAAMmL,iB,+BAwVlC,IAAD,OACP,OACE,0BAAMhL,UAAU,QAChB,yBAAKA,UAAU,WACf,yBAAKA,UAAU,mBACf,kBAACiL,EAAA,EAAD,CAAQC,MAAI,EAACC,OAAK,EAACC,OAAO,KAAK7M,MAAO,CAAC8M,gBAAgB,YACnD,kBAACC,EAAA,EAAD,CAAaC,KAAI,WAAMxK,KAAKlB,MAAMmD,YAAjB,KAAiCzE,MAAO,CAAE6C,MAAM,UAAWvC,WAAW,QAAvF,yBAAsHkC,KAAKlB,MAAMsC,YAE9HpB,KAAKlB,MAAM2D,aACV,kBAACgI,EAAA,EAAD,CAAe1K,QAASC,KAAK2J,eAE7B,8BAKD3J,KAAKlB,MAAM2D,aACN,kBAACiI,EAAA,EAAD,CAAUpN,OAAQ0C,KAAKlB,MAAM8K,aAAce,QAAM,GAC/C,kBAACC,EAAA,EAAD,CAAK3L,UAAU,UAAU0L,QAAM,GAC7B,kBAACE,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAStN,MAAO,CAAC6C,MAAM,WAAYmK,KAAI,WAAMxK,KAAKlB,MAAMmD,YAAjB,kBAAvC,oBAEF,kBAAC4I,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAStN,MAAO,CAAC6C,MAAM,WAAYmK,KAAI,WAAMxK,KAAKlB,MAAMmD,YAAjB,mBAAvC,qBAEF,kBAAC4I,EAAA,EAAD,KACI,kBAAC,IAAD,CAAMtK,GAAI,CAACC,SAAS,IAAD,OAAKR,KAAKlB,MAAMmD,YAAhB,OACf,kBAAC8I,EAAA,EAAD,CAAYvN,MAAO,CAAC6C,MAAM,WAAYN,QAASC,KAAKwG,cAApD,gBAMhB,+BAQP,kBAACnJ,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAME,yBAA0BiB,OAAQD,KAAKwJ,qCAC9D,kBAACtJ,EAAA,EAAD,CAAaD,OAAQD,KAAKwJ,qCAA1B,yBACA,kBAACjM,EAAA,EAAD,oFAGA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKwJ,qCAAtC,eAIJ,kBAACnM,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMkK,sBAAuB/I,OAAQD,KAAKsJ,6BAC1D,kBAACpJ,EAAA,EAAD,CAAaD,OAAQD,KAAKsJ,6BAA1B,sBACA,kBAAC/L,EAAA,EAAD,iDAGOyC,KAAKlB,MAAMkJ,iBACVhI,KAAKlB,MAAMkJ,iBAAiB1E,KAAI,SAAC0H,EAASC,GACxC,OACE,6BACE,2BAAG,2BAAIA,EAAM,EAAV,KAAkBD,EAAQE,kBAKnC,+BAIR,kBAAC/K,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKqJ,8BAAtC,6BAKDrJ,KAAKlB,MAAMmJ,UAAc,kBAAC,EAAD,CAAQ7K,QAAS4C,KAAKlB,MAAMmJ,YACpD,yBAAKhJ,UAAU,OAEde,KAAKlB,MAAM4B,WACV,kBAAC,EAAD,CAAQtD,QAAS4C,KAAKlB,MAAM4B,aAExBV,KAAKlB,MAAMqC,WAAiBnB,KAAKlB,MAAMmL,aA8HpB,kCA9HqC,yBAAKhL,UAAU,4CAC3D,yBAAKA,UAAU,YACf,yBAAKA,UAAU,2BACX,uBAAGA,UAAU,WAAb,iBAEA,0BAAMA,UAAU,QAAQ,QAASe,KAAKlB,MAAMqC,WAAWoE,KAAvD,mBAEA,2BACCvF,KAAKlB,MAAMqC,WAAWgK,YAAYC,cAGvC,yBAAKnM,UAAU,eACX,yBAAKA,UAAU,mBACf,yBAAKA,UAAU,WACX,yBAAKA,UAAU,UACfvB,IAAKsC,KAAKlB,MAAMqC,WAAWkK,UAG/B,yBAAKpM,UAAU,UAAUzC,GAAG,cAAcgB,MAAO,CAAC8N,OAAQ,YACxD,yBAAK9N,MAAO,CAACgC,QAAS,OAAQC,cAAc,SAAUhC,UAAW,QAAS8N,eAAe,SAAUnM,YAAY,UAC7G,yBAAKH,UAAU,2BACb,yBAAKA,UAAU,mBACXvB,IAAK8N,EAAQ,QAGnB,uBAAGhO,MAAO,CAACsC,WAAY,QAAvB,YAGA,kBAAC2L,EAAA,EAAD,CAASnO,OAAQ0C,KAAKlB,MAAM4K,gBAAiBlF,OAAO,cAAckH,QAAQ,SAASC,UAAU,OAAO1L,OAAQD,KAAKyJ,mBAE3G,kBAACmC,EAAA,EAAD,KACI,6BACI,2BACI,4EAEJ,2BAES5L,KAAKlB,MAAM6E,UACR3D,KAAKlB,MAAM6E,UAAUL,KAAI,SAACJ,EAAK+H,GAC3B,OACI,6BACI,8BAAM,2BAAI5H,OAAOjH,KAAK8G,GAAK,GAArB,KAAN,WAEQtB,QAAQC,IAAIqB,EAAIG,OAAOjH,KAAK8G,GAAK,KAChCA,EAAIG,OAAOjH,KAAK8G,GAAK,IAClBA,EAAIG,OAAOjH,KAAK8G,GAAK,IAAII,KAAI,SAACuI,EAAEjI,GAC9B,OAAGV,EAAIG,OAAOjH,KAAK8G,GAAK,IAAIW,OAAO,EAG/B,8BACI,8BAAOgI,EAAEC,UACT,4CACA,8BAAOD,EAAEE,YAKZnI,GAAGV,EAAIG,OAAOjH,KAAK8G,GAAK,IAAIW,OAAO,EAKlC,8BACI,8BAAOgI,EAAEC,UACT,4CACA,8BAAOD,EAAEE,WACT,wCAOJ,8BACI,8BAAOF,EAAEC,UACT,4CACA,8BAAOD,EAAEE,eAOpB,+BAEb,iCAKX,mCAS/B,yBAAK9M,UAAU,mBACX,2BACA,0BAAMA,UAAU,QACX,OAAOe,KAAKlB,MAAMqC,WAAWoE,MAElC,6BACCvF,KAAKlB,MAAMqC,WAAWgK,YAAYa,iBAMxCpK,QAAQC,IAAI7B,KAAKlB,MAAMiE,cAC1B,yBAAK9D,UAAU,eACX,yBAAKA,UAAU,mBACf,2BACI,0BAAMA,UAAU,QAAhB,4BAGA,6BACCe,KAAKlB,MAAMqC,WAAWgK,YAAYc,eAOlB,8BAOvC,yBAAKhN,UAAS,8BAA2Be,KAAKlB,MAAMmL,aAA6B,YAAb,YAA4BzM,MAAO,CAACmC,QAAS,IAC/G,yBAAMV,UAAU,6BACd,wBAAIA,UAAU,gBAAd,iBAEIe,KAAKlB,MAAM2D,aAEZ,+DADA,2GAKD,yBAAKxD,UAAU,cAETe,KAAKlB,MAAM2D,aA0BX,yBAAKyJ,MAAM,sBACX,yBAAKA,MAAM,eACT,yBAAKA,MAAM,cACT,2BAAO1P,GAAG,cAAc2P,KAAK,QAAQ5G,KAAK,YAAYd,MAAM,OAAO2H,QAASpM,KAAK4G,eACjF,2BAAOyF,IAAI,eAAX,UACA,gCAEDzK,QAAQC,IAAI,sBAAsB7B,KAAKlB,MAAM0E,gBAEzCxD,KAAKlB,MAAM0E,eACVxD,KAAKlB,MAAM0E,eAAeF,KAAI,SAACgJ,EAAKrB,GAAN,OAC5B,yBAAKiB,MAAM,cACX,2BAAO1P,GAAE,oBAAeyO,EAAM,GAAKkB,KAAK,QAAQ5G,KAAK,YAAYd,MAAK,gBAAWwG,EAAM,GAAKmB,QAAS,EAAKxF,eAC1G,2BAAOyF,IAAG,oBAAepB,EAAM,IAA/B,cAA4CqB,EAAI7G,MAAhD,YAAyD6G,EAAI/G,OAC7D,mCAIF,8BAKN,yBAAK2G,MAAM,cACT,2BAAO1P,GAAG,kBAAkB2P,KAAK,QAAQ5G,KAAK,YAAYd,MAAM,QAAQ2H,QAASpM,KAAK4G,eACtF,2BAAOyF,IAAI,mBAAX,aACA,iCAKwB,SAAzBrM,KAAKlB,MAAM6F,WACV,yBAAKuH,MAAM,cACT,mDACA,6BACA,yBAAKA,MAAM,OAET,yBAAKA,MAAM,+BACT,yBAAKA,MAAM,cACT,4BAAQA,MAAM,eAAe1P,GAAG,4BAA4B+P,SAAUvM,KAAKsG,mBAAmB,UAC5F,4BAAQ7B,MAAM,OAAd,OACA,4BAAQA,MAAM,QAAd,QACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,QAAd,WAMN,yBAAKyH,MAAM,+BACT,yBAAKA,MAAM,cACT,2BAAOC,KAAK,OAAO5G,KAAK,iBAAiB2G,MAAM,YAAYM,YAAY,OAAOD,SAAUvM,KAAKsE,iBAAiB,8BAIlH,yBAAK4H,MAAM,+BACT,yBAAKA,MAAM,cACT,2BAAOC,KAAK,OAAO5G,KAAK,qBAAqB2G,MAAM,YAAYM,YAAY,uBAAuBD,SAAUvM,KAAKsE,iBAAiB,kCAItI,yBAAK4H,MAAM,+BACT,yBAAKA,MAAM,cACT,4BAAQA,MAAM,eAAe1P,GAAG,4BAA4B+P,SAAUvM,KAAKsG,mBAAmB,WAC5F,sDACA,4BAAQ7B,MAAM,QAAd,QACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,SAAd,YAKN,yBAAKyH,MAAM,+BACT,yBAAKA,MAAM,cACT,yBAAK1O,MAAO,CAACgC,QAAQ,OAAQC,cAAc,WACzC,2BAAO4M,IAAI,gBAAgB7O,MAAO,CAACgC,QAAS,OAAQD,OAAQ,EAAGc,MAAO,UAAWtC,SAAS,KAA1F,yBACA,2BAAOoO,KAAK,OAAO3P,GAAG,gBAAgB+I,KAAK,gBAAgBgH,SAAUvM,KAAKuG,WAAYtH,UAAU,YAAYuN,YAAY,2BAQ9H,yBAAKvN,UAAU,mBACX,2BAAOzC,GAAG,kBAAkB2P,KAAK,WAAWI,SAAUvM,KAAK6J,2BAC3D,2BAAOwC,IAAI,kBAAkB7O,MAAO,CAAC4B,YAAY,SAAjD,qLACA,mCAUL,8BAEP,uBAAG5C,GAAG,oBA3HFwD,KAAKlB,MAAMuI,aAeZ,iCAAM,2BAAO8E,KAAK,SACnBM,QAAQ,OACRlH,KAAK,eACLtG,UAAU,YACVuN,YAAY,gBACZD,SAAUvM,KAAKsE,iBAAiB,aAChC,uBAAG9H,GAAG,sBANL,KAdC,6BACE,yBAAKgB,MAAO,CAACgC,QAAS,OAAQ+L,eAAe,WAC3C,2BAAOY,KAAK,SACVM,QAAQ,OACRC,UAAU,UACVzN,UAAU,YACVuN,YAAY,0BACZD,SAAUvM,KAAKsE,iBAAiB,eAE7BtE,KAAKlB,MAAMyI,YAAgB,kBAACoF,EAAA,EAAD,CAASnP,MAAO,CAAC+B,OAAQ,UAAW1B,MAAM,OAAQD,OAAO,QAAQyC,MAAM,SAAc,+BAGzH,uBAAG7D,GAAG,wBAqHhB,yBAAKyC,UAAU,cAIXe,KAAKlB,MAAM2D,aAMR,4BAAQxD,UAAS,UAAMe,KAAKlB,MAAM6F,WAAc,aAAe,uBAAyB5E,QAASC,KAAK0E,aAC3GkI,UAAW5M,KAAKlB,MAAM6F,YADjB,UALD3E,KAAKlB,MAAMuI,aAEG,4BAAQpI,UAAU,aAAac,QAASC,KAAKkH,WAA7C,cAFc,4BAAQjI,UAAU,aAAac,QAASC,KAAKsH,SAA7C,YAehCtH,KAAKlB,MAAM2D,aAgBA,8BAfX,6BACE,6BACA,yFAEE,uCAFF,gCAMA,yBAAKxD,UAAU,cACb,kBAAC,IAAD,CAAMsB,GAAE,WAAMP,KAAKlB,MAAMmD,YAAjB,cACN,4BAAQhD,UAAU,cAAlB,cAGJ,0BAAMA,UAAS,UAAOe,KAAKlB,MAAMmL,aAAuC,uBAAvB,sBAAiDlK,QAASC,KAAK6M,kBAAkBC,KAAK9M,UAO5IA,KAAKlB,MAAMuH,cACX,kBAAC,IAAD,CAAU/F,MAAI,EACTC,GAAI,CAAEC,SAAS,IAAD,OAAMR,KAAKlB,MAAMmD,YAAjB,mBACJ,8BAGfjC,KAAKlB,MAAMyK,kBACX,kBAAC,IAAD,CAAUjJ,MAAI,EACTC,GAAI,CAAEC,SAAS,IAAD,OAAMR,KAAKlB,MAAMmD,YAAjB,qBACJ,gCAmBxB,yBAAKzF,GAAG,wBAELwD,KAAKlB,MAAM2I,aACV,kBAAC,IAAD,CAAUnH,MAAI,EAACC,GAAI,CACjBC,SAAQ,WAAOR,KAAKlB,MAAMmD,YAAlB,aACRnD,MAAQ,CACN2I,aAAezH,KAAKlB,MAAM2I,iBAG3B,qC,GAp8BKhH,a,SC0mBLsM,E,kDApnBf,WAAY5P,GAAQ,IAAD,8BACf,cAAMA,IAkCVe,kBAnCmB,sBAmCC,4BAAAC,EAAA,6DAChB,EAAKE,SAAS,CAACqC,YAAa,IACxBC,EAAQlE,EAASmE,WAAWC,IAApB,kBAAmC,EAAK/B,MAAMgC,WAF1C,SAGVH,EAAMI,KAAK,QAAX,uCAAoB,WAAMC,GAAN,eAAA7C,EAAA,sDACpB8C,EAAOD,EAAKE,MAChB,EAAK7C,SAAS,CAAE8C,WAAaF,IAC7B,EAAK5C,SAAS,CAAE+C,WAAYH,EAAI,OAHR,2CAApB,uDAHU,uBASV,EAAKO,mBATK,2CAnCD,EAiDnBA,iBAjDmB,sBAiDA,8CAAArD,EAAA,sDAOX,IANJyD,QAAQC,IAAI,oBAAqB,EAAK/C,MAAMgC,UACxCc,QAAQC,IAAI,EAAK/C,MAAMqC,YACnBsC,EAAU,EAAK3E,MAAMqC,WAAX,0BACVuC,EAAWL,OAAOjH,KAAKqH,GACvBE,EAAY,GAERC,EAAE,EAAEA,EAAEF,EAASG,OAAOD,IAAI,CAI9B,IAFIE,EAAOT,OAAOjH,KAAKqH,EAAQC,EAASE,KACpCG,EAAW,GACPC,EAAE,EAAEA,EAAEF,EAAKD,OAAOG,IACtBD,EAASzD,KAAKmD,EAAQC,EAASE,IAAIE,EAAKE,KAExCT,EAAMG,EAASE,IACfV,EAAI,IACJK,GAAOQ,EACXJ,EAAUrD,KAAK4C,GAGbe,EAAS,CAEX,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,GAGTN,EAAUO,MAAK,SAAmB/F,EAAGgG,GAEnC,IAAIC,EAAOf,OAAOjH,KAAK+B,GAAG,GACtBkG,EAAOhB,OAAOjH,KAAK+H,GAAG,GAC1B,OAAOF,EAAOG,GAAQH,EAAOI,MAIjCzC,QAAQC,IAAI8B,GACZ,EAAKtF,SAAS,CAAEsF,cAChB,EAAKtF,SAAS,CAACqC,YAAa,IAzCjB,4CAjDA,EA6FnBsM,oBAAsB,WAClB/G,SAASC,eAAe,kBAAkBC,UAAY,6BA9FvC,EAiGnB8G,sBAAwB,WACpBhH,SAASC,eAAe,kBAAkBC,UAAY,sCAlGvC,EAqGnB+G,wBAA0B,WACtB,EAAK7O,UAAS,SAAAC,GACV,kCACOA,GADP,IAEImJ,cAAenJ,EAAUmJ,mBAzGlB,EA8GnB0F,oBAAsB,WAClB,EAAK9O,UAAS,SAAAC,GACV,kCACOA,GADP,IAEI8O,gBAAiB9O,EAAU8O,qBAlHpB,EAuHnBC,iBAvHmB,sBAuHA,4BAAAlP,EAAA,uDACF,IACTmP,EAAS,CACT,gBAAkB,EAAKxO,MAAMyO,aAC7B,iBAAmB,EAAKzO,MAAM0O,cAC9B,iBAAmB,EAAK1O,MAAM2O,cAC9B,wBAA0B,EAAK3O,MAAM4O,qBACrC,mBAAqB,EAAK5O,MAAM6O,iBAIpC,EAAKtP,SAAS,CAACuP,mBAAoBN,IACnC,EAAKjP,SAAS,CAACwP,oBAAoB,IAZpB,2CAvHA,EAsInBC,qBAAuB,WACnB,EAAKzP,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIyP,iBAAkBzP,EAAUyP,sBA1IrB,EAoJnBzJ,iBAAmB,SAACf,GAAD,OAAS,SAACgB,GACzB,EAAKlG,SAAL,eAAiBkF,EAAMgB,EAAMC,OAAOC,UArJrB,EAwJnB8B,WAAa,SAAChC,GACV3C,QAAQC,IAAI0C,EAAMC,OAAOC,OACzB,EAAKpG,SAAS,CAAC2P,cAAezJ,EAAMC,OAAOC,SA1J5B,EA6JnBwJ,iBAAmB,SAAC1K,GAAD,OAAS,SAACgB,GAAW,IAAD,EACnC,EAAKlG,UAAL,mBACKkF,EAAMgB,EAAMC,OAAOC,OADxB,0BAEgBF,EAAMC,OAAO0J,mBAF7B,MA9Je,EAoKnBC,qBAAuB,SAAC5K,GAAD,OAAS,SAACgB,GAErB,gBAALhB,GAA4C,GAAtBgB,EAAMC,OAAO4J,SAClC,EAAK/P,SAAS,CAAC+O,gBAAgB,IAEnC,EAAK/O,SAAL,eAAiBkF,EAAMgB,EAAMC,OAAO4J,UACpCxM,QAAQC,IAAI0C,EAAMC,OAAO4J,WA1KV,EA6KnBC,oBA7KmB,sBA6KG,8BAAAlQ,EAAA,6DAClByD,QAAQC,IAAI,oBACRsD,EAAS,GAETmI,EAAS,CACT,KAAQ,EAAKxO,MAAMwP,SACnB,MAAS,EAAKxP,MAAM+D,UACpB,OAAW,EAAK/D,MAAMyP,WACtB,aAAgB,EAAKzP,MAAM0P,aAC3B,kBAAsB,EAAK1P,MAAM2P,kBACjC,UAAc,EAAK3P,MAAMkP,eAE1B,EAAKlP,MAAM4P,YACVpB,EAAM,MAAY,EAAKxO,MAAM4P,WAE9B,EAAK5P,MAAM0P,eACVlB,EAAM,SAAgB,EAAKxO,MAAM8O,oBAEF,YAAhC,EAAK9O,MAAM2P,oBACVnB,EAAM,aAAoB,EAAKxO,MAAM8D,cAEzCuC,EAAQ,YAAD,OAAa,EAAKrG,MAAM+D,YAAeyK,EArB5B,SAsBZ7Q,EAASmE,WAAWC,MAAMiF,OAAOX,GAtBrB,gCAwBX,EAAK9G,SAAS,CAAEW,0BAA2B,KAxBhC,4CA7KH,EAyMnByK,kBAAoB,WAChB,EAAKpL,UAAS,SAAAC,GACZ,kCACOA,GADP,IAEIoL,iBAAkBpL,EAAUoL,sBA7MnB,EAkNnBC,aAAe,WACX,EAAKtL,UAAS,SAAAC,GACZ,kCACOA,GADP,IAEIsL,cAAetL,EAAUsL,mBAtNhB,EA2NnB+E,6BAA+B,WAC3B,EAAKtQ,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIsQ,wBAAyBtQ,EAAUsQ,6BA3N3C,EAAK9P,MAAQ,CACTgC,SAAW,EAAK3D,MAAM2M,MAAMC,OAAOC,OACnCC,cAAc,EACd8D,iBAAiB,EACjBX,gBAAgB,EAChBS,oBAAoB,EACpBW,cAAe,EACfK,UAAW,GACXnO,YAAa,EACbuB,YAAa,EAAK9E,MAAM2M,MAAMC,OAAOC,OACrCN,iBAAkB,EAClBkF,wBAAyB,EACzBL,WAAY,QAUXpR,EAAM4B,SAASD,OACb3B,EAAM4B,SAASD,MAAM2I,eACpB7F,QAAQC,IAAI,0BACZ,EAAK/C,MAAL,cAA6B,GA7BtB,E,gEAgJf8C,QAAQC,IAAI,yBACZ7B,KAAK3B,SAAS,CAAE4L,cAAejK,KAAKlB,MAAMmL,iB,+BAuF1C,OACI,0BAAMhL,UAAU,QACZ,yBAAKA,UAAU,WACX,yBAAKA,UAAU,mBACf,4BAAQA,UAAU,gBACd,kBAAC,IAAD,CAAMsB,GAAI,CAACC,SAAS,IAAD,OAAKR,KAAKlB,MAAMmD,YAAhB,OACf,0BAAMhD,UAAU,4BAAhB,0BAAmEe,KAAKlB,MAAMsC,cAGtF,kBAAC/D,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAM2I,aAAcxH,OAAQD,KAAKkN,yBACjD,kBAAChN,EAAA,EAAD,CAAaD,OAAQD,KAAKkN,yBAA1B,WACA,kBAAC3P,EAAA,EAAD,yFAGA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKkN,yBAAtC,UAIJ,yBAAKjO,UAAU,OAINe,KAAKlB,MAAM4B,YACVkB,QAAQC,IAAI7B,KAAKlB,MAAM4B,YACvB,kBAAC,EAAD,CAAQtD,QAAS4C,KAAKlB,MAAM4B,cAExBV,KAAKlB,MAAMqC,WAAiBnB,KAAKlB,MAAMmL,aAoGpB,kCApGqC,yBAAKhL,UAAU,4CAC3D,yBAAKA,UAAU,YACf,yBAAKA,UAAU,2BACX,uBAAGA,UAAU,WAAb,iBAEA,0BAAMA,UAAU,QAAQ,QAASe,KAAKlB,MAAMqC,WAAWoE,KAAvD,mBAEA,2BACCvF,KAAKlB,MAAMqC,WAAWgK,YAAYC,cAGvC,yBAAKnM,UAAU,eACX,yBAAKA,UAAU,mBACf,yBAAKA,UAAU,WACX,yBAAKA,UAAU,UACfvB,IAAKsC,KAAKlB,MAAMqC,WAAWkK,UAG/B,yBAAKpM,UAAU,UAAUzC,GAAG,cAAcgB,MAAO,CAAC8N,OAAQ,YACxD,yBAAK9N,MAAO,CAACgC,QAAS,OAAQC,cAAc,SAAUhC,UAAW,QAAS8N,eAAe,SAAUnM,YAAY,UAC/G,yBAAKH,UAAU,2BACX,yBAAKA,UAAU,mBACXvB,IAAK8N,EAAQ,QAGrB,uBAAGhO,MAAO,CAACsC,WAAY,QAAvB,YAGA,kBAAC2L,EAAA,EAAD,CAASnO,OAAQ0C,KAAKlB,MAAM4K,gBAAiBlF,OAAO,cAAckH,QAAQ,SAASC,UAAU,OAAO1L,OAAQD,KAAKyJ,mBAEzG,kBAACmC,EAAA,EAAD,KACI,6BACI,2BACI,4EAEJ,2BAES5L,KAAKlB,MAAM6E,UACR3D,KAAKlB,MAAM6E,UAAUL,KAAI,SAACJ,EAAK+H,GAC3B,OACI,6BACI,8BAAM,2BAAI5H,OAAOjH,KAAK8G,GAAK,GAArB,KAAN,WAEQtB,QAAQC,IAAIqB,EAAIG,OAAOjH,KAAK8G,GAAK,KAChCA,EAAIG,OAAOjH,KAAK8G,GAAK,KAClBtB,QAAQC,IAAI,mBACZqB,EAAIG,OAAOjH,KAAK8G,GAAK,IAAII,KAAI,SAACuI,EAAEjI,GAC5B,OACI,8BACI,8BAAOiI,EAAEC,UACT,4CACA,8BAAOD,EAAEE,WACT,+CAIX,+BAEb,iCAKX,mCAU/B,yBAAK9M,UAAU,mBACX,2BACA,0BAAMA,UAAU,QACX,OAAOe,KAAKlB,MAAMqC,WAAWoE,MAElC,6BACCvF,KAAKlB,MAAMqC,WAAWgK,YAAYa,iBAO3C,yBAAK/M,UAAU,eACX,yBAAKA,UAAU,mBACf,2BACI,0BAAMA,UAAU,QAAhB,4BAGA,6BACCe,KAAKlB,MAAMqC,WAAWgK,YAAYc,eAOlB,8BAI/C,yBAAKhN,UAAS,8BAA2Be,KAAKlB,MAAMmL,aAA6B,YAAb,YAA6BzM,MAAO,CAACmC,QAAS,IAC9G,yBAAKV,UAAW,6BACZ,wBAAIA,UAAU,gBAAd,wBAGA,6FAIA,kBAAC,SAAD,CAAQ6P,cAAe9O,KAAKqO,oBAAqBU,gBAAiB/O,KAAKgN,qBACnE,kBAACgC,EAAA,EAAD,KACI,kBAAC,UAAD,CAASzJ,KAAK,WAAWtG,UAAU,YAAYuN,YAAY,wBAAwByC,SAAU,CACzFC,SAAU,CAACzK,OAAO,EAAM0K,aAAc,uBACtC1C,QAAS,CAAChI,MAAO,iBAAkB0K,aAAc,mCAClD3R,MAAO,CAACK,MAAM,OAAQ0O,SAAUvM,KAAKsE,iBAAiB,eAK7D,kBAAC0K,EAAA,EAAD,KACI,kBAAC,UAAD,CAASzJ,KAAK,eAAe4G,KAAK,SAASlN,UAAU,YAAYuN,YAAY,4BAA4ByC,SAAU,CAC3GC,SAAU,CAACzK,OAAO,EAAM0K,aAAc,gCACtC1C,QAAS,CAAChI,MAAO,qBAAsB0K,aAAc,uCACtD3R,MAAO,CAACK,MAAM,OAAQ0O,SAAUvM,KAAKsE,iBAAiB,gBAUhE,kBAAC0K,EAAA,EAAD,KACG,kBAAC,UAAD,CAASzJ,KAAK,WAAW4G,KAAK,QAAQlN,UAAU,YAAYzB,MAAO,CAACK,MAAM,OAAQ2O,YAAY,sBAAsBD,SAAUvM,KAAKsE,iBAAiB,gBAYxJ,kBAAC0K,EAAA,EAAD,KACI,kBAAC,UAAD,CAAS7C,KAAK,SAAS5G,KAAK,eAAegH,SAAUvM,KAAKsE,iBAAiB,cAC3ErF,UAAU,YAAYzB,MAAO,CAACK,MAAM,MAAOD,OAAQ,OAAQ+B,QAAS,QAASyP,YAAY,sBACrF,4BAAQ3K,MAAM,QAAd,QACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,SAAd,WAIR,kBAACuK,EAAA,EAAD,KACI,kBAAC,UAAD,CAAS7C,KAAK,OAAO5G,KAAK,YAAYgH,SAAUvM,KAAKuG,WAAY2I,UAAQ,EACzEjQ,UAAU,YAAYzB,MAAO,CAACK,MAAM,MAAOD,OAAQ,OAAQ+B,QAAS,QAASyP,YAAY,+BAK7F,yBAAK5S,GAAG,gBAAgByC,UAAU,mBAClC,yBAAKzB,MAAQwC,KAAKlB,MAAM0P,aAAiB,CAACa,aAAc,QAAY,CAACA,aAAc,SAC/E,yBAAKpQ,UAAU,aAAazB,MAAO,CAACI,OAAQ,MAAO0R,MAAO,SACtD,2BAAO9S,GAAG,cAAc2P,KAAK,WAAWI,SAAUvM,KAAKmO,qBAAqB,kBACxE,2BAAO9B,IAAI,eAAX,2BACA,+BAIA,kBAAChP,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMsO,eAAgBnN,OAAQD,KAAKmN,qBACnD,kBAAC,SAAD,KACA,kBAACjN,EAAA,EAAD,CAAaD,OAAQD,KAAKmN,qBAA1B,uBACA,kBAAC5P,EAAA,EAAD,KAKY,kBAAC,UAAD,CAASgI,KAAK,QAAQtG,UAAU,eAAeuN,YAAY,aAAayC,SAAU,CAC9EC,SAAU,CAACzK,OAAO,EAAM0K,aAAc,uBACtC1C,QAAS,CAAChI,MAAO,iBAAkB0K,aAAc,mCAClD5C,SAAUvM,KAAKsE,iBAAiB,kBAKnC,kBAAC,UAAD,CAASiB,KAAK,eAAe4G,KAAK,SAASlN,UAAU,eAAeuN,YAAY,qBAAqByC,SAAU,CACvGC,SAAU,CAACzK,OAAO,EAAM0K,aAAc,gCACtC1C,QAAS,CAAChI,MAAO,qBAAsB0K,aAAc,uCACtD5C,SAAUvM,KAAKsE,iBAAiB,mBAKvC,kBAAC,UAAD,CAASiB,KAAK,YAAYtG,UAAU,eAAeuN,YAAY,wBAAwByC,SAAU,CAC7FC,SAAU,CAACzK,OAAO,EAAM0K,aAAc,wBACvC5C,SAAUvM,KAAKsE,iBAAiB,0BAKnC,kBAAC,UAAD,CAASiB,KAAK,SAAS4G,KAAK,QAAQlN,UAAU,eAAeuN,YAAY,eAAeD,SAAUvM,KAAKsE,iBAAiB,mBAKxH,kBAAC,UAAD,CAASiB,KAAK,WAAW4G,KAAK,WAAWlN,UAAU,eAAeuN,YAAY,gBAAgBhP,MAAO,CAACK,MAAO,OAAQ0O,SAAUvM,KAAKsE,iBAAiB,sBAMjK,kBAACnE,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQ+L,KAAK,SAAS9L,MAAM,UAAUN,SAASC,KAAKmN,oBAAqBnN,KAAKqN,kBAAkBT,WAAY5M,KAAKlB,MAAMyO,cAAgBvN,KAAKlB,MAAM0O,eAAiBxN,KAAKlB,MAAM4O,sBAAwB1N,KAAKlB,MAAM2O,eAAiBzN,KAAKlB,MAAM6O,kBAA7O,wBAA6R,IAC7R,kBAACvN,EAAA,EAAD,CAAQC,MAAM,YAAYN,QAASC,KAAKmN,qBAAxC,eAOXnN,KAAKlB,MAAM0P,aACTxO,KAAKlB,MAAM+O,mBACb,uBAAG9N,QAASC,KAAKmN,oBAAqB3P,MAAO,CAAC+R,eAAgB,YAAalP,MAAM,QAASiP,MAAO,QAASjQ,UAAW,OAAQiM,OAAQ,YAArI,sCADoC,uBAAGvL,QAASC,KAAKmN,oBAAqB3P,MAAO,CAAC+R,eAAgB,YAAalP,MAAM,OAAQiP,MAAO,QAASjQ,UAAW,OAAQiM,OAAQ,YAApI,yCAGlC,4BAGP,kBAAC0D,EAAA,EAAD,KACI,yBAAK/P,UAAU,kBAAkBzB,MAAO,CAACI,OAAQ,MAAO0R,MAAO,SAC3D,2BAAO9S,GAAG,cAAc2P,KAAK,WAAWI,SAAUvM,KAAKmO,qBAAqB,eAC5E,2BAAO9B,IAAI,eAAX,qBAEA,gCAMI,0BAAMtM,QAASC,KAAK8N,sBAChB,wCACA,2BAAOzB,IAAI,cAAc7O,MAAO,CAAC8N,OAAS,UAAWiE,eAAe,YAAalP,MAAO,SAAxF,6BAGJ,kBAAChD,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMiP,gBAAiB9N,OAAQD,KAAK8N,sBACpD,kBAAC5N,EAAA,EAAD,CAAaD,OAAQD,KAAK8N,sBAA1B,8BACA,kBAACvQ,EAAA,EAAD,KACA,8yBAAoxByC,KAAKlB,MAAMsC,WAA/xB,iHAAy5BpB,KAAKlB,MAAMsC,WAAp6B,yFAAsgCpB,KAAKlB,MAAMsC,WAAjhC,2BACA,2BAAG,4CACH,0RAIA,kBAACjB,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAK8N,sBAAtC,YAMhB,yBAAKtQ,MAAO,CAACgS,cAAe,QAEtBxP,KAAKlB,MAAM2P,kBACZ,uBAAG1O,QAASC,KAAK2O,6BAA8BnR,MAAO,CAAC+R,eAAgB,YAAalP,MAAM,QAAShB,UAAW,OAAQiM,OAAQ,YAA9H,4CADkC,uBAAGvL,QAASC,KAAK2O,6BAA8BnR,MAAO,CAAC+R,eAAgB,YAAalP,MAAM,OAAQhB,UAAW,OAAQiM,OAAQ,YAA7H,8CAAqL,IAAI,yBAAK9N,MAAO,CAAC6C,MAAM,QAAnB,gBAMhO,kBAAC2O,EAAA,EAAD,CAAWxR,MAAO,CAACgS,cAAe,QAC9B,kBAACpP,EAAA,EAAD,CACInB,UAAS,UAAMe,KAAKlB,MAAMwP,UAAYtO,KAAKlB,MAAM+D,WAAa7C,KAAKlB,MAAMyP,YAAcvO,KAAKlB,MAAMkP,eAAiBhO,KAAKlB,MAAM2Q,WAAazP,KAAKlB,MAAM2P,oBAAqD,YAA9BzO,KAAKlB,MAAM2P,mBAAkCzO,KAAKlB,MAAM8D,iBAAmB5C,KAAKlB,MAAM0P,cAAkBxO,KAAKlB,MAAM+O,oBAAwB,aAAe,uBACvUjB,WAAY5M,KAAKlB,MAAMwP,UAAYtO,KAAKlB,MAAM+D,WAAa7C,KAAKlB,MAAMyP,YAAcvO,KAAKlB,MAAMkP,eAAiBhO,KAAKlB,MAAM2Q,WAAazP,KAAKlB,MAAM2P,oBAAqD,YAA9BzO,KAAKlB,MAAM2P,mBAAkCzO,KAAKlB,MAAM8D,iBAAmB5C,KAAKlB,MAAM0P,cAAkBxO,KAAKlB,MAAM+O,sBAFjS,aAQJ,yBAAKrR,GAAG,oBAER,6BACA,gHAGA,yBAAKyC,UAAU,cACX,kBAAC,IAAD,CAAMsB,GAAE,WAAMP,KAAKlB,MAAMmD,YAAjB,MACJ,4BAAQhD,UAAU,cAAlB,WAMZ,0BAAMA,UAAS,UAAOe,KAAKlB,MAAMmL,aAAuC,uBAAvB,sBAAiDlK,QAASC,KAAK6M,kBAAkBC,KAAK9M,WAQ9IA,KAAKlB,MAAME,yBACR,kBAAC,IAAD,CAAUsB,MAAI,EAACC,GAAI,CACfC,SAAQ,WAAOR,KAAKlB,MAAMmD,YAAlB,KACRnD,MAAQ,CACJE,yBAA2BgB,KAAKlB,MAAME,6BAG7C,gCAIb,kBAAC3B,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAM8P,uBAAwB3O,OAAQD,KAAK2O,8BAC3D,kBAAC,SAAD,CAAQG,cAAe9O,KAAK2O,6BAA8BI,gBAAkB/O,KAAKiN,uBACjF,kBAAC/M,EAAA,EAAD,CAAaD,OAAQD,KAAK2O,8BAA1B,yBACI,kBAACpR,EAAA,EAAD,KACI,6BACI,uBAAGC,MAAO,CAACM,WAAY,SAAvB,6CACA,2XACA,yBAAKN,MAAO,CAACgC,QAAS,OAAQ+L,eAAe,SAAUlM,UAAW,QAC9D,yBAAK6M,MAAM,cACP,2BAAO1P,GAAE,sBAAyB2P,KAAK,QAAQ5G,KAAI,aAAgBd,MAAO,MAAO8H,SAAUvM,KAAKsE,iBAAL,uBAC3F,2BAAO+H,IAAG,uBAAV,OACA,gCAGJ,yBAAKH,MAAM,cACP,2BAAO1P,GAAE,sBAAyB2P,KAAK,QAAQ5G,KAAI,aAAgBd,MAAO,WAAY8H,SAAUvM,KAAKsE,iBAAL,uBAChG,2BAAO+H,IAAG,uBAAV,YACA,iCAIR,yBAAK7O,MAAO,CAACgC,QAAS,OAAQ+L,eAAe,SAAUlM,UAAW,QAEzB,YAAhCW,KAAKlB,MAAM2P,kBAER,yBAAKjR,MAAO,CAACK,MAAM,OAAQJ,UAAU,WACjC,kBAACuR,EAAA,EAAD,KACI,kBAAC,UAAD,CAASzJ,KAAK,iBAAiBtG,UAAU,YAAYuN,YAAY,6BAA6ByC,SAAU,CACpGC,SAAU,CAACzK,OAAO,EAAM0K,aAAc,kCACtC1C,QAAS,CAAChI,MAAO,qBAAsB0K,aAAc,yCACtD3R,MAAO,CAACK,MAAM,OAAQ0O,SAAUvM,KAAKsE,iBAAiB,mBAE7D,uBAAG9G,MAAO,CAAC6B,UAAU,OAAQ7C,GAAG,oBAGnC,iCAKzB,kBAAC2D,EAAA,EAAD,KACI,kBAAC6O,EAAA,EAAD,KACI,kBAAC5O,EAAA,EAAD,CAAQC,MAAM,WAAd,iB,GA1mBDI,a,GCNAA,Y,qDCquDRiP,G,yDA5sDf,WAAYvS,GAAQ,IAAD,8BACf,cAAMA,IA0BVe,kBA3BmB,sBA2BC,4BAAAC,EAAA,6DAChB,EAAKE,SAAS,CAAE4J,WAAY,KAEtB0H,EAAS1J,SAAS2J,cAAc,WAE/BlS,IAAM,+CACbiS,EAAOE,OAAQ,EACfF,EAAOG,aAAc,EAErB7J,SAAS8J,KAAKC,YAAYL,GATV,SAWV,EAAKM,4BAXK,cAYhB,EAAKC,kBAZW,UAcV,EAAKC,mCAdK,yBAeV,EAAKC,oCAfK,4CA3BD,EA8CnBC,mBA9CmB,sBA8CE,sBAAAlS,EAAA,sEACX,EAAKiS,oCADM,2CA9CF,EAkDnBD,iCAlDmB,sBAkDgB,8BAAAhS,EAAA,sDAEtB,eADLqE,EAAML,eAAeH,QAAQ,4BAE7B,EAAK3D,SAAS,CAACqE,sBAAwBF,IAC7B,YAAPA,GAES,eADJG,EAAKR,eAAeH,QAAQ,kBAE5B,EAAK3D,SAAS,CAACuE,aAAcD,KAPV,2CAlDhB,EA+DnByN,kCA/DmB,sBA+DiB,gCAAAjS,EAAA,yDAC1BmS,EAAKnO,eAAeH,QAAQ,kBADF,gCAMtB,EAAK3D,SAAS,CAAEkS,gBAAgB,IANV,OAO5BxO,aAAa0E,WAAW,YAPI,0BAUxB+J,EAAgBvH,IAAO,IAAIC,MAC3BuH,EAAkBxH,IAAOyH,SAASJ,KACpBG,EAAgBE,IAAI,GAAI,KAI3BC,SAASJ,GAhBI,kCAiBlB,EAAKnS,SAAS,CAAEkS,gBAAgB,IAjBd,QAkBxBxO,aAAa0E,WAAW,YAlBA,wBAqBxBtE,eAAe4D,QAAQ,mBAAoByK,GArBnB,4CA/DjB,EAyFnBP,0BAA4B,WAExB,IAAMY,EAAK9O,aAAaC,QAAQ,YAC1BO,EAAMR,aAAaC,QAAQ,qBAC3B8O,EAAM/O,aAAaC,QAAQ,mBAC3B+O,EAAMhP,aAAaC,QAAQ,yBAC3BgP,EAAMjP,aAAaC,QAAQ,uBAC3BiP,EAAOlP,aAAaC,QAAQ,0BAC5BkP,EAAKnP,aAAaC,QAAQ,UAC1BmP,EAAOpP,aAAaC,QAAQ,kCAC5BoP,EAAOrP,aAAaC,QAAQ,mCAEjCJ,QAAQC,IAAIU,GACZX,QAAQC,IAAIiP,GACZlP,QAAQC,IAAIkP,GACZnP,QAAQC,IAAImP,GACZpP,QAAQC,IAAIoP,GAEb,EAAK5S,SAAS,CAACyC,SAAW+P,IAC1B,EAAKxS,SAAS,CAACgT,OAAQH,IACvB,EAAK7S,SAAS,CAACiT,cAAe,CAC1B/L,KAAOhD,EACP/F,GAAIsU,EACJtL,SAAUuL,EACVrL,OAAQsL,EACRrL,UAAWsL,KAGf,EAAK5S,SAAS,CAACgD,+BAAiC8P,IAChD,EAAK9S,SAAS,CAACiD,gCAAkC8P,KAtHlC,EA0HnBlB,gBA1HmB,sBA0HD,4BAAA/R,EAAA,6DACdyD,QAAQC,IAAI,oBAAqB,EAAK/C,MAAMgC,UACxCH,EAAQlE,EAASmE,WAAWC,IAApB,kBAAmC,EAAK/B,MAAMgC,SAA9C,MAFE,SAGRH,EAAMI,KAAK,SAASyG,MAAK,SAACxG,GAC5B,IAAIC,EAAOD,EAAKE,MAGhB,EAAK7C,SAAS,CAAC8C,WAAaF,IAC5B,EAAK5C,SAAS,CAAC+C,WAAYH,EAAI,OAC/B,EAAK5C,SAAS,CAACkT,cAAetQ,EAAI,iBAClC,IAAIuQ,EAAgBvQ,EAAI,YAAJ,iBAChBwC,EAAUxC,EAAI,YAAJ,cACVyC,EAAWL,OAAOjH,KAAKqH,GACvBE,EAAY,GAChB/B,QAAQC,IAAI2P,GAEZ,IAAI,IAAI5N,EAAE,EAAEA,EAAEF,EAASG,OAAOD,IAAI,CAI9B,IAFA,IAAIE,EAAOT,OAAOjH,KAAKqH,EAAQC,EAASE,KACpCG,EAAW,GACPC,EAAE,EAAEA,EAAEF,EAAKD,OAAOG,IACtBD,EAASzD,KAAKmD,EAAQC,EAASE,IAAIE,EAAKE,KAE5C,IACId,EAAI,GACRA,EAFUQ,EAASE,IAERG,EACXJ,EAAUrD,KAAK4C,GAGnB,IAAMe,EAAS,CAEX,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,GAiBX,GAdEN,EAAUO,MAAK,SAAmB/F,EAAGgG,GAEnC,IAAIC,EAAOf,OAAOjH,KAAK+B,GAAG,GACtBkG,EAAOhB,OAAOjH,KAAK+H,GAAG,GAC1B,OAAOF,EAAOG,GAAQH,EAAOI,MAIjCzC,QAAQC,IAAI8B,GACZ,EAAKtF,SAAS,CAAEoT,cAAgB/N,IAChC,EAAKrF,SAAS,CAAEqT,WAAYjO,IAC5B,EAAKpF,SAAS,CAAEsF,cAGb6N,EAAc,CAEb5P,QAAQC,IAAI2P,GACZ5P,QAAQC,IAAI,uBAGZ,IAFA,IAAI8P,EAAiB,GAEb/N,EAAE,EAAEA,EAAE4N,EAAc3N,OAAOD,IAK/B,IAJA,IAAIgO,EAAkB3I,IAAOuI,EAAc5N,GAAGiO,KAAM,YAChDC,EAAgB7I,IAAOuI,EAAc5N,GAAGmO,GAAI,YAC5CC,EAAUJ,GAEPI,EAAQC,QAAQH,IACnBlQ,QAAQC,IAAImQ,EAAQE,OAAO,aAC3BP,EAAerR,KAAK0R,EAAQE,OAAO,aACnCF,EAAQrB,IAAI,EAAE,KAItB/O,QAAQC,IAAI8P,GACZ,EAAKtT,SAAS,CAAEsT,uBAzEV,uBAoFT,EAAKQ,oBApFI,2CA1HC,EAkNnBA,kBAAoB,WAKhB,IADA,IAAIC,EAAe,GACXxO,EAAE,EAAEA,EAAE,EAAK9E,MAAM2S,cAAc5N,OAAOD,IAAI,CAK9C,IAHA,IAAIyO,EAAc,EAAKvT,MAAM4S,WAAW,EAAK5S,MAAM2S,cAAc7N,IAC7D0O,EAAkBjP,OAAOjH,KAAKiW,GAC9BE,EAAgB,GACZvO,EAAE,EAAEA,EAAEsO,EAAgBzO,OAAOG,IAQjC,IAPA,IAAIwO,EAAeH,EAAYC,EAAgBtO,IAC3CyO,EAAgBD,EAAY,SAC5BE,EAAgBF,EAAY,UAC5BG,EAAejC,SAAS8B,EAAY,YAAgB1L,WAAWE,UAAU,EAAE,GAAG,IAC9E4L,EAAY3J,IAAOwJ,EAAe,MAAM,GACxCI,EAAU5J,IAAOyJ,EAAe,MAAM,GACtCI,EAAWF,EACTE,EAAWD,GACbN,EAAcjS,KAAKwS,EAASZ,OAAO,OACnCY,EAAU7J,IAAO6J,GAAUnC,IAAIgC,EAAa,KAIpDP,EADU,EAAKtT,MAAM2S,cAAc7N,IACf2O,EAIxB,EAAKlU,SAAS,CAAC0U,UAAWX,IAC1B,EAAK/T,SAAS,CAAC4J,WAAY,KA/OZ,EAmPnB+K,iBAnPmB,uCAmPA,WAAMC,GAAN,yBAAA9U,EAAA,yDAKX+U,EAAcjK,IAAO,IAAIC,MAAQgJ,OAAO,YAExCiB,EAAoBlK,IAAOgK,GAAMf,OAAO,YACxCkB,EAAoBnK,IAAO,IAAIC,MAAQgJ,OAAO,MAE/CiB,GAAqBD,EAVT,wBAWX,EAAK7U,SAAS,CAACgV,eAAgB,IAC3BC,GAAW,IAAIpK,MAAOpC,WAAWE,UAAU,EAAE,GACjDpF,QAAQC,IAAIyR,GAERC,EAfO,eAgBND,EAAY,EAAKxU,MAAMiU,UAAUO,IAGlCE,EAAyBD,EAAeD,GAAUzL,QAAO,SAAC4L,GAC1D,OAAOxK,IAAOwK,EAAM,MAAQxK,IAAOmK,EAAmB,SAE1DxR,QAAQC,IAAI2R,GAEZD,EAAc,eACTD,EAAYE,GAGjB5R,QAAQC,IAAI0R,GACZ3R,QAAQC,IAAI,EAAK/C,MAAMiU,WACvBnR,QAAQC,IAAI,EAAK/C,MAAM4U,WA9BZ,UA+BL,EAAKrV,SAAS,CAACkV,mBA/BV,gCAiCX,EAAKlV,SAAS,CAACgV,eAAe,IAjCnB,eAoCZ,EAAKvU,MAAM6S,gBACP,EAAK7S,MAAM6S,eAAegC,SAASR,IAClCvR,QAAQC,IAAI,sBACZ,EAAKxD,SAAS,CAACuV,eAAe,KAOlC,EAAKvV,SAAS,CAACuV,eAAe,IAI/BX,EAAM,IAAI/J,MAAUiK,GAAqBD,EACxC,EAAK7U,SAAS,CAAEwV,mBAAmB,IAGnC,EAAKxV,SAAS,CAAEwV,mBAAmB,IAGvC,EAAKxV,SAAS,CAAEyV,YAAa,KAC7B,EAAKzV,SAAS,CAAE4U,SAChB,EAAK5U,SAAS,CAAE0V,cAAc,IAC9B,EAAK1V,SAAS,CAAE2V,UAAYf,EAAKnM,WAAWmN,OAAO,EAAE,KA5DtC,UA6DT,EAAKC,mBAAmBjB,GA7Df,4CAnPA,wDAmTnBiB,mBAnTmB,uCAmTE,WAAMjB,GAAN,mBAAA9U,EAAA,6DAGbgW,EAAU,CAACC,KAAM,UAAWC,MAAO,UAAWC,IAAK,WAGvDC,GADIA,EAHatB,EAGWuB,mBAAmB,QAASL,IAChCM,QAAQ,MAAM,IAEtC,EAAKpW,SAAS,CAAE4J,WAAY,IACxBtH,EAAQlE,EAASmE,WAAWC,IAApB,kBAAmC,EAAK/B,MAAMgC,SAA9C,kCAAgFyT,IAT3E,SAUX5T,EAAMI,KAAK,SAASyG,MAAK,SAACxG,GAC5B,IAAIC,EAAOD,EAAKE,MAChB,GAAGD,EAAK,CAIJ,IAHA,IAAIyT,EAAUrR,OAAOjH,KAAK6E,GACtByS,EAAY,GACZiB,EAAY,GACR/Q,EAAE,EAAGA,EAAE8Q,EAAQ7Q,OAAOD,IAC1B+Q,EAAW/Q,GAAK3C,EAAKyT,EAAQ9Q,IAEjC,IAAIgR,EAAWvR,OAAOjH,KAAKuY,GAC3B,IAAQ/Q,EAAE,EAAEA,EAAEgR,EAAS/Q,OAAOD,IAAI,CAC9B,IAAI6P,EAAOxK,IAAO0L,EAAW/Q,GAAX,UAA4B,MAE9C8P,EAAUpT,KAAKmT,EAAKvB,OAAO,OAI/B,EAAK7T,SAAS,CAAEqV,mBAGhB,EAAKrV,SAAS,CAAEqV,UAAW,KAE/B,EAAKrV,SAAS,CAAE4J,WAAY,OAhCf,2CAnTF,wDAuVnB4M,gBAvVmB,sBAuVD,8CAAA1W,EAAA,6DACV2W,EAAY,KAEZA,EAD6B,UAA9B,EAAKhW,MAAMiW,gBACG,EAAKjW,MAAMmU,KAGX,IAAI/J,KAGjBiL,EAAU,CAACC,KAAM,UAAWC,MAAO,UAAWC,IAAK,WAEnDC,EAAaO,EAAWN,mBAAmB,QAASL,GACpDa,EAAcT,EAAWE,QAAQ,MAAM,IACvCtP,EAAU,GACV8P,EAAY,CACZ,GAAO,EAAKnW,MAAMgC,SAClB,KAAS,EAAKhC,MAAMqC,WAAWoE,MAG/B2P,EAAY,CACZ,GAAO,EAAKpW,MAAMuS,OAClB,KAAS,EAAKvS,MAAMwS,cAAc/L,KAClC,YAAgB,EAAKzG,MAAMwS,cAAc9U,GACzC,SAAa,EAAKsC,MAAMwS,cAAc9L,SACtC,OAAW,EAAK1G,MAAMwS,cAAc5L,OACpC,UAAc,EAAK5G,MAAMwS,cAAc3L,UACvC,MAAU,EAAK7G,MAAMuS,QAGzBlM,EAAQ,YAAD,OAAa,EAAKrG,MAAMuS,OAAxB,wBAA8C,EAAKvS,MAAMwS,cAAc9U,GAAvE,YAA6E,EAAKsC,MAAMgC,WAAcmU,EAC7G9P,EAAQ,WAAD,OAAY,EAAKrG,MAAMgC,SAAvB,2BAAkD,EAAKhC,MAAMuS,OAA7D,aAAwE,EAAKvS,MAAMwS,cAAc9U,KAAQ0Y,EA9BlG,UA+BRzY,EAASmE,WAAWC,MAAMiF,OAAOX,GA/BzB,QAkCVgQ,EAAiB,EAKbA,EAHuB,UAA5B,EAAKrW,MAAMiW,gBAEqB,aAA5B,EAAKjW,MAAMsW,gBACO1E,SAAS,EAAK5R,MAAMqC,WAAX,gCAETuP,SAAS,EAAK5R,MAAMqC,WAAX,iCAGC,aAA5B,EAAKrC,MAAMsW,gBACO1E,SAAS,EAAK5R,MAAMqC,WAAX,iCAETuP,SAAS,EAAK5R,MAAMqC,WAAX,kCAIlC,EAAK9C,SAAS,CAAE8W,mBAGZxU,EAAQlE,EAASmE,WAAWC,IAApB,kBAAmC,EAAK/B,MAAMgC,SAA9C,4BACRwE,EAAM,EACV3E,EAAMI,KAAK,QAAX,uCAAoB,WAAMC,GAAN,eAAA7C,EAAA,2DACZ8C,EAAOD,EAAKE,OADA,qBAGTD,EAAK+T,EAAYlO,YAHR,uBAMRxB,EAAMjC,OAAOjH,KAAK6E,EAAK+T,EAAYlO,aAAajD,OANxC,kBAOD,EAAKwR,gBAAgB/P,IAPpB,gCAUD,EAAK+P,gBAAgB/P,IAVpB,wDAcL,EAAK+P,gBAAgB,IAdhB,4CAApB,uDAxDc,4CAvVC,EAmanBA,gBAnamB,uCAmaD,WAAMC,GAAN,+BAAAnX,EAAA,yDAEV2W,EAAY,KAEZA,EAD6B,UAA9B,EAAKhW,MAAMiW,gBACG,EAAKjW,MAAMmU,KAGX,IAAI/J,KAGjBqM,EAAa,KACgB,UAA9B,EAAKzW,MAAMiW,gBACVQ,EAAa,EAAKzW,MAAMgV,aAGxByB,EAAatM,IAAO,IAAIC,MAAQgJ,OAAO,MACvCtQ,QAAQC,IAAI0T,IAGZpB,EAAU,CAACC,KAAM,UAAWC,MAAO,UAAWC,IAAK,WAEnDC,EAAaO,EAAWN,mBAAmB,QAASL,GACpDa,EAAcT,EAAWE,QAAQ,MAAM,IAEvCe,EAAU,IAAItM,KACduM,EAAgBD,EAAQhB,mBAAmB,QAASL,GACnCsB,EAAchB,QAAQ,MAAM,IAIhB,UAA9B,EAAK3V,MAAMiW,gBA9BA,wBA+BN5P,EAAQ,GAEZmQ,IACII,EAAe,CACf,GAAOJ,EACP,KAASf,EAAWE,QAAQ,MAAM,KAClC,UAAc,EAAK3V,MAAMgV,aAE7B3O,EAAQ,WAAD,OAAY,EAAKrG,MAAMgC,SAAvB,kCAAyDkU,EAAzD,YAAwEM,IAAUI,EAvC/E,UAwCJjZ,EAASmE,WAAWC,MAAMiF,OAAOX,GAxC7B,WA2CmB,UAA9B,EAAKrG,MAAMiW,gBA3CA,kCA4CJ,EAAKY,gCA5CD,mCA8CwB,WAA9B,EAAK7W,MAAMiW,gBA9CL,kCA+CJ,EAAKa,iCA/CD,4CAnaC,wDAudnBD,8BAvdmB,sBAuda,8BAAAxX,EAAA,yDAE5ByD,QAAQC,IAAI,UAAU,EAAK/C,MAAMqW,gBACa,UAA3C,EAAKrW,MAAMuC,+BAHc,uBAIpB8S,EAAU,CACV,IAAO,0BACP,OAAoC,IAA1B,EAAKrV,MAAMqW,eACrB,SAAY,MACZ,KAAQ,mBACR,YAAe,0BACf,MAAS,y4QAET,QAAU,WAAV,4BAAW,WAAM5M,GAAN,SAAApK,EAAA,sEACD,EAAK0X,qBAAqBtN,EAASuN,qBADlC,OAEP,EAAKzX,SAAS,CAAE0X,aAAexN,EAASuN,sBAFjC,2CAAX,mDAAU,GAIV,MAAS,CACL,QAAW,6BAEf,MAAS,CACL,MAAS,YAIbE,EAAO,IAAItP,OAAOuP,SAAS9B,GAxBP,SA0BlB6B,EAAKE,OA1Ba,6BA8BxB,EAAKC,+BA9BmB,2CAvdb,EA0fnBP,+BA1fmB,sBA0fc,8BAAAzX,EAAA,yDAE7ByD,QAAQC,IAAI,UAAU,EAAK/C,MAAMqW,gBACc,UAA5C,EAAKrW,MAAMwC,gCAHe,uBAIrB6S,EAAU,CACV,IAAO,0BACP,OAAoC,IAA1B,EAAKrV,MAAMqW,eACrB,SAAY,MACZ,KAAQ,EAAKrW,MAAMsC,WACnB,YAAe,0BACf,MAAS,y4QAET,QAAU,WAAV,4BAAW,WAAMmH,GAAN,SAAApK,EAAA,sEACD,EAAK0X,qBAAqBtN,EAASuN,qBADlC,OAEP,EAAKzX,SAAS,CAAE0X,aAAexN,EAASuN,sBAFjC,2CAAX,mDAAU,GAIV,MAAS,CACL,QAAW,6BAEf,MAAS,CACL,MAAS,YAIbE,EAAO,IAAItP,OAAOuP,SAAS9B,GAxBN,SA0BnB6B,EAAKE,OA1Bc,6BA8BzB,EAAKC,+BA9BoB,2CA1fd,EA6hBnBA,6BA7hBmB,sBA6hBY,4DAAAhY,EAAA,6DACf2W,EAAY,KAEZA,EAD6B,UAA9B,EAAKhW,MAAMiW,gBACG,EAAKjW,MAAMmU,KAGX,IAAI/J,KAGjBqM,EAAa,KACgB,UAA9B,EAAKzW,MAAMiW,gBACVQ,EAAa,EAAKzW,MAAMgV,aAGxByB,EAAatM,IAAO,IAAIC,MAAQgJ,OAAO,MACvCtQ,QAAQC,IAAI0T,IAGZpB,EAAU,CAACC,KAAM,UAAWC,MAAO,UAAWC,IAAK,WACnDC,EAAaO,EAAWN,mBAAmB,QAASL,GAExDvS,QAAQC,IAAI0S,GACR6B,EAAc7B,EAAWE,QAAQ,MAAM,IACvC4B,EAAc9B,EAAWE,QAAQ,MAAM,KAEvC6B,EAAaf,EAAWd,QAAQ,MAAO,IAIrCe,EAAU,IAAItM,KAEhBuM,EAAgBD,EAAQhB,mBAAmB,QAASL,GACnCsB,EAAchB,QAAQ,MAAM,IAC7C8B,EAAiBd,EAAchB,QAAQ,MAAM,KAE7Be,EAAQgB,mBAAmB,SAC3CC,EAAaxN,IAAOuM,GACpBkB,EAAmBD,EAAWvE,OAAO,MACrCyE,EAAiBD,EAAiBjC,QAAQ,MAAO,IAChCiC,EAAiBjC,QAAQ,MAAO,KACrD7S,QAAQC,IAAI0U,EAAe,IAAII,GAG3BC,EAAY,SAAS,EAAK9X,MAAMuS,OAAO,IAAI,EAAKvS,MAAMgC,SAAS,IAAIsV,EAAY,IAAIE,EAAW,KAAK,EAAKxX,MAAMwS,cAAc9U,GAE5Hqa,EAAqB,CACrB,eAAmB,GACnB,KAAS,CAAE,KAAM,CACf,IAAQ,GACR,KAAS,IACR,CACD,IAAQ,GACR,KAAS,IACR,CACD,IAAQ,GACR,KAAS,IACR,CACD,IAAQ,GACR,KAAS,MAIbjV,QAAQC,IAAI,EAAK/C,MAAM4D,uBACvBd,QAAQC,IAAI,EAAK/C,MAAMwS,eAErBhE,EAAS,GAETA,EAD6B,UAA9B,EAAKxO,MAAMiW,gBACD,CACL,SAAY,EACZ,mBAAuB,EAAKjW,MAAMuC,+BAClC,UAAc,EAAKvC,MAAMuS,OACzB,SAAa,EAAKvS,MAAMgC,SACxB,GAAO8V,EACP,KAAS,EAAK9X,MAAMiW,gBACpB,UAAc,EAAKjW,MAAMsW,gBACzB,cAAkB,EAAKtW,MAAMwS,cAC7B,WAAeiF,EACf,KAASF,EACT,UAAcd,EACd,KAAS,EAAKzW,MAAMwS,cAAc/L,KAClC,IAAQ,EAAKzG,MAAMqW,eACnB,QAAW,EACX,cAAkB0B,EAClB,sBAA0B,EAAK/X,MAAM4D,uBAMhC,CACL,SAAY,EACZ,mBAAuB,EAAK5D,MAAMwC,gCAClC,UAAc,EAAKxC,MAAMuS,OACzB,SAAa,EAAKvS,MAAMgC,SACxB,GAAO8V,EACP,KAAS,EAAK9X,MAAMiW,gBACpB,UAAc,EAAKjW,MAAMsW,gBACzB,cAAkB,EAAKtW,MAAMwS,cAC7B,WAAeiF,EACf,KAASF,EACT,UAAcd,EACd,KAAS,EAAKzW,MAAMwS,cAAc/L,KAClC,IAAQ,EAAKzG,MAAMqW,eACnB,QAAW,EACX,cAAkB0B,EAClB,sBAA0B,EAAK/X,MAAM4D,uBAIR,YAAlC,EAAK5D,MAAM4D,wBACV4K,EAAM,aAAmB,EAAKxO,MAAM8D,eAIpCuC,EAAQ,IAIJ,gBAAD,OAAiByR,IAAetJ,EAtHpB,UAuHb7Q,EAASmE,WAAWC,MAAMiF,OAAOX,GAvHpB,QA2HnBpD,aAAagE,QAAQ,eAAgB+O,GACrC/S,aAAagE,QAAQ,eAAgBwP,GACrCxT,aAAagE,QAAQ,kBAAmB,EAAKjH,MAAMiW,iBACnDhT,aAAagE,QAAQ,kBAAmB,EAAKjH,MAAMsW,iBACnDrT,aAAagE,QAAQ,kBAAmB/C,KAAKgD,UAAU,EAAKlH,MAAMgY,kBAClE,EAAKzY,SAAS,CAAE0Y,mBAAmB,IAhIhB,4CA7hBZ,EAgqBnBlB,qBAhqBmB,uCAgqBI,WAAMmB,GAAN,uDAAA7Y,EAAA,6DAEP2W,EAAY,KAEZA,EAD6B,UAA9B,EAAKhW,MAAMiW,gBACG,EAAKjW,MAAMmU,KAGX,IAAI/J,KAGjBqM,EAAa,KACgB,UAA9B,EAAKzW,MAAMiW,gBACVQ,EAAa,EAAKzW,MAAMgV,aAGxByB,EAAatM,IAAO,IAAIC,MAAQgJ,OAAO,MACvCtQ,QAAQC,IAAI0T,IAGZpB,EAAU,CAACC,KAAM,UAAWC,MAAO,UAAWC,IAAK,WACnDC,EAAaO,EAAWN,mBAAmB,QAASL,GAExDvS,QAAQC,IAAI0S,GACR6B,EAAc7B,EAAWE,QAAQ,MAAM,IACvC4B,EAAc9B,EAAWE,QAAQ,MAAM,KAEvC6B,EAAaf,EAAWd,QAAQ,MAAO,IAIrCe,EAAU,IAAItM,KAEhBuM,EAAgBD,EAAQhB,mBAAmB,QAASL,GACpD8C,EAAiBxB,EAAchB,QAAQ,MAAM,IAC7C8B,EAAiBd,EAAchB,QAAQ,MAAM,KAE7Be,EAAQgB,mBAAmB,SAC3CC,EAAaxN,IAAOuM,GACpBkB,EAAmBD,EAAWvE,OAAO,MACrCyE,EAAiBD,EAAiBjC,QAAQ,MAAO,IACjDyC,EAAiBR,EAAiBjC,QAAQ,MAAO,KACrD7S,QAAQC,IAAI0U,EAAe,IAAII,GAG3BC,EAAY,SAAS,EAAK9X,MAAMuS,OAAO,IAAI,EAAKvS,MAAMgC,SAAS,IAAIsV,EAAY,IAAIE,EAAW,KAAK,EAAKxX,MAAMwS,cAAc9U,GAE5H2a,EAAa,QAAQ,EAAKrY,MAAMuS,OAAO,IAAI,EAAKvS,MAAMgC,SAAS,IAAImW,EAAe,IAAIN,EAC1F/U,QAAQC,IAAIsV,GAERN,EAAqB,CACrB,eAAmB,GACnB,KAAS,CAAE,KAAM,CACf,IAAQ,GACR,KAAS,IACR,CACD,IAAQ,GACR,KAAS,IACR,CACD,IAAQ,GACR,KAAS,IACR,CACD,IAAQ,GACR,KAAS,MAIXvJ,EAAS,GACb1L,QAAQC,IAAI,EAAK/C,MAAM4D,uBACvBd,QAAQC,IAAI,EAAK/C,MAAMwS,eAEnBhE,GADD,EAAKxO,MAAMiW,gBACD,CACL,SAAY,EACZ,UAAc,EAAKjW,MAAMuS,OACzB,SAAa,EAAKvS,MAAMgC,SACxB,GAAO8V,EACP,KAAS,EAAK9X,MAAMiW,gBACpB,UAAc,EAAKjW,MAAMsW,gBACzB,cAAkB,EAAKtW,MAAMwS,cAC7B,WAAeiF,EACf,KAASF,EACT,UAAcd,EACd,KAAS,EAAKzW,MAAMwS,cAAc/L,KAClC,IAAQ,EAAKzG,MAAMqW,eACnB,QAAW,EACX,UAAcgC,EACd,cAAkBN,EAClB,sBAA0B,EAAK/X,MAAM4D,wBA0BR,YAAlC,EAAK5D,MAAM4D,wBACV4K,EAAM,aAAmB,EAAKxO,MAAM8D,cAGpCwU,EAAa,CACb,OAAW,EAAKtY,MAAMqW,eACtB,cAAkByB,EAClB,KAASL,EACT,SAAa,EAAKzX,MAAMgC,SACxB,cAAkB,EAAKhC,MAAMwS,cAC7B,GAAO6F,EACP,UAAc,EAAKrY,MAAMuS,OACzB,KAAS6F,EACT,YAAgBF,EAChB,KAAS,wBAGT7R,EAAQ,IAIJ,gBAAD,OAAiByR,IAAetJ,EACvCnI,EAAQ,YAAD,OAAagS,IAAgBC,EAtIzB,UAuIL3a,EAASmE,WAAWC,MAAMiF,OAAOX,GAvI5B,QA2IXpD,aAAagE,QAAQ,eAAgB+O,GACrC/S,aAAagE,QAAQ,eAAgBwP,GACrCxT,aAAagE,QAAQ,kBAAmB,EAAKjH,MAAMiW,iBACnDhT,aAAagE,QAAQ,kBAAmB,EAAKjH,MAAMsW,iBACnDrT,aAAagE,QAAQ,kBAAmB/C,KAAKgD,UAAU,EAAKlH,MAAMgY,kBAGlE,EAAKzY,SAAS,CAAE0Y,mBAAmB,IAlJxB,4CAhqBJ,wDAszBnBM,iBAAmB,SAACC,GAEhB,IAAIC,EAAItO,IAAOqO,EAAM,MACrB,EAAKjZ,SAAS,CAAEyV,YAAcyD,EAAErF,OAAO,SAzzBxB,EA6zBnBsF,sBAAwB,SAACjU,GAAD,OAAS,SAACgB,GAGpB,UAAPhB,GACC,EAAKkU,0BAEC,WAAPlU,GACC,EAAKmU,2BAET,EAAKrZ,SAAS,CAAE0W,gBAAiBxR,MAt0BlB,EAy0BnBoU,sBAz0BmB,uCAy0BK,WAAMpT,GAAN,SAAApG,EAAA,yDACW,cAA5B,EAAKW,MAAMsW,gBADM,gCAEV,EAAKwC,2BAFK,6BAKhB,EAAKvZ,SAAS,CAAC+W,gBAAiB,eALhB,2CAz0BL,wDAk1BnBwC,yBAl1BmB,sBAk1BQ,0CAAAzZ,EAAA,6DAEnB2W,EAAa,EAAKhW,MAAMmU,KACxBkB,EAAU,CAACC,KAAM,UAAWC,MAAO,UAAWC,IAAK,WAEnDC,EAAaO,EAAWN,mBAAmB,QAASL,GACtCI,EAAWE,QAAQ,MAAM,IAEvCe,EAAU,IAAItM,KACduM,EAAgBD,EAAQhB,mBAAmB,QAASL,GACnCsB,EAAchB,QAAQ,MAAM,IAG7CoD,EAAa5O,IAAO6L,GACpBgD,EAAY7O,IAAOuM,GASnBuC,EAAStb,EAASmE,WAAWC,IAApB,gBAvBU,UAwBjBkX,EAAOC,aAAa,aAAaC,QAAQ,EAAKnZ,MAAMuS,QAAQtQ,KAAK,QAAjE,uCAA0E,WAAMC,GAAN,6BAAA7C,EAAA,yDACxE8C,EAAOD,EAAKE,MAChBU,QAAQC,IAAIZ,IACTA,EAHyE,oBAIpEiX,EAAoB,GACxBlX,EAAKmX,SAAQ,SAACC,GACV,IAAIC,EAAID,EAAGlX,MACXU,QAAQC,IAAIwW,EAAEvX,SAAS,IAAI,EAAKhC,MAAMmD,YAAY,IAAIoW,EAAE/G,cAAc9U,GAAG,IAAI,EAAKsC,MAAMwS,cAAc9U,IAEnG6b,EAAEvX,UAAY,EAAKhC,MAAMmD,aAAeoW,EAAE/G,cAAc9U,IAAM,EAAKsC,MAAMwS,cAAc9U,IAEtF0b,EAAkB5X,KAAK+X,MAG/BzW,QAAQC,IAAIqW,KACTA,EAAkBrU,OAAO,GAf4C,uBAgBnC,UAA9B,EAAK/E,MAAMiW,gBACV9O,SAASC,eAAe,eAAekI,SAAU,EAEjDnI,SAASC,eAAe,eAAekI,SAAU,EAErD,EAAK/P,SAAS,CAAC+W,gBAAiB,eAChC,EAAK/W,SAAS,CAACia,aAAc,IAC7B,EAAKja,SAAS,CAACka,kBAAmB,IAvBkC,2BA0BxEL,EAAkBhU,MAAK,SAACsU,EAAMC,GAC1B,IAAIC,EAAQzP,IAAOuP,EAAKvF,KAAM,YAC1B0F,EAAQ1P,IAAOwP,EAAKxF,KAAM,YAE1B2F,EAAQ3P,IAAOuP,EAAK5F,UAAW,MAC/BiG,EAAQ5P,IAAOwP,EAAK7F,UAAW,MAEnC,GAAG3J,IAAOyP,GAAOI,OAAOH,GAAO,CAE3B,GADA/W,QAAQC,IAAI,wBACToH,IAAO2P,GAAO3G,QAAQ4G,GAAQ,OAAQ,EACzC,GAAG5P,IAAO2P,GAAOhI,SAASiI,GAAQ,OAAO,EAE7C,OAAG5P,IAAOyP,GAAOzG,QAAQ0G,IAAgB,EACtC1P,IAAOyP,GAAO9H,SAAS+H,GAAe,OAAzC,KAIJ/W,QAAQC,IAAIqW,GAEZ,EAAK7Z,SAAS,CAAEyY,gBAAkBoB,EAAkB,KAEhDa,EAAsBb,EAAkB,GAAGjF,KAC3C+F,EAAY/P,IAAO8P,EAAqB,YAEX,UAA9B,EAAKja,MAAMiW,kBACNkE,EAAiBpB,GACNqB,SAAUxI,SAAS,EAAK5R,MAAMyS,cAAX,wBAAqD,QACvF3P,QAAQC,IAAIoX,EAAiBD,GAC7BpX,QAAQC,IAAIoX,EAAe/G,OAAO,aAClCtQ,QAAQC,IAAImX,EAAU9G,OAAO,aAEzBiH,EAAclQ,IAAO6L,GAEzBlT,QAAQC,IAAIsX,EAAYjH,OAAO,aAC5BiH,EAAYvI,SAASoI,IAAcC,EAAehH,QAAQ+G,IACzD/S,SAASC,eAAe,eAAekI,SAAU,EACjD,EAAK/P,SAAS,CAAC+W,gBAAiB,eAChC,EAAK/W,SAAS,CAACia,aAAc,IAC7B,EAAKja,SAAS,CAACka,kBAAmB,MAGlC,EAAKla,SAAS,CAAEia,aAAc,IAC9B,EAAKja,SAAS,CAAE+W,gBAAiB,kBAIjCgE,EAAgBtB,GACNoB,SAAUxI,SAAS,EAAK5R,MAAMyS,cAAX,wBAAqD,QACtF3P,QAAQC,IAAIuX,EAAclH,OAAO,aACjCtQ,QAAQC,IAAImX,EAAU9G,OAAO,aAEzBmH,EAAapQ,IAAOuM,GACxB5T,QAAQC,IAAIwX,EAAWnH,OAAO,aAE3BmH,EAAWzI,SAASoI,IAAcI,EAAcnH,QAAQ+G,IACvD/S,SAASC,eAAe,eAAekI,SAAU,EACjD,EAAK/P,SAAS,CAAC+W,gBAAiB,eAChC,EAAK/W,SAAS,CAACia,aAAc,IAC7B,EAAKja,SAAS,CAACka,kBAAmB,MAGlC,EAAKla,SAAS,CAAEia,aAAc,IAC9B,EAAKja,SAAS,CAAE+W,gBAAiB,gBAxF+B,wBA6FvC,UAA9B,EAAKtW,MAAMiW,gBACV9O,SAASC,eAAe,eAAekI,SAAU,EAEjDnI,SAASC,eAAe,eAAekI,SAAU,EAGrD,EAAK/P,SAAS,CAAC+W,gBAAiB,eAChC,EAAK/W,SAAS,CAACia,aAAc,IAC7B,EAAKja,SAAS,CAACka,kBAAmB,IArGsC,4CAA1E,uDAxBiB,4CAl1BR,EAo9BnBe,iBAAmB,WACf,EAAKjb,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIib,gBAAiBjb,EAAUib,qBAx9BpB,EA69BnBC,mBAAqB,WACjB,EAAKC,iBACL,EAAKpb,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIob,iBAAkBpb,EAAUob,sBAl+BrB,EAu+BnBC,kBAAoB,WAChB,EAAKF,iBACL,EAAKpb,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIsb,gBAAiBtb,EAAUsb,qBA5+BpB,EAk/BnBC,iBAAmB,WACf,EAAKJ,iBACL,EAAKpb,SAAS,CAAEqb,iBAAkB,IAClC,EAAKrb,SAAS,CAAEub,gBAAiB,KAr/BlB,EAw/BnBE,uBAAyB,WACrB,EAAKzb,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIia,kBAAmBja,EAAUia,uBA5/BtB,EAigCnBkB,eAAiB,WACb,EAAKpb,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIyb,UAAWzb,EAAUyb,eArgCd,EA0gCnBC,oBAAsB,WAClB,EAAK3b,UAAS,SAAAC,GACV,kCACOA,GADP,IAEI2b,mBAAoB3b,EAAU2b,wBA9gCvB,EAmhCnBtQ,aAAe,WACX,EAAKtL,UAAS,SAAAC,GACZ,kCACOA,GADP,IAEIsL,cAAetL,EAAUsL,mBAvhChB,EA4hCjBxL,yBAA2B,WACzB,EAAKC,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIC,oBAAqBD,EAAUC,yBAhiCxB,EAqiCnBC,iBAAmB,WACf,EAAKH,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIG,YAAaH,EAAUG,iBAziChB,EA8iCnBC,8BAAgC,WAC5B,EAAKL,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIK,yBAA0BL,EAAUK,8BAljC7B,EAwjCnB8Y,wBAA0B,WAEnB,EAAKyC,YAAYC,SAChB,EAAKD,YAAYC,QAAQC,eAAe,CACrCC,SAAU,SACVC,MAAO,aA7jCC,EAkkCnB5C,yBAA2B,WAEpB,EAAK6C,WAAWJ,SACf,EAAKI,WAAWJ,QAAQC,eAAe,CACpCC,SAAU,SACVC,MAAO,aArkCd,EAAKxb,MAAQ,CACTmJ,WAAY,EACZgL,KAAO,IAAI/J,KACXkM,gBAAiB,aACjB1B,UAAY,GACZvS,WAAa,GACb4Y,UAAU,EACVL,iBAAiB,EACjBE,gBAAgB,EAChBnI,cAAe,GACfwI,mBAAmB,EACnBhY,YAAc,EAAK9E,MAAM2M,MAAMC,OAAOC,OACtCuP,gBAAiB,EACjBjB,aAAc,EACdC,kBAAkB,EAClBhI,gBAAgB,EAChBhS,oBAAqB,EACrBE,YAAa,EACbE,yBAAyB,GAE7B,EAAKub,YAAcM,IAAMC,YACzB,EAAKF,WAAaC,IAAMC,YAvBT,E,qDA4kCT,IAAD,OACL,OAEI,0BAAMxb,UAAU,QAChB,yBAAKA,UAAU,WACX,yBAAKA,UAAU,mBAEX,kBAACiL,EAAA,EAAD,CAAQC,MAAI,EAACE,OAAO,KAAK7M,MAAO,CAAC8M,gBAAgB,YAC7C,kBAACC,EAAA,EAAD,CAAaC,KAAI,WAAMxK,KAAKlB,MAAMmD,YAAjB,KAAiCzE,MAAO,CAAE6C,MAAM,UAAWvC,WAAW,QAAvF,yBAAsHkC,KAAKlB,MAAMsC,YACjI,kBAACqJ,EAAA,EAAD,CAAe1K,QAASC,KAAK2J,eAC7B,kBAACe,EAAA,EAAD,CAAUpN,OAAQ0C,KAAKlB,MAAM8K,aAAce,QAAM,GACjD,kBAACC,EAAA,EAAD,CAAK3L,UAAU,UAAU0L,QAAM,GAC3B,kBAACE,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAStN,MAAO,CAAC6C,MAAM,WAAYmK,KAAI,WAAMxK,KAAKlB,MAAMmD,YAAjB,kBAAvC,oBAEA,kBAAC4I,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAStN,MAAO,CAAC6C,MAAM,WAAYmK,KAAI,WAAMxK,KAAKlB,MAAMmD,YAAjB,mBAAvC,qBAEA,kBAACyY,EAAA,EAAD,CAAsBC,KAAG,EAACC,UAAQ,GAC9B,kBAACC,EAAA,EAAD,CAAgBxa,MAAM,UAAU7C,MAAO,CAAC6C,MAAM,WAAYsa,KAAG,EAACG,OAAK,GAAnE,kBACmB,kBAACC,EAAA,EAAD,CAAO1a,MAAM,UAAb,MAEnB,kBAAC2a,EAAA,EAAD,CAAc/b,UAAU,SAASgc,OAAK,GAClC,kBAACC,EAAA,EAAD,CAAcjc,UAAU,gBAAgBzB,MAAO,CAAC6C,MAAM,QAASN,QAASC,KAAK5B,0BAA7E,kBAGA,kBAAC8c,EAAA,EAAD,CAAcjc,UAAU,gBAAgBzB,MAAO,CAAC6C,MAAM,QAASN,QAASC,KAAKxB,kBAA7E,wBAGA,kBAAC0c,EAAA,EAAD,CAAcjc,UAAU,gBAAgBzB,MAAO,CAAC6C,MAAM,QAASN,QAASC,KAAKtB,+BAA7E,mBAKR,kBAACmM,EAAA,EAAD,KACI,kBAAC,IAAD,CAAMtK,GAAI,CAACC,SAAS,IAAD,OAAKR,KAAKlB,MAAMmD,YAAhB,OACf,kBAAC8I,EAAA,EAAD,CAAYvN,MAAO,CAAC6C,MAAM,WAAYN,QAAS,WAAKgC,aAAa0E,WAAW,cAA5E,iBAQXzG,KAAKlB,MAAMyR,eACR,6BACI,kBAAC,IAAD,CAAUjQ,MAAI,EACdC,GAAI,CACAC,SAAS,IAAD,OAAMR,KAAKlB,MAAMmD,YAAjB,SAGf,8BAET,yBAAKhD,UAAU,OACX,yBAAKA,UAAU,mDAEP,yBAAKA,UAAU,sCACX,yBAAKA,UAAS,MAASzB,MAAO,CAAC2d,aAAc,uBAAwBxb,QAAU,sBAAuB2L,OAAQ,WAAYvL,QAASC,KAAKwX,sBAAsB,WAC1J,yBAAKha,MAAO,CAAC4d,SAAU,WAAY3d,UAAW,SAAUI,MAAM,OAAQwd,UAAU,UAAWpc,UAAS,UAAkC,WAA5Be,KAAKlB,MAAMiW,gBAA8B,aAAe,eAC9J,4BAAQvX,MAAO,CAAC8d,OAAQ,qBAAsBrc,UAAU,cAAxD,0CAIJ,yBAAKA,UAAS,cAAsC,WAA5Be,KAAKlB,MAAMiW,gBAA8B,GAAK,mBACtE,yBAAK9V,UAAU,uBAEX,yBACIvB,IAAK8N,EAAQ,QAGrB,yBAAKvM,UAAU,YACX,2BACA,oDADA,kIAKA,6BACA,6BAECe,KAAKlB,MAAMyS,cACR,6BACA,oEAA0CvR,KAAKlB,MAAMyS,cAAX,iBAA1C,OACA,wEAA8CvR,KAAKlB,MAAMyS,cAAX,gBAA9C,QAEC,8BAEL,6BACA,2BACI,oCAAa,IADjB,sFAYR,yBAAKtS,UAAS,MAASzB,MAAO,CAAC+d,UAAU,uBAAwB5b,QAAS,sBAAuB2L,OAAQ,WAAYvL,QAASC,KAAKwX,sBAAsB,YACrJ,yBAAKha,MAAO,CAAC4d,SAAU,WAAY3d,UAAW,SAAUI,MAAM,OAAQwd,UAAU,UAAWpc,UAAS,UAAkC,UAA5Be,KAAKlB,MAAMiW,gBAA6B,aAAe,eAC7J,4BAAQvX,MAAO,CAAC8d,OAAQ,qBAAsBrc,UAAU,cAAxD,2CAIJ,yBAAKA,UAAS,cAAsC,UAA5Be,KAAKlB,MAAMiW,gBAA6B,GAAK,mBACrE,yBAAK9V,UAAU,uBACX,yBACIvB,IAAK8N,EAAQ,QAGrB,yBAAKvM,UAAU,YACX,2BACA,mDADA,wLAOA,6BACA,6BAECe,KAAKlB,MAAMyS,cACR,6BACA,oEAA0CvR,KAAKlB,MAAMyS,cAAX,kBAA1C,OACA,wEAA8CvR,KAAKlB,MAAMyS,cAAX,iBAA9C,QAEC,8BAEL,6BACA,2BACI,oCAAa,IADjB,uFAWR,+BAKZ,yBAAKtS,UAAS,sDAAkDe,KAAKlB,MAAMiW,gBAAmB,GAAK,uBAGhG,yBAAKvX,MAAO,CAACgC,QAAS,QAASqB,IAAKb,KAAKka,aACzC,yBAAK1c,MAAO,CAAC4d,SAAU,WAAY3d,UAAW,SAAUI,MAAM,OAAQwd,UAAU,SAAU/P,OAAQ,eAAgBrM,UAAS,UAAkC,WAA5Be,KAAKlB,MAAMiW,gBAA8B,aAAe,eACpL,kBAAC3U,EAAA,EAAD,CAAQC,MAAM,OAAO7C,MAAO,CAAC8d,OAAQ,oBAAqBhQ,OAAQ,gBAAlE,kDAIJ,yBAAKrM,UAAS,UAAoC,WAA9Be,KAAKlB,MAAMiW,gBAAgC,qBAAuB,KACtF,kBAAC,IAAD,CACIxI,SAAUvM,KAAKgT,iBACfvO,MAAOzE,KAAKlB,MAAMmU,OAEtB,yBAAKzV,MAAO,CAACC,UAAW,SAAU8B,OAAO,cACrC,4BAAQN,UAAU,aAAac,QAASC,KAAKga,qBAA7C,wBAMJ,yBAAK/a,UAAU,aACX,yBAAKA,UAAU,OAEX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,iBACX,0BAAMA,UAAU,wBADpB,YAKA,6BACI,0BAAMA,UAAU,sBADpB,UAKA,6BACI,0BAAMA,UAAU,oBADpB,kBAUZ,yBAAKA,UAAU,mBACX,yBAAKA,UAAS,6BAAuD,WAA9Be,KAAKlB,MAAMiW,gBAAgC,qBAAuB,KACzG,yBAAK9V,UAAU,aAGNe,KAAKlB,MAAMmJ,UACR,kBAAC,EAAD,CAAQ7K,QAAS4C,KAAKlB,MAAMmJ,YAE3BjI,KAAKlB,MAAM+U,kBAAsB,kGAC5B7T,KAAKlB,MAAM2S,cAAckC,SAAS3T,KAAKlB,MAAMkV,YAAchU,KAAKlB,MAAMkV,UACpE,iHACChU,KAAKlB,MAAM8U,cAAkB,6GAE5B5T,KAAKlB,MAAMuU,cACRrT,KAAKlB,MAAMyU,gBACPvT,KAAKlB,MAAMyU,eAAevT,KAAKlB,MAAMkV,WACjChU,KAAKlB,MAAM4U,UAAU7P,OAAO,EAAM7D,KAAKlB,MAAMyU,eAAevT,KAAKlB,MAAMkV,WAAW1Q,KAAI,SAACgU,EAAMrM,GAC1F,OAAG,EAAKnM,MAAM4U,UAAUC,SAAS2D,GAGzB,yBAAKrY,UAAU,gBACX,4BAAQA,UAAU,mBAAmBzB,MAAO,CAAC8N,OAAQ,YACjD,8BACKgM,EAAKxQ,cAQlB,yBAAK7H,UAAU,gBACX,4BAAQA,UAAY,EAAKH,MAAMgV,aAAewD,EAA3B,sCAA4EvX,QAAS,EAAKsX,iBAAiBvK,KAAK,EAAKwK,IACpI,8BACKA,EAAKxQ,iBAQzB9G,KAAKlB,MAAMiV,aACR/T,KAAKlB,MAAMyU,eAAevT,KAAKlB,MAAMkV,WAAW1Q,KAAI,SAACgU,EAAMrM,GAEvD,OACI,yBAAKhM,UAAU,gBACX,4BAAQA,UAAY,EAAKH,MAAMgV,aAAewD,EAA3B,sCAA4EvX,QAAS,EAAKsX,iBAAiBvK,KAAK,EAAKwK,IACpI,8BACKA,EAAKxQ,iBAOzB,8BAMZ,8BAEJ9G,KAAKlB,MAAMiU,WACP/S,KAAKlB,MAAMiU,UAAU/S,KAAKlB,MAAMkV,WAC5BhU,KAAKlB,MAAM4U,UAAU7P,OAAO,EAAM7D,KAAKlB,MAAMiU,UAAU/S,KAAKlB,MAAMkV,WAAW1Q,KAAI,SAACgU,EAAMrM,GACrF,OAAG,EAAKnM,MAAM4U,UAAUC,SAAS2D,GAGzB,yBAAKrY,UAAU,gBACX,4BAAQA,UAAU,mBAAmBzB,MAAO,CAAC8N,OAAQ,YACjD,8BACKgM,EAAKxQ,cAQlB,yBAAK7H,UAAU,gBACX,4BAAQA,UAAY,EAAKH,MAAMgV,aAAewD,EAA3B,sCAA4EvX,QAAS,EAAKsX,iBAAiBvK,KAAK,EAAKwK,IACpI,8BACKA,EAAKxQ,iBAQzB9G,KAAKlB,MAAMiV,aACR/T,KAAKlB,MAAMiU,UAAU/S,KAAKlB,MAAMkV,WAAW1Q,KAAI,SAACgU,EAAMrM,GAElD,OACI,yBAAKhM,UAAU,gBACX,4BAAQA,UAAY,EAAKH,MAAMgV,aAAewD,EAA3B,sCAA4EvX,QAAS,EAAKsX,iBAAiBvK,KAAK,EAAKwK,IACpI,8BACKA,EAAKxQ,iBAOzB,8BAMZ,gCAiBjC,6BAE2C,WAA9B9G,KAAKlB,MAAMiW,gBACZ,6BACI,yBAAK9V,UAAU,uBAAuBzB,MAAO,CAAC2B,WAAY,EAAGE,UAAW,QACpE,2BAAO7C,GAAG,cAAc2P,KAAK,WAAWI,SAAUvM,KAAK2X,wBACvD,2BAAOtL,IAAI,eAAX,6CACA,gCAKJ,yBAAKpN,UAAU,cACX,4BAAQA,UAAU,aAAac,QAASC,KAAKwZ,oBAA7C,8BAKG,kCAIoB,UAA9BxZ,KAAKlB,MAAMiW,gBACP/U,KAAKlB,MAAMiV,cAAgB/T,KAAKlB,MAAMgV,YACnC,6BACI,yBAAK7U,UAAU,uBAAuBzB,MAAO,CAAC2B,WAAY,EAAGE,UAAW,QACpE,2BAAO7C,GAAG,cAAc2P,KAAK,WAAWI,SAAUvM,KAAK2X,wBACvD,2BAAOtL,IAAI,eAAX,6CACA,gCAKJ,yBAAKpN,UAAU,cACX,4BAAQA,UAAU,aAAac,QAASC,KAAK2Z,mBAA7C,uBAMR,6BACI,gGAGP,sCAWzB,kBAACtc,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMya,eAAgBtZ,OAAQD,KAAKsZ,kBACnD,kBAACpZ,EAAA,EAAD,CAAaD,OAAQD,KAAKsZ,kBAA1B,QACA,kBAAC/b,EAAA,EAAD,mQAGA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKsZ,kBAAtC,UAKJ,kBAACjc,EAAA,EAAD,CAAOC,OAAS0C,KAAKlB,MAAMib,WAAa/Z,KAAKlB,MAAMgV,eAAkB9T,KAAKlB,MAAMib,UAAY/Z,KAAKlB,MAAM4a,iBAAkBzZ,OAAQD,KAAK6Z,kBAClI,kBAAC3Z,EAAA,EAAD,CAAaD,OAAQD,KAAK6Z,kBAA1B,SACA,kBAACtc,EAAA,EAAD,sEAGA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAK6Z,kBAAtC,UAIJ,kBAACxc,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMyZ,iBAAkBtY,OAAQD,KAAK8Z,wBACrD,kBAAC5Z,EAAA,EAAD,CAAaD,OAAQD,KAAK8Z,wBAA1B,SACA,kBAACvc,EAAA,EAAD,KACI,oIACA,kFACA,8GACA,0DAA+B,qCAA/B,sCAEJ,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAK8Z,wBAAtC,UAIJ,kBAACzc,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAM8a,gBAAkB5Z,KAAKlB,MAAMgV,YAAa7T,OAAQD,KAAK2Z,mBAC7E,kBAACzZ,EAAA,EAAD,CAAaD,OAAQD,KAAK2Z,mBAA1B,8BACA,kBAACpc,EAAA,EAAD,KAGayC,KAAKlB,MAAMyS,cACR,6BACI,2BACI,8CADJ,IAC4BvR,KAAKlB,MAAMwS,cAAc/L,MAErD,6BACA,2BACI,kDADJ,WAGA,6BACA,2BACI,qDADJ,IACmCvF,KAAKlB,MAAMmU,KAAKnM,WAAW0U,MAAM,EAAE,IAAI,IAAIxb,KAAKlB,MAAMgV,aAEzF,6BACA,2BACI,kDADJ,IAEqC,cAA5B9T,KAAKlB,MAAMsW,gBAAkC,sCAAYpV,KAAKlB,MAAMyS,cAAX,iBAAZ,OAAwE,sCAAYvR,KAAKlB,MAAMyS,cAAX,gBAAZ,qBAIjI,8BAKb,yBAAK/T,MAAO,CAACC,UAAW,SAAU4B,UAAU,QACxC,4BAAQJ,UAAU,qBAAqBc,QAASC,KAAK6U,iBAArD,eAKZ,kBAACxX,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAM4a,gBAAiBzZ,OAAQD,KAAKwZ,oBACxD,kBAACtZ,EAAA,EAAD,CAAaD,OAAQD,KAAKwZ,oBAA1B,+BACI,kBAACjc,EAAA,EAAD,KAGayC,KAAKlB,MAAMyS,cACR,6BACI,2BACI,8CADJ,IAC4BvR,KAAKlB,MAAMwS,cAAc/L,MAErD,6BACA,2BACI,kDADJ,YAGA,6BACA,2BACI,qDADJ,KACoC,IAAI2D,MAAQpC,WAAW0U,MAAM,EAAE,IAAI,IAAIvS,IAAO,IAAIC,MAAQgJ,OAAO,OAErG,6BACA,2BACI,kDADJ,IAEqC,cAA5BlS,KAAKlB,MAAMsW,gBAAkC,sCAAYpV,KAAKlB,MAAMyS,cAAX,kBAAZ,OAAyE,sCAAYvR,KAAKlB,MAAMyS,cAAX,iBAAZ,qBAIlI,8BAKb,yBAAK/T,MAAO,CAACC,UAAW,SAAU4B,UAAU,QACxC,4BAAQJ,UAAU,qBAAqBc,QAASC,KAAK6U,iBAArD,eAKZ,kBAACxX,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMmb,kBAAmBha,OAAQD,KAAKga,qBAC1D,kBAAC9Z,EAAA,EAAD,CAAaD,OAAQD,KAAKga,qBAA1B,gCACI,kBAACzc,EAAA,EAAD,KACI,6BACI,2BACI,4EAEJ,6BAEA,2BAESyC,KAAKlB,MAAM6E,UACR3D,KAAKlB,MAAM6E,UAAUL,KAAI,SAACJ,EAAK+H,GAC3B,OACI,6BACI,8BAAM,2BAAI5H,OAAOjH,KAAK8G,GAAK,GAArB,KAAN,UAGSA,EAAIG,OAAOjH,KAAK8G,GAAK,IAElBA,EAAIG,OAAOjH,KAAK8G,GAAK,IAAII,KAAI,SAACuI,EAAEjI,GAC5B,OACI,8BACI,8BAAOiI,EAAEC,UACT,4CACA,8BAAOD,EAAEE,WACT,8CAIX,8BAEb,iCAKX,iCAOrB,kBAAC5L,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKga,qBAAtC,UAIR,kBAAC3c,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMP,mBAAoB0B,OAAQD,KAAK5B,0BAC/C,kBAAC8B,EAAA,EAAD,CAAaD,OAAQD,KAAK5B,0BAA1B,qBACA,kBAACb,EAAA,EAAD,KACA,2BACA,+EACA,khBAEA,6BACA,kDACA,gcAEA,6BACA,4DACA,gVAEA,6BACA,qDACA,mJAEA,6BACA,kDACA,0aAEA,6BACA,kDACA,+0BAEA,6BAEA,+DACA,24CAEA,6BAEA,mDACA,uOAEA,6BAEA,kDACA,4IAEA,6BAEA,yDACA,wTAEA,6BAEA,yEACA,imBAEA,6BAEA,gEACA,0UACA,8CACA,4FAIA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAK5B,0BAAtC,UAIJ,kBAACf,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAML,WAAYwB,OAAQD,KAAKxB,kBAC/C,kBAAC0B,EAAA,EAAD,CAAaD,OAAQD,KAAKxB,kBAA1B,8BACA,kBAACjB,EAAA,EAAD,KACA,iiCACA,2BAAG,4CACH,0RAIA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKxB,kBAAtC,UAIJ,kBAACnB,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMH,wBAAyBsB,OAAQD,KAAKtB,+BAC5D,kBAACwB,EAAA,EAAD,CAAaD,OAAQD,KAAKtB,+BAA1B,uBACA,kBAACnB,EAAA,EAAD,KACA,mQACA,wJAEA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKtB,+BAAtC,UAKPsB,KAAKlB,MAAMiY,kBACR,kBAAC,IAAD,CAAUzW,MAAI,EACVC,GAAI,CACAC,SAAS,IAAD,OAAMR,KAAKlB,MAAMmD,YAAjB,uBAEf,8BAET,yBAAKpB,IAAKb,KAAKua,oB,GAlsDL9Z,c,wCCqEXgb,OA1Ff,SAAsBte,GAClB,IAAMue,EAAe,uCAAG,uBAAAvd,EAAA,+DAASwd,KAEjB,2BAFQ,kBAGb,CAAEC,IADG,6BAFQ,2CAAH,sDAUfC,EAAmB,SAACC,GA2CtB,OA1CA3e,EAAM4e,gBAAgB,GAGtBC,QAAQC,WAAWH,EAASxY,KAAI,SAAC4Y,EAAGjR,GAEfxO,EAAS0f,UAAUtb,MAAMub,MAAzB,sBAA8Cjf,EAAMyZ,UAApD,YAAiEsF,EAAEG,KAAK9W,OAAQ+W,IAAIJ,EAAEG,KAAKH,EAAEP,MAC7GnU,MACG,SAAC+U,GACG3a,QAAQC,IAAIoJ,GACZsR,EAAS1b,IAAI2b,iBAAiBhV,MAAK,SAACiV,GAMpC,OALA7a,QAAQC,IAAI,oBAAqB4a,GACjCtf,EAAMuf,eAAeD,GAErBtf,EAAM4e,gBAAgB,GAES,SAA5BG,EAAEG,KAAKlQ,KAAKnF,UAAU,EAAE,GAEhB7J,EAAMwf,mBAGc,SAA5BT,EAAEG,KAAKlQ,KAAKnF,UAAU,EAAE,GAEhB7J,EAAMyf,wBAFjB,QAQNpV,MACE,SAAC+U,GACG3a,QAAQC,IAAIia,EAASjY,QACrBjC,QAAQC,IAAI,wBACToJ,GAAS6Q,EAASjY,OAAO,IACxB1G,EAAM0f,oBACN1f,EAAM2f,mCAQfC,EAAajB,IAGlBpX,EAAY,uCAAG,WAAOsY,EAAOlB,GAAd,SAAA3d,EAAA,sDACjBhB,EAAM4e,gBAAgB,GACtB5e,EAAM0f,oBACN1f,EAAM4e,gBAAgB,GAEtBF,EAAiBC,GALA,2CAAH,wDAQZiB,EAAe,SAACjB,GAElBA,EAAS3D,SAAQ,SAAA+D,GAAC,OAAIA,EAAEe,YAExB9f,EAAM4e,gBAAgB,IAG1B,OACI,kBAAC,KAAD,CACIL,gBAAiBA,EACjBwB,eApEmB,SAAC,EAAUC,GAAY,IAApBxB,EAAmB,EAAnBA,KAC1B/Z,QAAQC,IAAIsb,EAAQxB,IAoEhByB,SAAU1Y,EACV2Y,OAAO,kBACPC,oBAAqB,SACrBC,aAAc,SAACP,EAAOQ,GAAR,OAAmBA,EAAMC,OAAS,4BAA8B,yCAC9EC,OAAQ,CACJC,eAAgB,CAAEre,YAAa,MAAOgL,gBAAiB,QACvDsT,WAAY,SAACZ,EAAOQ,GAAR,OAAmBA,EAAMC,OAAS,CAAEpd,MAAO,OAAU,IACjEwd,aAAc,CAAChgB,MAAO,IAAKD,OAAQ,IAAKkgB,SAAS,IAAKC,UAAU,S,4DC7CjEC,GAhCE,SAAA7gB,GAIXA,EAFFC,QAFsB,YAIpBD,EAJoB,aAUxB,OACE,kBAACE,EAAA,EAAD,CAAOC,OAAQH,EAAMC,SACjB,kBAACG,EAAA,EAAD,KACI,yBAAKC,MAAO,CAACC,UAAU,WACnB,yBAAKC,IAAKC,KAAkBC,OAAQ,IAAKC,MAAO,MAChD,uBAAGL,MAAO,CAACM,WAAW,QAASC,SAAS,GAAIC,WAAY,WAAxD,0BASJ,kBAACmC,EAAA,EAAD,KACJ,kBAAQC,EAAA,EAAR,CAAeC,MAAM,UAAUN,QAAS5C,EAAM8gB,mBAA9C,Y,qBCZFC,GAAa,CACfC,kBAAmB,CAEjBC,WAAY,CAAEC,IAAK,IAAMC,IAAK,KAC9BC,MAAO,GAETC,QAAS,CACPJ,WAAY,CAAEC,IAAK,IAAMC,IAAK,MAC9BC,MAAO,GAETE,OAAQ,CACNL,WAAY,CAAEC,IAAK,KAAMC,IAAK,KAC9BC,MAAO,GAETG,OAAQ,CACNN,WAAY,CAAEC,IAAK,IAAKC,IAAK,GAC7BC,MAAO,IAgzBEI,G,kDA1yBX,WAAYxhB,GAAO,IAAD,8BACd,cAAMA,IAwBVe,kBAzBkB,sBAyBE,sBAAAC,EAAA,6DAEhB,EAAKE,SAAS,CAAC4J,WAAW,IAFV,SAGV,EAAK2W,4BAHK,cAIhB,EAAK1O,kBAJW,SAKV,EAAK2O,6BALK,2CAzBF,EAiClBxO,mBAjCkB,sBAiCG,sBAAAlS,EAAA,sEACX,EAAK0gB,6BADM,2CAjCH,EAsClBA,2BAtCkB,sBAsCW,kCAAA1gB,EAAA,yDACnBmS,EAAKnO,eAAeH,QAAQ,kBAClCJ,QAAQC,IAAIyO,GACZ1O,QAAQC,IAAI,8BACRyO,EAJqB,gCAKf,EAAKjS,SAAS,CAAEkS,gBAAgB,IALjB,OAMrBxO,aAAa0E,WAAW,YANH,0BASjB+J,EAAgBvH,IAAO,IAAIC,MAC3BuH,EAAkBxH,IAAOyH,SAASJ,IAClCwO,EAAcrO,EAAgBE,IAAI,GAAI,KAC1C/O,QAAQC,IAAI2O,GACZ5O,QAAQC,IAAI4O,GACZ7O,QAAQC,IAAIid,IACTA,EAAYlO,SAASJ,GAfH,kCAgBX,EAAKnS,SAAS,CAAEkS,gBAAgB,IAhBrB,QAiBjBxO,aAAa0E,WAAW,YAjBP,wBAoBjBtE,eAAe4D,QAAQ,mBAAoByK,GApB1B,4CAtCX,EA+DlBoO,0BAA4B,WACxB,IAAM/N,EAAK9O,aAAaC,QAAQ,YAC1BO,EAAMR,aAAaC,QAAQ,qBAC3B8O,EAAM/O,aAAaC,QAAQ,mBAC3B+O,EAAMhP,aAAaC,QAAQ,yBAC3BgP,EAAMjP,aAAaC,QAAQ,uBAC3BkP,EAAKnP,aAAaC,QAAQ,UAC1B+c,EAAKhd,aAAaC,QAAQ,gBAC1Bgd,EAAKjd,aAAaC,QAAQ,gBAC1Bid,EAAKld,aAAaC,QAAQ,mBAC1Bkd,EAAKnd,aAAaC,QAAQ,mBAC1Bmd,EAAMpd,aAAaC,QAAQ,mBAC3BmP,EAAOpP,aAAaC,QAAQ,kCAC5BoP,EAAOrP,aAAaC,QAAQ,mCAClCJ,QAAQC,IAAIsd,GACZ,IAAIC,EAAK,GACD,aAALD,IACCC,EAAKpc,KAAKC,MAAMkc,IAGpB,EAAK9gB,SAAS,CAACyC,SAAW+P,IAC1B,EAAKxS,SAAS,CAACgT,OAAQH,IACvB,EAAK7S,SAAS,CAAEiT,cAAe,CAC3B/L,KAAOhD,EACP/F,GAAIsU,EACJtL,SAAUuL,EACVrL,OAAQsL,KAGZpP,QAAQC,IAAIU,GACZX,QAAQC,IAAIiP,GACZlP,QAAQC,IAAIkP,GAIZ,EAAK1S,SAAS,CAACghB,aAAeN,IAC9B,EAAK1gB,SAAS,CAAC0V,aAAe,IAAI7K,KAAK8V,KACvC,EAAK3gB,SAAS,CAAC0W,gBAAkBkK,EAAGjY,UAAU,EAAE,GAAGsY,cAAcL,EAAGjY,UAAU,KAC9E,EAAK3I,SAAS,CAAC+W,gBAAkB8J,IACjC,EAAK7gB,SAAS,CAACyY,gBAAkBsI,IACjC,EAAK/gB,SAAS,CAACgD,+BAAiC8P,IAChD,EAAK9S,SAAS,CAACiD,gCAAkC8P,KAxGnC,EA4GlBlB,gBA5GkB,sBA4GA,4BAAA/R,EAAA,sDACVwC,EAAQlE,EAASmE,WAAWC,IAApB,kBAAmC,EAAK/B,MAAMgC,WAC1Dc,QAAQC,IAAI,EAAK/C,MAAMgY,iBAOvBnW,EAAMI,KAAK,SAASyG,MAAK,SAACxG,GACtB,IAAIC,EAAOD,EAAKE,MACZqe,EAAY,GACZC,EAAY,GACZC,EAAW,GACf7d,QAAQC,IAAIZ,GACZ,EAAK5C,SAAS,CAAC8C,WAAaF,IAC5B,EAAK5C,SAAS,CAAC+C,WAAYH,EAAI,OAC/B,IAAI,IAAI2C,EAAE,EAAEA,EAAEP,OAAOjH,KAAK6E,EAAI,mBAAuB4C,OAAOD,IAAI,CAC5D,IAAI8b,EAAY,GAIhB,GAHAH,EAAUjf,KAAKW,EAAI,kBAAsB2C,EAAE,GAA5B,MACf4b,EAAUlf,KAAKW,EAAI,kBAAsB2C,EAAE,GAA5B,MAE4B,QAAxC3C,EAAI,kBAAsB2C,EAAE,GAA5B,KACC8b,EAAUpf,KAAK,QAGf,IAAI,IAAI0D,EAAE,EAAEA,EAAE/C,EAAI,kBAAsB2C,EAAE,GAA5B,QAA0CC,OAAO,EAAEG,IAC7D0b,EAAUpf,KAAKW,EAAI,kBAAsB2C,EAAE,GAA5B,QAA0CI,EAAE,IAInEyb,EAASnf,KAAKof,GASlB,GALA,EAAKrhB,SAAS,CAAEshB,mBAAoB1e,EAAI,qBACxC,EAAK5C,SAAS,CAAEuhB,0BAA2BL,IAC3C,EAAKlhB,SAAS,CAAEwhB,sBAAuBL,IACvC,EAAKnhB,SAAS,CAAEyhB,wBAA0BL,IAET,aAA9B,EAAK3gB,MAAMsW,gBAA+B,CACzC,IAAI2K,EAAmB,GACnBC,EAAkB,GACtBpe,QAAQC,WAAW,EAAK/C,MAAMgY,iBAC9B,IAAImJ,EAA0B,EAAKnhB,MAAMgY,gBAAX,KAC1BoJ,EAA0B,EAAKphB,MAAMgY,gBAAX,UAE9B,GADAlV,QAAQC,IAAI,EAAK/C,MAAMgY,gBAAX,oBACT,EAAKhY,MAAMgY,gBAAX,mBACH,CACIkJ,EAAkBD,EAAiBI,OAAO,EAAKrhB,MAAMgY,gBAAX,oBAC1CiJ,EAAmB,EAAKjhB,MAAMgY,gBAAX,mBACnB,IAAIsJ,EAA6B,EAAKthB,MAAMgY,gBAAX,6BACjC,GAAG,EAAKhY,MAAMgY,gBAAX,MAAoC,CAGnC,IAFA,IAAIuJ,EAA8B,EAAKvhB,MAAMgY,gBAAX,aAC9BwJ,EAA2B,GACvB1c,EAAE,EAAEA,EAAEP,OAAOjH,KAAKikB,GAA6Bxc,OAAOD,IAC1D0c,EAAyB1c,GAAKyc,EAA4Bzc,GAE9D,EAAKvF,SAAS,CAACiiB,6BAEnBP,EAAiBQ,QACjB,EAAKliB,SAAS,CAAC+hB,+BACf,EAAK/hB,SAAS,CAAC0hB,qBACf,EAAK1hB,SAAS,CAAC2hB,oBAEnB,EAAK3hB,SAAS,CAAE4hB,4BAChB,EAAK5hB,SAAS,CAAE6hB,4BAKpB,IAAIpL,EAAa,EAAKhW,MAAMiV,aAC5BnS,QAAQC,IAAIiT,GACZ,IAAIX,EAAU,CAACC,KAAM,UAAWC,MAAO,UAAWC,IAAK,WACnDC,EAAaO,EAAWN,mBAAmB,QAASL,GACpDiC,EAAc7B,EAAWE,QAAQ,MAAM,IAGvC6B,GAFc/B,EAAWE,QAAQ,MAAM,KAE1B,EAAK3V,MAAMugB,aAAa5K,QAAQ,MAAO,KAIlDe,EAAU,IAAItM,KAEhBuM,EAAgBD,EAAQhB,mBAAmB,QAASL,GACpD8C,EAAiBxB,EAAchB,QAAQ,MAAM,IAC7C8B,EAAiBd,EAAchB,QAAQ,MAAM,KAO7CiC,GAFgBlB,EAAQgB,mBAAmB,SAC9BvN,IAAOuM,GACUtD,OAAO,OACrCyE,EAAiBD,EAAiBjC,QAAQ,MAAO,IAChCiC,EAAiBjC,QAAQ,MAAO,KACrD7S,QAAQC,IAAI0U,EAAe,IAAII,GAE/B,IAAI6J,EAAS,SAAS,EAAK1hB,MAAMuS,OAAO,IAAI,EAAKvS,MAAMgC,SAAS,IAAIsV,EAAY,IAAIE,EAAW,KAAK,EAAKxX,MAAMwS,cAAc9U,GAEzH2a,EAAa,QAAQ,EAAKrY,MAAMuS,OAAO,IAAI,EAAKvS,MAAMgC,SAAS,IAAImW,EAAe,IAAIN,EAE1F/U,QAAQC,IAAIsV,GAEZ,EAAK9Y,SAAS,CAAE8Y,eAChB,EAAK9Y,SAAS,CAAEuY,UAAW4J,OAE5BhZ,KAAK,EAAKnJ,SAAS,CAAC4J,WAAW,KA3GpB,2CA5GA,EA0NlBwY,mBAAqB,SAACld,GAAD,OAAS,SAACgB,GAE3B,IAAImc,EAAMnc,EAAMC,OAAOC,MAKvB,GAJA,EAAKpG,SAAL,eAAiBkF,EAAMmd,IACvB9e,QAAQC,IAAI0B,GACZ3B,QAAQC,IAAI6e,GAEW,QAApBnd,EAAIyD,UAAU,EAAE,GAAW,CAC1B,IAAID,EAAG,UAAMxD,EAAIyD,UAAU,IAApB,OAAyB0Z,GAC5BzV,EAAQyF,SAAS,GAAD,OAAInN,EAAIyD,UAAU,KAClC2Z,EAAoB,EAAK7hB,MAAM6hB,kBAEnCA,EAAkB1V,EAAM,GAAKlE,EAC7B,EAAK1I,SAAS,CAAEsiB,sBAEpB,GAAuB,QAApBpd,EAAIyD,UAAU,EAAE,GAAW,CAC1B,IAAID,EAAG,UAAMxD,EAAIyD,UAAU,IAApB,OAAyB0Z,GAC5BzV,EAAQyF,SAAS,GAAD,OAAInN,EAAIyD,UAAU,KAClC2Z,EAAoB,EAAK7hB,MAAM6hB,kBAEnCA,EAAkB1V,EAAM,GAAKlE,EAC7B,EAAK1I,SAAS,CAAEsiB,yBA/ON,EAmPlBC,oBAnPkB,sBAmPI,kDAAAziB,EAAA,yDACb,EAAKW,MAAM+hB,eADE,gCAGR,EAAKxiB,SAAS,CAAEyiB,eAAgB,IAHxB,uBAIR,EAAKziB,SAAS,CAAE0iB,oBAAqB,IAJ7B,6CAOR,EAAK1iB,SAAS,CAAEyiB,eAAgB,IAPxB,UASd,EAAKhiB,MAAMgiB,cATG,wBAUV3b,EAAU,GAEV2P,EAAa,EAAKhW,MAAMiV,aACxBI,EAAU,CAACC,KAAM,UAAWC,MAAO,UAAWC,IAAK,WACnDC,EAAaO,EAAWN,mBAAmB,QAASL,GACpDiC,EAAc7B,EAAWE,QAAQ,MAAM,IACzBF,EAAWE,QAAQ,MAAM,KAEvC6B,EAAa,EAAKxX,MAAMugB,aAAa5K,QAAQ,MAAO,IAIlDe,EAAU,IAAItM,KAEhBuM,EAAgBD,EAAQhB,mBAAmB,QAASL,GACnCsB,EAAchB,QAAQ,MAAM,IAC5BgB,EAAchB,QAAQ,MAAM,KAE7Be,EAAQgB,mBAAmB,SAC3CC,EAAaxN,IAAOuM,GACpBkB,EAAmBD,EAAWvE,OAAO,MACpBwE,EAAiBjC,QAAQ,MAAO,IAChCiC,EAAiBjC,QAAQ,MAAO,KAIrD7S,QAAQC,IAAI,kCAEC,SAAS,EAAK/C,MAAMuS,OAAO,IAAI,EAAKvS,MAAMgC,SAAS,IAAIsV,EAAY,IAAIE,EAAW,KAAK,EAAKxX,MAAMwS,cAAc9U,GAE7HoF,QAAQC,IAAI,EAAK/C,MAAMkhB,iBACvBpe,QAAQC,IAAI,EAAK/C,MAAMwhB,0BACvB1e,QAAQC,IAAIoH,IAAO,IAAIC,MAAQgJ,OAAO,mBAClC8O,EAAa,CACb,KAAS,EAAKliB,MAAMkhB,gBACpB,eAAmB,EAAKlhB,MAAMshB,2BAA2B,KAAK,EAAKthB,MAAM+hB,eAAe,WAAW5X,IAAO,IAAIC,MAAQgJ,OAAO,oBAAoB,KAGjJ+O,EAAW,GAEXA,EADD,EAAKniB,MAAMwhB,yBACC,CACP,8BAAe,EAAKxhB,MAAMwhB,0BAA1B,CAAoD,EAAKxhB,MAAMoiB,cAC/D,MAAU,EAAKpiB,MAAMqiB,aAGd,CACP,OAAW,EAAKriB,MAAMoiB,YACtB,MAAU,EAAKpiB,MAAMqiB,aAI7Bhc,EAAQ,gBAAD,OAAiB,EAAKrG,MAAM8X,UAA5B,mBAAyDoK,EAChE7b,EAAQ,gBAAD,OAAiB,EAAKrG,MAAM8X,UAA5B,WAAiDqK,EA9D1C,UA+DRxkB,EAASmE,WAAWC,MAAMiF,OAAOX,GA/DzB,QAiEdvD,QAAQC,IAAI,yBAEZ,EAAKxD,SAAS,CAAC+iB,aAAa,IAnEd,4CAnPJ,EA0TlBC,kBA1TkB,sBA0TE,8DAAAljB,EAAA,sDAGhB,IADImjB,GAAO,EACH1d,EAAE,EAAEA,EAAE,EAAK9E,MAAM8gB,0BAA0B/b,OAAOD,IACtDhC,QAAQC,IAAI+B,EAAE,IAAI,EAAK9E,MAAM6hB,kBAAkB/c,SACT2d,GAAnC,EAAKziB,MAAM6hB,kBAAkB/c,KAC5B,EAAK9E,MAAM6hB,kBAAkB/c,IAAK,GAEtC0d,EAAOA,GAAQ,EAAKxiB,MAAM6hB,kBAAkB/c,GAC5ChC,QAAQC,IAAIyf,GATA,GAWXA,GAAQ,EAAKxiB,MAAM+hB,eAXR,gCAaN,EAAKxiB,SAAS,CAAEyiB,eAAgB,IAb1B,uBAcN,EAAKziB,SAAS,CAAE0iB,oBAAqB,IAd/B,+CAiBN,EAAK1iB,SAAS,CAAEyiB,eAAgB,IAjB1B,WAoBhBlf,QAAQC,IAAI,EAAK/C,MAAMgiB,eACnB,EAAKhiB,MAAMgiB,cArBC,iBAuDZ,GAhCAlf,QAAQC,IAAI,2CACRsD,EAAU,GACV2P,EAAa,EAAKhW,MAAMiV,aACxBI,EAAU,CAACC,KAAM,UAAWC,MAAO,UAAWC,IAAK,WACnDC,EAAaO,EAAWN,mBAAmB,QAASL,GACpDiC,EAAc7B,EAAWE,QAAQ,MAAM,IACzBF,EAAWE,QAAQ,MAAM,KAEvC6B,EAAa,EAAKxX,MAAMugB,aAAa5K,QAAQ,MAAO,IAIlDe,EAAU,IAAItM,KAEhBuM,EAAgBD,EAAQhB,mBAAmB,QAASL,GACnCsB,EAAchB,QAAQ,MAAM,IAC5BgB,EAAchB,QAAQ,MAAM,KAE7Be,EAAQgB,mBAAmB,SAC3CC,EAAaxN,IAAOuM,GACpBkB,EAAmBD,EAAWvE,OAAO,MACpBwE,EAAiBjC,QAAQ,MAAO,IAChCiC,EAAiBjC,QAAQ,MAAO,KAIrD7S,QAAQC,IAAI,wBAEC,SAAS,EAAK/C,MAAMuS,OAAO,IAAI,EAAKvS,MAAMgC,SAAS,IAAIsV,EAAY,IAAIE,EAAW,KAAK,EAAKxX,MAAMwS,cAAc9U,GAEzHglB,EAAU,GAEX,EAAK1iB,MAAM8gB,0BACV,IAAQhc,EAAE,EAAEA,EAAE,EAAK9E,MAAM8gB,0BAA0B/b,OAAOD,IAAI,CAI1D,IAHI6d,EAAS,GACbD,EAAQ5d,EAAE,GAAK,GAEPI,EAAE,EAAEA,EAAE,EAAKlF,MAAM6hB,kBAAkB9c,OAAOG,IAE9CpC,QAAQC,IAAI,EAAK/C,MAAM6hB,mBACpB,EAAK7hB,MAAM6hB,kBAAkB3c,GAAGgD,UAAU,EAAE,KAAOpD,EAAE,GAAGkD,aACvDlF,QAAQC,IAAImC,EAAE,EAAKlF,MAAM6hB,kBAAkB3c,IAC3Cyd,EAAOnhB,KAAK,EAAKxB,MAAM6hB,kBAAkB3c,GAAGgD,UAAU,KAG9Dwa,EAAQ5d,EAAE,GAAV,KAAuB,EAAK9E,MAAM8gB,0BAA0Bhc,GAC5D4d,EAAQ5d,EAAE,GAAV,IAAsB6d,EAAO,GArEzB,OAyERT,EAAa,CACb,KAASQ,EACT,eAAmB,EAAK1iB,MAAM+hB,eAAe,WAAW5X,IAAO,IAAIC,MAAQgJ,OAAO,oBAAoB,KAGtG+O,EAAW,CACX,OAAW,EAAKniB,MAAMoiB,YACtB,MAAU,EAAKpiB,MAAMqiB,aAGzBhc,EAAQ,gBAAD,OAAiB,EAAKrG,MAAM8X,UAA5B,mBAAyDoK,EAChE7b,EAAQ,gBAAD,OAAiB,EAAKrG,MAAM8X,UAA5B,WAAiDqK,EApF5C,UAqFNxkB,EAASmE,WAAWC,MAAMiF,OAAOX,GArF3B,QAuFZvD,QAAQC,IAAI,yBAEZ,EAAKxD,SAAS,CAAC+iB,aAAa,IAzFhB,4CA1TF,EAuZlBzE,iBAAmB,WACf,EAAKte,UAAS,SAACC,GAGX,MAAM,CACF4iB,YAHa,uBAAO5iB,EAAU4iB,aAAjB,CAA8B5iB,EAAUojB,WAIrDC,WAHY,uBAAOrjB,EAAUqjB,YAAjB,CAA6B,CAAE,SAAarjB,EAAUojB,SAAU,UAAcpjB,EAAUojB,iBA1Z9F,EAmalB9E,iBAAmB,WACf,EAAKve,UAAS,SAACC,GAEX,MAAM,CACF6iB,YAFa,uBAAO7iB,EAAU6iB,aAAjB,CAA8B7iB,EAAUojB,gBAra/C,EA4alBhF,eAAiB,SAACd,GACd,EAAKvd,SAAS,CAAEqjB,SAAU9F,KA7aZ,EAgblBiB,kBAAoB,WAChB,EAAKxe,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIsjB,aAActjB,EAAUsjB,kBApblB,EAyblB7F,gBAAkB,SAACzW,GACf1D,QAAQC,IAAI,EAAK/C,MAAM8iB,YAAY,IAAItc,IA1bzB,EA6blB2Y,kBAAoB,WAChB,EAAK5f,UAAS,SAAAC,GACV,kCACOA,GADP,IAEI8iB,aAAc9iB,EAAU8iB,iBAGhC,EAAK/iB,SAAS,CAACwjB,eAAe,KApchB,EAuclBC,oBAAsB,WAClBlgB,QAAQC,IAAI,oBACZ,EAAKkgB,2BAzcS,EA4clBA,wBAA0B,WACtB,EAAK1jB,UAAS,SAAAC,GACV,kCACOA,GADP,IAEI0jB,mBAAoB1jB,EAAU0jB,wBAhdxB,EAqdlBnI,iBAAmB,WACf,EAAKxb,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIyiB,oBAAqBziB,EAAUyiB,yBAzdzB,EA8dlBkB,sBAAwB,WACpB,EAAK5jB,UAAS,SAAAC,GACV,kCACOA,GADP,IAEI4jB,kBAAmB5jB,EAAU4jB,uBAlevB,EAuelBpF,yBAA2B,WACvB,EAAKze,UAAS,SAAAC,GACV,kCACOA,GADP,IAEI6jB,oBAAqB7jB,EAAU6jB,yBA3ezB,EAgflBxY,aAAe,WACX,EAAKtL,UAAS,SAAAC,GACZ,kCACOA,GADP,IAEIsL,cAAetL,EAAUsL,mBAlf/BhI,QAAQC,IAAI1E,EAAM4B,SAASD,OAC3B,EAAKA,MAAQ,CACTmJ,WAAY,EACZ6Y,eAAgB,EAChBC,oBAAqB,EACrBJ,kBAAmB,GACnBe,SAAW,GACXR,YAAc,GACdC,YAAc,GACdxB,mBAAoB,GACpBiC,aAAa,EACbR,aAAa,EACbS,eAAe,EACf5f,YAAc,EAAK9E,MAAM2M,MAAMC,OAAOC,OACtCgY,mBAAoB,EACpBL,WAAa,GACbpR,gBAAgB,GAlBN,E,qDA2fT,IAAD,OACJ,OACA,0BAAMtR,UAAU,QAChB,yBAAKA,UAAU,WACX,yBAAKA,UAAU,mBACX,kBAACiL,EAAA,EAAD,CAAQC,MAAI,EAACE,OAAO,KAAK7M,MAAO,CAAC8M,gBAAgB,YAC7C,kBAACC,EAAA,EAAD,CAAaC,KAAI,WAAMxK,KAAKlB,MAAMmD,YAAjB,KAAiCzE,MAAO,CAAE6C,MAAM,UAAWvC,WAAW,QAAvF,yBAAsHkC,KAAKlB,MAAMsC,YACjI,kBAACqJ,EAAA,EAAD,CAAe1K,QAASC,KAAK2J,eAC7B,kBAACe,EAAA,EAAD,CAAUpN,OAAQ0C,KAAKlB,MAAM8K,aAAce,QAAM,GACjD,kBAACC,EAAA,EAAD,CAAK3L,UAAU,UAAU0L,QAAM,GAC3B,kBAACE,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAStN,MAAO,CAAC6C,MAAM,WAAYmK,KAAI,WAAMxK,KAAKlB,MAAMmD,YAAjB,kBAAvC,oBAEA,kBAAC4I,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAStN,MAAO,CAAC6C,MAAM,WAAYmK,KAAI,WAAMxK,KAAKlB,MAAMmD,YAAjB,mBAAvC,qBAEA,kBAAC4I,EAAA,EAAD,KACI,kBAAC,IAAD,CAAMtK,GAAI,CAACC,SAAS,IAAD,OAAKR,KAAKlB,MAAMmD,YAAhB,OACf,kBAAC8I,EAAA,EAAD,CAAYvN,MAAO,CAAC6C,MAAM,WAAYN,QAAS,WAAKgC,aAAa0E,WAAW,cAA5E,iBAOXzG,KAAKlB,MAAMyR,eACR,6BACI,kBAAC,IAAD,CAAUjQ,MAAI,EACdC,GAAI,CACAC,SAAS,IAAD,OAAMR,KAAKlB,MAAMmD,YAAjB,SAGf,8BAET,yBAAKhD,UAAU,OAEX,yBAAKiN,MAAM,iDAG0B,cAA5BlM,KAAKlB,MAAMsW,gBACR,4BAAKpV,KAAKlB,MAAMiW,gBAAhB,gBACC,4BAAK/U,KAAKlB,MAAMsW,gBAAhB,IAAkCpV,KAAKlB,MAAMiW,gBAA7C,gBAIT,yBAAK7I,MAAM,uBACP,yBAAKjN,UAAU,OACX,yBAAKiN,MAAM,gCACP,yBAAKA,MAAM,gBAGP,6BAESlM,KAAKlB,MAAMwS,cAC2B,aAA9BtR,KAAKlB,MAAMsW,gBACR,qCAAWpV,KAAKlB,MAAMwS,cAAc/L,KAAK,KAAzC,6BAEA,qCAAWvF,KAAKlB,MAAMwS,cAAc/L,KAAK,KAAzC,gCAGR,kCAM2B,aAA9BvF,KAAKlB,MAAMsW,gBACPpV,KAAKlB,MAAM8gB,0BACR5f,KAAKlB,MAAM8gB,0BAA0Btc,KAAI,SAACJ,EAAK+H,GAExC,OACI,yBAAKiB,MAAM,gBACP,2BAAIhJ,GAEC,EAAKpE,MAAMihB,iBAUV,EAAKjhB,MAAMihB,iBAAiB9U,GACzB,uBAAGzN,MAAO,CAACM,WAAY,OAAQC,SAAU,KAAK,0BAAMP,MAAO,CAACM,WAAY,WAA1B,QAA9C,IAAgG,EAAKgB,MAAMihB,iBAAiB9U,GAA5B,KAC/F,8BAED,yBAAKzN,MAAO,CAACK,MAAO,OAAQJ,UAAU,SAAU4B,UAAU,QAAQ,kBAACsN,EAAA,EAAD,CAASnP,MAAO,CAACK,MAAM,OAAQD,OAAO,QAASyC,MAAM,cAK/I,yBAAK7C,MAAO,CAACK,MAAO,OAAQJ,UAAU,SAAU4B,UAAU,QAAQ,kBAACsN,EAAA,EAAD,CAASnP,MAAO,CAACK,MAAM,OAAQD,OAAO,QAASyC,MAAM,UAE1HL,KAAKlB,MAAM8gB,0BACR5f,KAAKlB,MAAM8gB,0BAA0Btc,KAAI,SAACJ,EAAK+H,GAExC,OACI,yBAAKiB,MAAM,gBACP,2BAAIhJ,EAAK,IAAI,yBAAK1F,MAAO,CAAC6C,MAAM,QAAnB,eAER,EAAKvB,MAAM+gB,sBACoC,QAA3C,EAAK/gB,MAAM+gB,sBAAsB5U,GAC7B,6BACI,8BAAUzO,GAAE,gBAAWyO,GAASkB,KAAK,OAAO5G,KAAI,cAAS0F,EAAM,GAAKuB,YAAY,sBAAsBD,SAAU,EAAKkU,mBAAL,cAA+BxV,EAAM,OAG5J,EAAKnM,MAAMghB,wBACR,EAAKhhB,MAAMghB,wBAAwB7U,GAAO3H,KAAI,SAACod,EAAK0B,GAChD,OACA,yBAAKlW,MAAM,cACP,2BAAO1P,GAAE,oBAAeyO,GAAf,OAAuBmX,GAAOjW,KAAK,QAAQ5G,KAAI,cAAS0F,EAAM,GAAKxG,MAAOic,EAAKnU,SAAU,EAAKkU,mBAAL,cAA+BxV,EAAM,MACvI,2BAAOoB,IAAG,oBAAepB,GAAf,OAAuBmX,IAAQ1B,GACzC,mCAIP,yBAAKljB,MAAO,CAACK,MAAO,OAAQJ,UAAU,SAAU4B,UAAU,QAAQ,kBAACsN,EAAA,EAAD,CAASnP,MAAO,CAACK,MAAM,OAAQD,OAAO,QAASyC,MAAM,UAG5H,yBAAK7C,MAAO,CAACK,MAAO,OAAQJ,UAAU,SAAU4B,UAAU,QAAQ,kBAACsN,EAAA,EAAD,CAASnP,MAAO,CAACK,MAAM,OAAQD,OAAO,QAASyC,MAAM,cAM/I,yBAAK7C,MAAO,CAACK,MAAO,OAAQJ,UAAU,SAAU4B,UAAU,QAAQ,kBAACsN,EAAA,EAAD,CAASnP,MAAO,CAACK,MAAM,OAAQD,OAAO,QAASyC,MAAM,aAYzIL,KAAKlB,MAAMmJ,YAAcjI,KAAKlB,MAAM8gB,2BAA6B5f,KAAKlB,MAAM8iB,YAC5E,kBAAC,EAAD,CAAQxkB,QAAS4C,KAAKlB,MAAMmJ,WAAajI,KAAKlB,MAAM8iB,cAAgB5hB,KAAKlB,MAAM8gB,4BAC7E,8BAGR,yBAAK1T,MAAM,gCACP,yBAAKA,MAAM,qBACP,qDAA8B,6BAC9B,sKAEA,yBAAKA,MAAM,iBACP,4BAAQrO,MAAM,OAAOD,OAAO,MAAMF,IAAKsC,KAAKlB,MAAM6gB,mBAAmB0C,SAAUC,YAAY,IAAIC,MAAM,0EAA0EC,iBAAe,KAQhK,aAA9BxiB,KAAKlB,MAAMsW,gBACR,yBAAKrV,QAASC,KAAK8hB,qBACd,kBAAC,KAAD,CAAU5D,WAAYA,IAEble,KAAKlB,MAAMwhB,yBACRtgB,KAAKlB,MAAMwhB,yBAAyBhd,KAAI,SAACmf,GACrC,OACI,6BACI,yBAAK/kB,IAAG,UAAK+kB,GAAW5kB,MAAM,MAAMD,OAAO,YAKvD,gCAMhB,6BACI,kBAACwC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAK8c,0BAAtC,kBACA,6BAAK,6BACL,kBAAC,KAAD,CAAUoB,WAAYA,GAAYne,QAASC,KAAK8hB,qBAE3C9hB,KAAKlB,MAAMoiB,YACRlhB,KAAKlB,MAAMoiB,YAAY5d,KAAI,SAACmf,GACxB,OACI,6BACI,yBAAK/kB,IAAG,UAAK+kB,GAAU5kB,MAAM,MAAMD,OAAO,YAKtD,gCAQpB,6BAEmC,aAA9BoC,KAAKlB,MAAMsW,gBACR,yBAAKlJ,MAAM,OACP,yBAAKA,MAAM,aACP,yBAAKA,MAAM,cACP,yDAA8B,yBAAK1O,MAAO,CAAC6C,MAAM,QAAnB,eAC9B,uBAAG7C,MAAO,CAACM,WAAY,OAAQC,SAAU,KAAK,0BAAMP,MAAO,CAACM,WAAY,WAA1B,QAA9C,IAAgGkC,KAAKlB,MAAMshB,4BAC3G,8BAAU5T,YAAY,gDAAgDD,SAAUvM,KAAKygB,mBAAmB,uBAKpH,yBAAKvU,MAAM,OACP,yBAAKA,MAAM,aACP,yBAAKA,MAAM,cACP,yDAA8B,yBAAK1O,MAAO,CAAC6C,MAAM,QAAnB,eAC9B,8BAAUmM,YAAY,gDAAgDD,SAAUvM,KAAKygB,mBAAmB,uBAW5H,yBAAKjjB,MAAO,CAACK,MAAO,OAAQJ,UAAU,SAAU4B,UAAU,UAEnB,aAA9BW,KAAKlB,MAAMsW,gBACR,4BAAQnW,UAAU,qBAAqBc,QAASC,KAAK4gB,qBAArD,UAIA,4BAAQ3hB,UAAU,qBAAqBc,QAASC,KAAKqhB,mBAArD,iBAa/BrhB,KAAKlB,MAAMsiB,YAAgB,kBAAC,GAAD,CAAUnD,kBAAmBje,KAAKie,kBAAmB7gB,QAAS4C,KAAKlB,MAAMsiB,cAAoB,kCAG7H,kBAAC/jB,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMiiB,mBAAoB9gB,OAAQD,KAAK6Z,kBACvD,kBAAC3Z,EAAA,EAAD,CAAaD,OAAQD,KAAK6Z,kBAA1B,SACA,kBAACtc,EAAA,EAAD,4EAGA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAK6Z,kBAAtC,UAIJ,kBAACxc,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMqjB,oBACtB,kBAACjiB,EAAA,EAAD,CAAaD,OAAQD,KAAK8c,0BAA1B,gBACA,kBAACvf,EAAA,EAAD,KACI,kBAAC,GAAD,CACIqZ,UAAW5W,KAAKlB,MAAM8X,UACtB+F,iBAAkB3c,KAAK2c,iBACvBC,iBAAkB5c,KAAK4c,iBACvBF,eAAgB1c,KAAK0c,eACrBG,kBAAmB7c,KAAK6c,kBACxBd,gBAAiB/b,KAAK+b,gBACtBe,yBAA0B9c,KAAK8c,6BAK3C,kBAACzf,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMojB,iBAAkBjiB,OAAQD,KAAKiiB,uBACrD,kBAAC/hB,EAAA,EAAD,CAAaD,OAAQD,KAAKiiB,uBAA1B,SACA,kBAAC1kB,EAAA,EAAD,4EAGA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKiiB,uBAAtC,UAIJ,kBAAC5kB,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMkjB,kBAAmB/hB,OAAQD,KAAK+hB,yBACtD,yBAAKvkB,MAAO,CAACK,MAAM,OAAQD,OAAQ,SAC/B,kBAAC,KAAD,CAAc2gB,MAAOve,KAAKlB,MAAM6iB,eAInC3hB,KAAKlB,MAAM+iB,cAAkB,kBAAC,IAAD,CAAUvhB,MAAI,EAACC,GAAI,CAC7CC,SAAQ,WAAOR,KAAKlB,MAAMmD,YAAlB,gBACF,qC,GAlyBAxB,a,qBC0FXiiB,G,kDAlHf,WAAYvlB,GAAQ,IAAD,8BACf,cAAMA,IASVwM,aAAe,WACX,EAAKtL,UAAS,SAAAC,GACZ,kCACOA,GADP,IAEIsL,cAAetL,EAAUsL,mBAdhB,EAmBnB1L,kBAnBmB,sBAmBC,4BAAAC,EAAA,6DACZwkB,EAAYlmB,EAASmE,WAAWC,IAApB,kBAAmC,EAAK/B,MAAMgC,SAA9C,UADA,SAGV6hB,EAAU5hB,KAAK,SAAS,SAACC,GAE3B,EAAK3C,SAAS,CAAE+C,WAAaJ,EAAKE,WALtB,uBAOV,EAAK2d,6BAPK,2CAnBD,EA6BnBxO,mBA7BmB,sBA6BE,sBAAAlS,EAAA,sEACX,EAAK0gB,6BADM,2CA7BF,EAkCnBA,2BAlCmB,sBAkCU,kCAAA1gB,EAAA,yDACnBmS,EAAKnO,eAAeH,QAAQ,kBAClCJ,QAAQC,IAAIyO,GACZ1O,QAAQC,IAAI,8BACRyO,EAJqB,gCAKf,EAAKjS,SAAS,CAAEkS,gBAAgB,IALjB,OAMrBxO,aAAa0E,WAAW,YANH,0BASjB+J,EAAgBvH,IAAO,IAAIC,MAC3BuH,EAAkBxH,IAAOyH,SAASJ,IAClCwO,EAAcrO,EAAgBE,IAAI,GAAI,KAC1C/O,QAAQC,IAAI2O,GACZ5O,QAAQC,IAAI4O,GACZ7O,QAAQC,IAAIid,IACTA,EAAYlO,SAASJ,GAfH,kCAgBX,EAAKnS,SAAS,CAAEkS,gBAAgB,IAhBrB,QAiBjBxO,aAAa0E,WAAW,YAjBP,wBAoBjBtE,eAAe4D,QAAQ,mBAAoByK,GApB1B,4CA9BzB,EAAK1R,MAAQ,CACTmD,YAAc,EAAK9E,MAAM2M,MAAMC,OAAOC,OACtCuG,gBAAgB,GANL,E,qDA6Df,OACI,0BAAMtR,UAAU,QACZ,yBAAKA,UAAU,WACX,kBAACiL,EAAA,EAAD,CAAQC,MAAI,EAACE,OAAO,KAAK7M,MAAO,CAAC8M,gBAAgB,YAC7C,kBAACC,EAAA,EAAD,CAAaC,KAAI,WAAMxK,KAAKlB,MAAMmD,YAAjB,KAAiCzE,MAAO,CAAE6C,MAAM,UAAWvC,WAAW,QAAvF,yBAAsHkC,KAAKlB,MAAMsC,YACjI,kBAACqJ,EAAA,EAAD,CAAe1K,QAASC,KAAK2J,eAC7B,kBAACe,EAAA,EAAD,CAAUpN,OAAQ0C,KAAKlB,MAAM8K,aAAce,QAAM,GACjD,kBAACC,EAAA,EAAD,CAAK3L,UAAU,UAAU0L,QAAM,GAC3B,kBAACE,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAStN,MAAO,CAAC6C,MAAM,WAAYmK,KAAI,WAAMxK,KAAKlB,MAAMmD,YAAjB,kBAAvC,oBAEA,kBAAC4I,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAStN,MAAO,CAAC6C,MAAM,WAAYmK,KAAI,WAAMxK,KAAKlB,MAAMmD,YAAjB,mBAAvC,qBAEA,kBAAC4I,EAAA,EAAD,KACI,kBAAC,IAAD,CAAMtK,GAAI,CAACC,SAAS,IAAD,OAAKR,KAAKlB,MAAMmD,YAAhB,OACf,kBAAC8I,EAAA,EAAD,CAAYvN,MAAO,CAAC6C,MAAM,WAAYN,QAAS,WAAKgC,aAAa0E,WAAW,cAA5E,iBAOXzG,KAAKlB,MAAMyR,eACR,6BACI,kBAAC,IAAD,CAAUjQ,MAAI,EACdC,GAAI,CACAC,SAAS,IAAD,OAAMR,KAAKlB,MAAMmD,YAAjB,SAGf,8BAGT,yBAAKhD,UAAU,OACX,yBAAKzB,MAAO,CAACiC,cAAgB,SAAUhC,UAAW,SAAU8N,eAAe,SAAU1N,MAAM,SACvF,yBAAKH,IAAKC,KAAkBC,OAAQ,IAAKC,MAAO,MAChD,8GACA,kBAAC,IAAD,CAAM0C,GAAE,WAAMP,KAAKlB,MAAMmD,YAAjB,MACJ,4BAAQhD,UAAU,cAAlB,yB,GArGTwB,a,4BCSvBmiB,SAAMC,oBAAoBC,UAA1B,kDAAiFF,SAAMG,QAAvF,kB,IA0sBeC,G,kDAvsBf,WAAY7lB,GAAQ,IAAD,8BACf,cAAMA,IA0BVe,kBA3BmB,sBA2BC,gCAAAC,EAAA,6DAChB,EAAKE,SAAS,CAAEqC,YAAY,KAEtBiP,EAAS1J,SAAS2J,cAAc,WAE/BlS,IAAM,+CACbiS,EAAOE,OAAQ,EAEf5J,SAAS8J,KAAKC,YAAYL,GARV,SAUV,EAAKiP,4BAVK,uBAWV,EAAKC,6BAXK,cAaZ8D,EAAYlmB,EAASmE,WAAWC,IAApB,kBAAmC,EAAK/B,MAAMgC,SAA9C,UAbA,UAeV6hB,EAAU5hB,KAAK,SAAS,SAACC,GAE3B,EAAK3C,SAAS,CAAE+C,WAAaJ,EAAKE,WAjBtB,eAqBQzE,EAASmE,WAAWC,IAApB,iBACNmX,aAAa,aAAaC,QAAQ,EAAKnZ,MAAMuS,QAAQ4R,GAAG,QAA1E,uCAAmF,WAAMjiB,GAAN,SAAA7C,EAAA,yDAE/EyD,QAAQC,IAAIb,EAAKE,OACF,MAAZF,EAAKE,MAHuE,wBAI3EU,QAAQC,IAAIb,EAAKE,OACjB,EAAK7C,SAAS,CAAE6kB,aAAe,KAC/BliB,EAAKmX,SAAQ,SAAAnX,GACNA,EAAKE,MAAMJ,UAAY,EAAKhC,MAAMgC,UACjC,EAAKhC,MAAMokB,aAAa5iB,KAAKU,EAAKE,OAEtCU,QAAQC,IAAI,EAAK/C,MAAMokB,iBAE3B,EAAK7kB,SAAS,CACV8kB,iBAAkB,EAAKrkB,MAAMokB,eAb0C,SAgBrE,EAAK7kB,SAAS,CAAE+kB,WAAW,IAhB0C,sCAmB3ExhB,QAAQC,IAAI,mBAnB+D,UAoBrE,EAAKxD,SAAS,CAAE+kB,WAAW,IApB0C,QA2BnFxhB,QAAQC,IAAI,eAAe,EAAK/C,MAAMokB,cACtCthB,QAAQC,IAAI,mBAAmB,EAAK/C,MAAMqkB,kBA5ByC,4CAAnF,uDA+BIE,EAAe5mB,EAASmE,WAAWC,IAApB,gBArDH,UAsDVwiB,EAAarL,aAAa,aAAaC,QAAQ,EAAKnZ,MAAMuS,QAAQ4R,GAAG,QAArE,uCAA8E,WAAMK,GAAN,qBAAAnlB,EAAA,yDAC5E8C,EAAOqiB,EAAEpiB,MACbU,QAAQC,IAAIZ,IACTA,EAH6E,iBAM5E,IAFIyT,EAAUrR,OAAOjH,KAAK6E,GACtBsiB,EAAiB,GACb3f,EAAE,EAAEA,EAAE8Q,EAAQ7Q,OAAOD,IACtB3C,EAAKyT,EAAQ9Q,IAAb,UAAgC,EAAK9E,MAAMgC,WAC1CyiB,EAAe7O,EAAQ9Q,IAAM3C,EAAKyT,EAAQ9Q,KAR0B,OAW5EhC,QAAQC,IAAI0hB,GAXgE,SAYtE,EAAKllB,SAAS,CAAEklB,mBAZsD,wBAatE,EAAKllB,SAAS,CAAE+kB,WAAW,IAb2C,yBActE,EAAK/kB,SAAS,CAAEqC,YAAY,IAd0C,iDAiBtE,EAAKrC,SAAS,CAAE+kB,WAAW,IAjB2C,yBAkBtE,EAAK/kB,SAAS,CAAEqC,YAAY,IAlB0C,4CAA9E,uDAtDU,4CA3BD,EA4GnB2P,mBA5GmB,sBA4GE,sBAAAlS,EAAA,sEACX,EAAK0gB,6BADM,2CA5GF,EAiHnBA,2BAjHmB,sBAiHU,gCAAA1gB,EAAA,yDACnBmS,EAAKnO,eAAeH,QAAQ,kBADT,gCAKf,EAAK3D,SAAS,CAAEkS,gBAAgB,IALjB,OAMrBxO,aAAa0E,WAAW,YANH,0BASjB+J,EAAgBvH,IAAO,IAAIC,MAC3BuH,EAAkBxH,IAAOyH,SAASJ,KACpBG,EAAgBE,IAAI,GAAI,KAI3BC,SAASJ,GAfH,kCAgBX,EAAKnS,SAAS,CAAEkS,gBAAgB,IAhBrB,QAiBjBxO,aAAa0E,WAAW,YAjBP,wBAoBjBtE,eAAe4D,QAAQ,mBAAoByK,GApB1B,4CAjHV,EA0InBoO,0BAA4B,WACxB,IAAM1N,EAAKnP,aAAaC,QAAQ,UAC1BO,EAAMR,aAAaC,QAAQ,qBAC3B8O,EAAM/O,aAAaC,QAAQ,mBAC3B+O,EAAMhP,aAAaC,QAAQ,yBAC3BmP,EAAOpP,aAAaC,QAAQ,kCAC5BoP,EAAOrP,aAAaC,QAAQ,mCAElC,EAAK3D,SAAS,CAACgT,OAAQH,IACvB,EAAK7S,SAAS,CAAEiT,cAAe,CAC3B/L,KAAOhD,EACP/F,GAAIsU,EACJtL,SAAUuL,KAGd,EAAK1S,SAAS,CAACgD,+BAAiC8P,IAChD,EAAK9S,SAAS,CAACiD,gCAAkC8P,KA1JlC,EA8JnBoS,wBA9JmB,uCA8JO,WAAMC,GAAN,eAAAtlB,EAAA,6DACtB,EAAKE,SAAS,CAAEqC,YAAa,IACzBC,EAAOlE,EAASmE,WAAWC,IAApB,uBAAwC4iB,IAF7B,SAGhB9iB,EAAMI,KAAK,SAAS,SAACC,GACvB,IAAIC,EAAMD,EAAKE,MACfU,QAAQC,IAAIZ,GACZ,EAAK5C,SAAS,CAAEqlB,gBAAkBziB,IAClC,EAAK5C,SAAS,CAAEqC,YAAY,IAC5B,EAAKijB,wBARa,2CA9JP,wDA0KnBC,oBA1KmB,uCA0KG,WAAMH,EAAKI,GAAX,eAAA1lB,EAAA,6DAClB,EAAKE,SAAS,CAAEqC,YAAa,IACzBC,EAAOlE,EAASmE,WAAWC,IAApB,uBAAwC4iB,IAFjC,SAGZ9iB,EAAMI,KAAK,SAAS,SAACC,GACvB,IAAIC,EAAMD,EAAKE,MACfU,QAAQC,IAAIZ,GACZ,EAAK5C,SAAS,CAAEqlB,gBAAkBziB,IAC/B4iB,EAAKC,YACJ,EAAKzlB,SAAS,CAAE0lB,WAAYF,EAAKC,aAErC,EAAKzlB,SAAS,CAAE2lB,QAAU/iB,EAAK+iB,UAC/B,EAAK3lB,SAAS,CAAEqC,YAAY,IACzBO,EAAK+iB,SACJ,EAAKC,4BAbK,2CA1KH,0DA4LnBC,yBA5LmB,uCA4LQ,WAAMT,EAAKI,GAAX,eAAA1lB,EAAA,6DACvB,EAAKE,SAAS,CAAEqC,YAAa,IACzBC,EAAOlE,EAASmE,WAAWC,IAApB,uBAAwC4iB,IAF5B,SAGjB9iB,EAAMI,KAAK,SAAS,SAACC,GACvB,IAAIC,EAAMD,EAAKE,MACfU,QAAQC,IAAIZ,GACZ,EAAK5C,SAAS,CAAEqlB,gBAAkBziB,IAC/B4iB,EAAKC,YACJ,EAAKzlB,SAAS,CAAE0lB,WAAYF,EAAKC,aAErC,EAAKzlB,SAAS,CAAE8lB,QAAUN,EAAKO,gBAC/B,EAAK/lB,SAAS,CAAE2lB,QAAU/iB,EAAK+iB,UAC/B,EAAK3lB,SAAS,CAAEqC,YAAY,IACzBO,EAAK+iB,QACJ,EAAKK,+BAGL,EAAKC,+BAjBU,2CA5LR,0DAmNnBC,mBAnNmB,sBAmNE,wDAAApmB,EAAA,6DACXqX,EAAU,IAAItM,KAEhBiL,EAAU,CAACC,KAAM,UAAWC,MAAO,UAAWC,IAAK,WAInDmB,EAAgBD,EAAQhB,mBAAmB,QAASL,GACpD8C,EAAiBxB,EAAchB,QAAQ,MAAM,IAC7C8B,EAAiBd,EAAchB,QAAQ,MAAM,KAE7Be,EAAQgB,mBAAmB,SAC3CC,EAAaxN,IAAOuM,GACpBkB,EAAmBD,EAAWvE,OAAO,MACrCyE,EAAiBD,EAAiBjC,QAAQ,MAAO,IACjDyC,EAAiBR,EAAiBjC,QAAQ,MAAO,KAEjD0C,EAAa,QAAQ,EAAKrY,MAAMuS,OAAO,IAAI,EAAKvS,MAAMgC,SAAS,IAAImW,EAAe,IAAIN,EACtF6N,EAAkB,UAAU,EAAK1lB,MAAM4kB,gBAAX,GAAiC1c,UAAU,GAEvEyd,EAAW,EAAK3lB,MAAM4kB,gBAAX,GAEXve,EAAU,GAEVgP,EAAU,CACV,IAAO,0BACP,OAAsD,IAA5CzD,SAAS,EAAK5R,MAAM4kB,gBAAX,KACnB,SAAY,MACZ,KAAQ,EAAK5kB,MAAMsC,WACnB,YAAe,2BACf,MAAS,y4QAET,QAAU,WAAV,4BAAW,WAAMmH,GAAN,eAAApK,EAAA,6DACHgH,EAAQ,IACJ,YAAD,OAAagS,EAAb,iBAAyC5O,EAASuN,oBACzD3Q,EAAQ,iBAAD,OAAkBqf,EAAlB,cAA+C,EACtDrf,EAAQ,iBAAD,OAAkBqf,EAAlB,eAAiDrN,EACxDhS,EAAQ,gBAAD,OAAiBsf,EAAjB,cAAuC,EALvC,SAMDhoB,EAASmE,WAAWC,MAAMiF,OAAOX,GANhC,OAOP,EAAK9G,SAAS,CAAE0X,aAAexN,EAASuN,sBACxC,EAAKzX,SAAS,CAAC2lB,SAAS,IACxB,EAAKL,qBATE,4CAAX,mDAAU,GAWV,MAAS,CACL,QAAW,6BAEf,MAAS,CACL,MAAS,YAIbvM,EAAa,CACb,OAAW,EAAKtY,MAAM4kB,gBAAX,IACX,cAAkB,EAAK5kB,MAAM4kB,gBAAX,GAClB,KAASnN,EACT,SAAa,EAAKzX,MAAMgC,SACxB,cAAkB,EAAKhC,MAAMwS,cAC7B,GAAO6F,EACP,UAAc,EAAKrY,MAAMuS,OACzB,KAAS6F,EACT,KAAS,wBAGb/R,EAAQ,YAAD,OAAagS,IAAgBC,EAEhCpB,EAAO,IAAItP,OAAOuP,SAAS9B,GAjEd,UAkEX6B,EAAKE,OAlEM,4CAnNF,EAwRnByN,mBAAqB,WACjB,EAAKtlB,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIomB,kBAAmBpmB,EAAUomB,uBA5RtB,EAiSnBJ,0BAA4B,WACxB,EAAKjmB,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIqmB,qBAAsBrmB,EAAUqmB,0BArSzB,EA0SnBN,6BAA+B,WAC3B,EAAKhmB,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIsmB,wBAAyBtmB,EAAUsmB,6BA9S5B,EAmTnBX,uBAAyB,WACrB,EAAK5lB,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIumB,kBAAmBvmB,EAAUumB,uBAvTtB,EA4TnBlb,aAAe,WACX,EAAKtL,UAAS,SAAAC,GACZ,kCACOA,GADP,IAEIsL,cAAetL,EAAUsL,mBAhUhB,EAqUnBxL,yBAA2B,WACvB,EAAKC,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIC,oBAAqBD,EAAUC,yBAzUxB,EA8UnBC,iBAAmB,WACf,EAAKH,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIG,YAAaH,EAAUG,iBAlVhB,EAuVnBC,8BAAgC,WAC5B,EAAKL,UAAS,SAAAC,GACV,kCACOA,GADP,IAEIK,yBAA0BL,EAAUK,8BAzV5C,EAAKG,MAAQ,CACTgC,SAAU,EAAK3D,MAAM2M,MAAMC,OAAOC,OAClCkZ,aAAc,GACdxiB,YAAY,EACZgkB,kBAAmB,EACnBC,qBAAqB,EACrBC,wBAAwB,EACxBE,eAAe,GACf3B,iBAAiB,GACjB4B,iBAAiB,GACjBC,kBAAkB,GAClBC,qBAAqB,GACrBC,sBAAsB,GACtBxB,gBAAkB,GAClByB,SAAW,KACXC,WAAa,EACb7U,gBAAgB,EAChB6S,WAAW,EACX7kB,oBAAqB,EACrBE,YAAa,EACbE,yBAAyB,EACzBkmB,kBAAkB,GAvBP,E,qDAmWT,IAAD,OAGDC,EAAiB9kB,KAAKlB,MAAMqkB,iBAAiB7f,KAAI,SAAC+hB,EAAwBpa,GAEtE,OACA,kBAAC,MAAD,CAAI1H,IAAK8hB,EAAwB7oB,IAC7B,kBAAC,MAAD,CAAIyC,UAAU,MAAMomB,EAAwBpS,MAC5C,kBAAC,MAAD,CAAIhU,UAAU,MAAMomB,EAAwB/T,cAAc/L,MAC1D,kBAAC,MAAD,CAAItG,UAAU,MAAMomB,EAAwBC,MAGvC,EAAKxmB,MAAMykB,eAER,kBAAC,MAAD,CAAItkB,UAAU,MACT,EAAKH,MAAMykB,eAAe8B,EAAwBE,eAAlD,UACA3jB,QAAQC,IAAI,EAAK/C,MAAMykB,gBACvB3hB,QAAQC,IAAIwjB,EAAwBE,eACpC3jB,QAAQC,IAAI,EAAK/C,MAAMykB,eAAe8B,EAAwBE,gBAC9D3jB,QAAQC,IAAI,EAAK/C,MAAMykB,eAAe8B,EAAwBE,eAAlD,YAGjB,kBAAC,MAAD,CAAItmB,UAAU,OAKjB,EAAKH,MAAMykB,eAER,kBAAC,MAAD,CAAItkB,UAAU,MACT,EAAKH,MAAMykB,eAAe8B,EAAwBE,eAAlD,KAGL,kBAAC,MAAD,CAAItmB,UAAU,OAMtB,kBAAC,MAAD,CAAIA,UAAU,MACV,4BAAQA,UAAU,aAAazB,MAAO,CAACI,OAAQ,IAAKmC,QAAS,EAAKmkB,yBAAyBpX,KAAK,EAAMuY,EAAwBE,cAAeF,IAA7I,SAeC,EAAKvmB,MAAMilB,WACR,kBAAC,MAAD,KACI,4BAAQ9kB,UAAU,aAAazB,MAAO,CAACI,OAAQ,IAAKmC,QAAS,EAAK6jB,oBAAoB9W,KAAK,EAAMuY,EAAwBE,cAAeF,IAAxI,SAKJ,kBAAC,MAAD,KACI,uCAWxB,OAEG,0BAAMpmB,UAAU,QACX,yBAAKA,UAAU,WACd,yBAAKA,UAAU,mBACX,kBAACiL,EAAA,EAAD,CAAQC,MAAI,EAACE,OAAO,KAAK7M,MAAO,CAAC8M,gBAAgB,YAC9C,kBAACC,EAAA,EAAD,CAAaC,KAAI,WAAMxK,KAAKlB,MAAMgC,SAAjB,KAA8BtD,MAAO,CAAE6C,MAAM,UAAWvC,WAAW,QAApF,yBAAmHkC,KAAKlB,MAAMsC,YAC9H,kBAACqJ,EAAA,EAAD,CAAe1K,QAASC,KAAK2J,eAC7B,kBAACe,EAAA,EAAD,CAAUpN,OAAQ0C,KAAKlB,MAAM8K,aAAce,QAAM,GACjD,kBAACC,EAAA,EAAD,CAAK3L,UAAU,UAAU0L,QAAM,GAC3B,kBAACE,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAStN,MAAO,CAAC6C,MAAM,WAAYmK,KAAI,WAAMxK,KAAKlB,MAAMgC,SAAjB,kBAAvC,oBAEA,kBAAC+J,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAStN,MAAO,CAAC6C,MAAM,WAAYmK,KAAI,WAAMxK,KAAKlB,MAAMgC,SAAjB,mBAAvC,qBAEA,kBAAC4Z,EAAA,EAAD,CAAsBC,KAAG,EAACC,UAAQ,GAC9B,kBAACC,EAAA,EAAD,CAAgBxa,MAAM,UAAU7C,MAAO,CAAC6C,MAAM,WAAYsa,KAAG,EAACG,OAAK,GAAnE,kBACmB,kBAACC,EAAA,EAAD,CAAO1a,MAAM,UAAb,MAEnB,kBAAC2a,EAAA,EAAD,CAAc/b,UAAU,SAASgc,OAAK,GAClC,kBAACC,EAAA,EAAD,CAAcjc,UAAU,gBAAgBzB,MAAO,CAAC6C,MAAM,QAASN,QAASC,KAAK5B,0BAA7E,kBAGA,kBAAC8c,EAAA,EAAD,CAAcjc,UAAU,gBAAgBzB,MAAO,CAAC6C,MAAM,QAASN,QAASC,KAAKxB,kBAA7E,wBAGA,kBAAC0c,EAAA,EAAD,CAAcjc,UAAU,gBAAgBzB,MAAO,CAAC6C,MAAM,QAASN,QAASC,KAAKtB,+BAA7E,mBAKR,kBAACmM,EAAA,EAAD,KACI,kBAAC,IAAD,CAAMtK,GAAI,CAACC,SAAS,IAAD,OAAKR,KAAKlB,MAAMgC,SAAhB,OACf,kBAACiK,EAAA,EAAD,CAAYvN,MAAO,CAAC6C,MAAM,WAAYN,QAAS,WAAKgC,aAAa0E,WAAW,cAA5E,iBAQXzG,KAAKlB,MAAMyR,eACR,6BACI,kBAAC,IAAD,CAAUjQ,MAAI,EACdC,GAAI,CACAC,SAAS,IAAD,OAAMR,KAAKlB,MAAMgC,SAAjB,SAGf,8BAET,yBAAK7B,UAAU,OAGFe,KAAKlB,MAAM4B,WAAe,kBAAC,EAAD,CAAQtD,QAAS4C,KAAKlB,MAAM4B,aACnD,yBAAKzB,UAAU,mEACX,0BAAMA,UAAU,8BAAhB,yBAGA,6BACA,6BAGKe,KAAKlB,MAAMskB,UAER,yBAAK5lB,MAAO,CAACgC,QAAQ,OAAQC,cAAc,MAAO5B,MAAM,OAAQD,OAAO,OAAQsB,aAAa,SAAUqM,eAAe,WAChH3J,QAAQC,IAAI7B,KAAKlB,MAAMskB,WACxB,0BAAM5lB,MAAO,CAACM,WAAW,MAAOC,SAAS,GAAIN,UAAU,WAAvD,iDAGJ,kBAAC,SAAD,CAAOwB,UAAU,SACZ2C,QAAQC,IAAI7B,KAAKlB,MAAMskB,WAChC,kBAAC,SAAD,CAAOnkB,UAAU,wBACb,kBAAC,MAAD,KACI,kBAAC,MAAD,CAAIA,UAAU,KAAKumB,MAAM,OAAzB,UACA,kBAAC,MAAD,CAAIvmB,UAAU,KAAKumB,MAAM,OAAzB,kBACA,kBAAC,MAAD,CAAIvmB,UAAU,KAAKumB,MAAM,OAAzB,UACA,kBAAC,MAAD,CAAIvmB,UAAU,KAAKumB,MAAM,OAAzB,UACA,kBAAC,MAAD,CAAIvmB,UAAU,KAAKumB,MAAM,OAAzB,SACA,kBAAC,MAAD,CAAIvmB,UAAU,KAAKumB,MAAM,OAAzB,kBACA,kBAAC,MAAD,CAAIvmB,UAAU,KAAKumB,MAAM,OAAzB,eAGR,kBAAC,SAAD,KACKV,MAYrB,kBAACznB,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAM4lB,iBAAkBzkB,OAAQD,KAAK2jB,oBACrD,kBAACzjB,EAAA,EAAD,CAAaD,OAAQD,KAAK2jB,oBAA1B,8BACA,kBAACpmB,EAAA,EAAD,KAESyC,KAAKlB,MAAM4kB,gBACR,6BACI,2BAES1jB,KAAKlB,MAAM4kB,gBAAX,cACG,6BACI,8CADJ,IAC2B,8BAAO1jB,KAAKlB,MAAM4kB,gBAAX,qBAGlC,6BACI,8CADJ,IAC2B,8BAAO1jB,KAAKlB,MAAM4kB,gBAAX,QAM9C,6BACA,2BACI,kDADJ,IACgC1jB,KAAKlB,MAAM4kB,gBAAX,MAEhC,6BACA,2BACI,qDADJ,IACmC1jB,KAAKlB,MAAM4kB,gBAAX,KAAmC,IAAI1jB,KAAKlB,MAAM4kB,gBAAX,WAE1E,6BACA,2BACI,kDADJ,IACgC1jB,KAAKlB,MAAM4kB,gBAAX,MAGnC,+BAIb,kBAACvjB,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQC,MAAM,YAAYN,QAASC,KAAK2jB,oBAAxC,UACA,kBAACvjB,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKukB,oBAAtC,aAIR,kBAAClnB,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAM6lB,oBAAqB1kB,OAAQD,KAAKskB,2BACxD,yBAAK9mB,MAAO,CAACgC,QAAQ,SACjB,yBAAKhC,MAAO,GAAI0O,MAAK,UAAMlM,KAAKlB,MAAMklB,QAAW,aAAe,2BAC5D,4BAAQxmB,MAAO,CAAC8d,OAAQ,sBAAuBrc,UAAU,aAAac,QAASC,KAAK2jB,oBAApF,gBAIJ,yBAAKnmB,MAAO,CAACgC,QAAQ,OAAQ4b,SAAU,WAAY3d,UAAW,SAAUI,MAAM,OAAQwd,UAAU,WAAY9P,eAAe,SAAUiE,cAAc,OAAQvQ,UAAS,cAChK,kBAACmB,EAAA,EAAD,CAAQ5C,MAAO,CAAC8d,OAAQ,qBAAsBD,UAAU,YAAahb,MAAM,SAASN,QAASC,KAAKskB,2BAAlG,UAIJ,yBAAK9mB,MAAO,CAACI,OAAQ,OAAQC,MAAM,QAASoB,UAAS,WAAMe,KAAKlB,MAAMklB,QAAU,GAAK,uBAChFpiB,QAAQC,IAAI7B,KAAKlB,MAAMqlB,SACxB,4BAAQ3mB,MAAO,CAACK,MAAM,OAAQD,OAAO,QAASF,IAAKsC,KAAKlB,MAAMqlB,aAI1E,kBAAC9mB,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAM8lB,uBAAwB3kB,OAAQD,KAAKqkB,8BAC3D,yBAAK7mB,MAAO,CAACgC,QAAQ,SACjB,yBAAKhC,MAAO,CAACgC,QAAQ,OAAQ4b,SAAU,WAAY3d,UAAW,SAAUI,MAAM,OAAQwd,UAAU,WAAY9P,eAAe,SAAUiE,cAAc,OAAQvQ,UAAS,cAChK,kBAACmB,EAAA,EAAD,CAAQ5C,MAAO,CAAC8d,OAAQ,qBAAsBD,UAAU,YAAahb,MAAM,SAASN,QAASC,KAAKqkB,8BAAlG,UAIJ,yBAAK7mB,MAAO,CAACI,OAAQ,OAAQC,MAAM,QAASoB,UAAS,WAAMe,KAAKlB,MAAMklB,QAAU,GAAK,uBAChFpiB,QAAQC,IAAI7B,KAAKlB,MAAMqlB,SACxB,4BAAQ3mB,MAAO,CAACK,MAAM,OAAQD,OAAO,QAASF,IAAKsC,KAAKlB,MAAMqlB,aAK1E,kBAAC9mB,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAM+lB,iBAAkB5kB,OAAQD,KAAKikB,wBACrD,yBAAKzmB,MAAO,CAACgC,QAAQ,SACjB,yBAAKhC,MAAO,CAACgC,QAAQ,OAAQ4b,SAAU,WAAY3d,UAAW,SAAUI,MAAM,OAAQwd,UAAU,WAAY9P,eAAe,SAAUiE,cAAc,OAAQvQ,UAAS,cAChK,kBAACmB,EAAA,EAAD,CAAQ5C,MAAO,CAAC8d,OAAQ,qBAAsBD,UAAU,YAAahb,MAAM,SAASN,QAASC,KAAKikB,wBAAlG,UAIJ,yBAAKzmB,MAAO,CAACI,OAAQ,OAAQC,MAAM,QAASoB,UAAS,WAAMe,KAAKlB,MAAMklB,QAAU,GAAK,uBAChFpiB,QAAQC,IAAI7B,KAAKlB,MAAMqlB,SACxB,4BAAQ3mB,MAAO,CAACK,MAAM,OAAQD,OAAO,QAASF,IAAKsC,KAAKlB,MAAMqlB,aAK1E,kBAAC9mB,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMP,mBAAoB0B,OAAQD,KAAK5B,0BACvD,kBAAC8B,EAAA,EAAD,CAAaD,OAAQD,KAAK5B,0BAA1B,qBACA,kBAACb,EAAA,EAAD,KACA,2BACA,+EACA,khBAEA,6BACA,kDACA,gcAEA,6BACA,4DACA,gVAEA,6BACA,qDACA,mJAEA,6BACA,kDACA,0aAEA,6BACA,kDACA,+0BAEA,6BAEA,+DACA,24CAEA,6BAEA,mDACA,uOAEA,6BAEA,kDACA,4IAEA,6BAEA,yDACA,wTAEA,6BAEA,yEACA,imBAEA,6BAEA,gEACA,0UACA,8CACA,4FAIA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAK5B,0BAAtC,UAIJ,kBAACf,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAML,WAAYwB,OAAQD,KAAKxB,kBAC/C,kBAAC0B,EAAA,EAAD,CAAaD,OAAQD,KAAKxB,kBAA1B,8BACA,kBAACjB,EAAA,EAAD,KACA,iiCACA,2BAAG,4CACH,0RAIA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKxB,kBAAtC,UAIJ,kBAACnB,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMH,wBAAyBsB,OAAQD,KAAKtB,+BAC5D,kBAACwB,EAAA,EAAD,CAAaD,OAAQD,KAAKtB,+BAA1B,uBACA,kBAACnB,EAAA,EAAD,KACA,mQACA,wJAEA,kBAAC4C,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKtB,+BAAtC,iB,GA9rBD+B,aCqqBZglB,G,kDAzqBf,WAAYtoB,GAAQ,IAAD,8BACf,cAAMA,IAqBVe,kBAtBmB,sBAsBC,4BAAAC,EAAA,6DAChB,EAAKE,SAAS,CAAEqC,YAAY,IADZ,SAEV,EAAKke,4BAFK,cAKZ8G,EAAmBjpB,EAASmE,WAAWC,IAApB,gBALP,SAMV6kB,EAAiB1N,aAAa,aAAaC,QAAQ,EAAKnZ,MAAMuS,QAAQtQ,KAAK,QAA3E,uCAAoF,WAAMC,GAAN,SAAA7C,EAAA,sDAEtFyD,QAAQC,IAAI,QAAQb,EAAKE,OACzB,EAAK7C,SAAS,CAAEsnB,YAAc,KAC9B,EAAKtnB,SAAS,CAAEunB,aAAe,KAC5B5kB,EAAKE,OACJF,EAAKmX,SAAQ,SAAAnX,GACNA,EAAKE,MAAMJ,UAAY,EAAKhC,MAAMgC,UACjC,EAAKhC,MAAM6mB,YAAYrlB,KAAKU,EAAKE,OACjC,EAAKpC,MAAM8mB,aAAatlB,KAAKU,EAAKE,MAAMJ,aAGhD,EAAKhC,MAAM6mB,YAAYzhB,MAAK,SAACsU,EAAKC,GAC9B,IAAIoN,EAAK5c,IAAOuP,EAAKvF,KAAM,YACvB6S,EAAK7c,IAAOwP,EAAKxF,KAAM,YAE3B,OAAG4S,EAAGC,EAAW,EACdD,EAAGC,GAAY,OAAlB,KAEJ,EAAKznB,SAAS,CACV0nB,iBAAkB,EAAKjnB,MAAM6mB,YAC7BK,cAAgB,EAAKlnB,MAAM8mB,aAC3BxC,WAAW,KAIf,EAAK/kB,SAAS,CAAE+kB,WAAW,IAOnCxhB,QAAQC,IAAI,cAAc,EAAK/C,MAAM6mB,aACrC/jB,QAAQC,IAAI,mBAAmB,EAAK/C,MAAMinB,kBAC1CnkB,QAAQC,IAAI,iBAAiB,EAAK/C,MAAMknB,eAnCkD,2CAApF,uDANU,uBA4CZ,EAAK9V,kBA5CO,wBA6CZ,EAAK2O,6BA7CO,QA+ClB,EAAKxgB,SAAS,CAAEqC,YAAY,IA/CV,4CAtBD,EAwEnB2P,mBAxEmB,sBAwEE,sBAAAlS,EAAA,sEACX,EAAK0gB,6BADM,2CAxEF,EA6EnBA,2BA7EmB,sBA6EU,gCAAA1gB,EAAA,yDACnBmS,EAAKnO,eAAeH,QAAQ,kBAClCJ,QAAQC,IAAIyO,GACZ1O,QAAQC,IAAI,8BACRyO,EAJqB,gCAKf,EAAKjS,SAAS,CAAEkS,gBAAgB,IALjB,OAMrBxO,aAAa0E,WAAW,YANH,0BASjB+J,EAAgBvH,IAAO,IAAIC,MAC3BuH,EAAkBxH,IAAOyH,SAASJ,KACpBG,EAAgBE,IAAI,GAAI,KAC3BC,SAASJ,GAZH,kCAaX,EAAKnS,SAAS,CAAEkS,gBAAgB,IAbrB,QAcjBxO,aAAa0E,WAAW,YAdP,wBAiBjBtE,eAAe4D,QAAQ,mBAAoByK,GAjB1B,4CA7EV,EAmGnBN,gBAnGmB,sBAmGD,4BAAA/R,EAAA,6DAEVwkB,EAAYlmB,EAASmE,WAAWC,IAApB,kBAAmC,EAAK/B,MAAMgC,SAA9C,UAFF,SAIR6hB,EAAU5hB,KAAK,SAAS,SAACC,GAE3B,EAAK3C,SAAS,CAAE+C,WAAaJ,EAAKE,WANxB,2CAnGC,EAgHnB0d,0BAA4B,WACxB,IAAM1N,EAAKnP,aAAaC,QAAQ,UAC1BO,EAAMR,aAAaC,QAAQ,qBAC3B8O,EAAM/O,aAAaC,QAAQ,mBAC3B+O,EAAMhP,aAAaC,QAAQ,yBAEjC,EAAK3D,SAAS,CAACgT,OAAQH,IACvB,EAAK7S,SAAS,CAAEiT,cAAe,CAC3B/L,KAAOhD,EACP/F,GAAIsU,EACJtL,SAAUuL,MA1HC,EAgInBkV,gBAhImB,uCAgID,WAAM1C,GAAN,SAAAplB,EAAA,sEACR,EAAKE,SAAS,CAAC6nB,kBAAmB3C,IAD1B,uBAER,EAAKllB,SAAS,CAACqC,YAAY,IAFnB,uBAGR,EAAKylB,6BAHG,OAId,EAAKC,wBAJS,2CAhIC,wDAwInBD,2BAxImB,sBAwIU,4BAAAhoB,EAAA,6DACzByD,QAAQC,IAAI,oBAAqB,EAAK/C,MAAMgC,UACxCH,EAAQlE,EAASmE,WAAWC,IAApB,kBAAmC,EAAK/B,MAAMgC,SAA9C,MAFa,SAGnBH,EAAMI,KAAK,SAASyG,MAAK,SAACxG,GAC5B,IAAIC,EAAOD,EAAKE,MAGhB,EAAK7C,SAAS,CAAC8C,WAAaF,IAC5B,EAAK5C,SAAS,CAACkT,cAAetQ,EAAI,iBAClC,IAAIuQ,EAAgBvQ,EAAI,YAAJ,iBAChBwC,EAAUxC,EAAI,YAAJ,cACVyC,EAAWL,OAAOjH,KAAKqH,GACvBE,EAAY,GAChB/B,QAAQC,IAAI2P,GAEZ,IAAI,IAAI5N,EAAE,EAAEA,EAAEF,EAASG,OAAOD,IAAI,CAI9B,IAFA,IAAIE,EAAOT,OAAOjH,KAAKqH,EAAQC,EAASE,KACpCG,EAAW,GACPC,EAAE,EAAEA,EAAEF,EAAKD,OAAOG,IACtBD,EAASzD,KAAKmD,EAAQC,EAASE,IAAIE,EAAKE,KAE5C,IACId,EAAI,GACRA,EAFUQ,EAASE,IAERG,EACXJ,EAAUrD,KAAK4C,GAGnB,IAAMe,EAAS,CAEX,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,EACP,IAAO,GAiBX,GAdEN,EAAUO,MAAK,SAAmB/F,EAAGgG,GAEnC,IAAIC,EAAOf,OAAOjH,KAAK+B,GAAG,GACtBkG,EAAOhB,OAAOjH,KAAK+H,GAAG,GAC1B,OAAOF,EAAOG,GAAQH,EAAOI,MAIjCzC,QAAQC,IAAI8B,GACZ,EAAKtF,SAAS,CAAEoT,cAAgB/N,IAChC,EAAKrF,SAAS,CAAEqT,WAAYjO,IAC5B,EAAKpF,SAAS,CAAEsF,cAGb6N,EAAc,CAEb5P,QAAQC,IAAI2P,GACZ5P,QAAQC,IAAI,uBAGZ,IAFA,IAAI8P,EAAiB,GAEb/N,EAAE,EAAEA,EAAE4N,EAAc3N,OAAOD,IAK/B,IAJA,IAAIgO,EAAkB3I,IAAOuI,EAAc5N,GAAGiO,KAAM,YAChDC,EAAgB7I,IAAOuI,EAAc5N,GAAGmO,GAAI,YAC5CC,EAAUJ,GAEPI,EAAQC,QAAQH,IACnBlQ,QAAQC,IAAImQ,EAAQE,OAAO,aAC3BP,EAAerR,KAAK0R,EAAQE,OAAO,aACnCF,EAAQrB,IAAI,EAAE,KAItB/O,QAAQC,IAAI8P,GACZ,EAAKtT,SAAS,CAAEsT,uBAxEC,uBAmFpB,EAAKQ,oBAnFe,2CAxIV,EA+NnBA,kBAAoB,WAKhB,IADA,IAAIC,EAAe,GACXxO,EAAE,EAAEA,EAAE,EAAK9E,MAAM2S,cAAc5N,OAAOD,IAAI,CAK9C,IAHA,IAAIyO,EAAc,EAAKvT,MAAM4S,WAAW,EAAK5S,MAAM2S,cAAc7N,IAC7D0O,EAAkBjP,OAAOjH,KAAKiW,GAC9BE,EAAgB,GACZvO,EAAE,EAAEA,EAAEsO,EAAgBzO,OAAOG,IAQjC,IAPA,IAAIwO,EAAeH,EAAYC,EAAgBtO,IAC3CyO,EAAgBD,EAAY,SAC5BE,EAAgBF,EAAY,UAC5BG,EAAejC,SAAS8B,EAAY,YAAgB1L,WAAWE,UAAU,EAAE,GAAG,IAC9E4L,EAAY3J,IAAOwJ,EAAe,MAAM,GACxCI,EAAU5J,IAAOyJ,EAAe,MAAM,GACtCI,EAAWF,EACTE,EAAWD,GACbN,EAAcjS,KAAKwS,EAASZ,OAAO,OACnCY,EAAU7J,IAAO6J,GAAUnC,IAAIgC,EAAa,KAIpDP,EADU,EAAKtT,MAAM2S,cAAc7N,IACf2O,EAIxB,EAAKlU,SAAS,CAAC0U,UAAWX,IAC1B,EAAK/T,SAAS,CAACqC,YAAa,KA5Pb,EAiQnBsS,iBAjQmB,uCAiQA,WAAMC,GAAN,yBAAA9U,EAAA,yDACX+U,EAAcjK,IAAO,IAAIC,MAAQgJ,OAAO,YAExCiB,EAAoBlK,IAAOgK,GAAMf,OAAO,YACxCkB,EAAoBnK,IAAO,IAAIC,MAAQgJ,OAAO,MAE/CiB,GAAqBD,EANT,wBAOX,EAAK7U,SAAS,CAACgV,eAAgB,IAC3BC,GAAW,IAAIpK,MAAOpC,WAAWE,UAAU,EAAE,GACjDpF,QAAQC,IAAIyR,GAERC,EAXO,eAYND,EAAY,EAAKxU,MAAMiU,UAAUO,IAGlCE,EAAyBD,EAAeD,GAAUzL,QAAO,SAAC4L,GAC1D,OAAOxK,IAAOwK,EAAM,MAAQxK,IAAOmK,EAAmB,SAE1DxR,QAAQC,IAAI2R,GAEZD,EAAc,eACTD,EAAYE,GAGjB5R,QAAQC,IAAI0R,GACZ3R,QAAQC,IAAI,EAAK/C,MAAMiU,WACvBnR,QAAQC,IAAI,EAAK/C,MAAM4U,WA1BZ,UA2BL,EAAKrV,SAAS,CAACkV,mBA3BV,gCA6BX,EAAKlV,SAAS,CAACgV,eAAe,IA7BnB,eAgCZ,EAAKvU,MAAM6S,gBACP,EAAK7S,MAAM6S,eAAegC,SAASR,IAClCvR,QAAQC,IAAI,sBACZ,EAAKxD,SAAS,CAACuV,eAAe,KAOlC,EAAKvV,SAAS,CAACuV,eAAe,IAI/BX,EAAM,IAAI/J,MAAUiK,GAAqBD,EACxC,EAAK7U,SAAS,CAAEwV,mBAAmB,IAGnC,EAAKxV,SAAS,CAAEwV,mBAAmB,IAGvC,EAAKxV,SAAS,CAAEyV,YAAa,KAC7B,EAAKzV,SAAS,CAAE4U,SAChB,EAAK5U,SAAS,CAAE0V,cAAc,IAC9B,EAAK1V,SAAS,CAAE2V,UAAYf,EAAKnM,WAAWmN,OAAO,EAAE,KAxDtC,UAyDT,EAAKC,mBAAmBjB,GAzDf,4CAjQA,wDA6TnBiB,mBA7TmB,uCA6TE,WAAMjB,GAAN,mBAAA9U,EAAA,6DAGbgW,EAAU,CAACC,KAAM,UAAWC,MAAO,UAAWC,IAAK,WAGvDC,GADIA,EAHatB,EAGWuB,mBAAmB,QAASL,IAChCM,QAAQ,MAAM,IAEtC,EAAKpW,SAAS,CAAEqC,YAAa,IACzBC,EAAQlE,EAASmE,WAAWC,IAApB,kBAAmC,EAAK/B,MAAMgC,SAA9C,kCAAgFyT,IAT3E,SAUX5T,EAAMI,KAAK,SAASyG,MAAK,SAACxG,GAC5B,IAAIC,EAAOD,EAAKE,MAChB,GAAGD,EAAK,CAIJ,IAHA,IAAIyT,EAAUrR,OAAOjH,KAAK6E,GACtByS,EAAY,GACZiB,EAAY,GACR/Q,EAAE,EAAGA,EAAE8Q,EAAQ7Q,OAAOD,IAC1B+Q,EAAW/Q,GAAK3C,EAAKyT,EAAQ9Q,IAEjC,IAAIgR,EAAWvR,OAAOjH,KAAKuY,GAC3B,IAAQ/Q,EAAE,EAAEA,EAAEgR,EAAS/Q,OAAOD,IAAI,CAC9B,IAAI6P,EAAOxK,IAAO0L,EAAW/Q,GAAX,UAA4B,MAE9C8P,EAAUpT,KAAKmT,EAAKvB,OAAO,OAI/B,EAAK7T,SAAS,CAAEqV,mBAGhB,EAAKrV,SAAS,CAAEqV,UAAW,KAE/B,EAAKrV,SAAS,CAAEqC,YAAa,OAhChB,2CA7TF,wDAiWnB2W,iBAAmB,SAACC,GAEhB,IAAIC,EAAItO,IAAOqO,EAAM,MACrB,EAAKjZ,SAAS,CAAEyV,YAAcyD,EAAErF,OAAO,SApWxB,EAwWnBvI,aAAe,WACX,EAAKtL,UAAS,SAAAC,GACZ,kCACOA,GADP,IAEIsL,cAAetL,EAAUsL,mBA5WhB,EAiXnBwc,sBAAwB,WACpB,EAAK/nB,UAAS,SAAAC,GACV,kCACOA,GADP,IAEI+nB,iBAAkB/nB,EAAU+nB,sBAnXpC,EAAKvnB,MAAL,aACIgC,SAAU,EAAK3D,MAAM2M,MAAMC,OAAOC,OAClCiJ,KAAM,IAAI/J,KACVyc,YAAa,GACbjS,UAAY,GACZX,UAAW,GACXtB,cAAe,GACf/Q,YAAY,EACZ2lB,iBAAkB,EAClBvB,eAAe,GACfiB,iBAAiB,GACjBH,aAAe,GACfI,cAAgB,GAChBtC,gBAAkB,GAClBnT,gBAAgB,EAChB6S,WAAW,GAff,mBAgBqB,GAlBN,E,qDA0XT,IAAD,OAGD0B,EAAiB9kB,KAAKlB,MAAMinB,iBAAiBziB,KAAI,SAACgjB,EAAwBrb,GAEtE,OACA,kBAAC,MAAD,CAAI1H,IAAK+iB,EAAwB9pB,IAC7B,kBAAC,MAAD,CAAIyC,UAAU,MAAMqnB,EAAwBrT,MAC5C,kBAAC,MAAD,CAAIhU,UAAU,MAAMqnB,EAAwB1T,WAC5C,kBAAC,MAAD,CAAI3T,UAAU,MAAMqnB,EAAwBhV,cAAc/L,MAQ1D,kBAAC,MAAD,CAAItG,UAAU,MAAMqnB,EAAwBhB,MAC5C,kBAAC,MAAD,CAAIrmB,UAAU,MAAMqnB,EAAwBC,WAC5C,kBAAC,MAAD,CAAItnB,UAAU,MACV,4BAAQA,UAAU,aAAazB,MAAO,CAACI,OAAQ,IAAKmC,QAAS,EAAKkmB,gBAAgBnZ,KAAK,EAAKwZ,IAA5F,aAUhB,OAEG,0BAAMrnB,UAAU,QACX,yBAAKA,UAAU,WACd,yBAAKA,UAAU,mBAEZ,kBAACiL,EAAA,EAAD,CAAQC,MAAI,EAACE,OAAO,KAAK7M,MAAO,CAAC8M,gBAAgB,YAC7C,kBAACC,EAAA,EAAD,CAAaC,KAAI,WAAMxK,KAAKlB,MAAMgC,SAAjB,KAA8BtD,MAAO,CAAE6C,MAAM,UAAWvC,WAAW,QAApF,yBAAmHkC,KAAKlB,MAAMsC,YAC9H,kBAACqJ,EAAA,EAAD,CAAe1K,QAASC,KAAK2J,eAC7B,kBAACe,EAAA,EAAD,CAAUpN,OAAQ0C,KAAKlB,MAAM8K,aAAce,QAAM,GACjD,kBAACC,EAAA,EAAD,CAAK3L,UAAU,UAAU0L,QAAM,GAC3B,kBAACE,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAStN,MAAO,CAAC6C,MAAM,WAAYmK,KAAI,WAAMxK,KAAKlB,MAAMgC,SAAjB,kBAAvC,oBAEA,kBAAC+J,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAStN,MAAO,CAAC6C,MAAM,WAAYmK,KAAI,WAAMxK,KAAKlB,MAAMgC,SAAjB,mBAAvC,qBAEA,kBAAC+J,EAAA,EAAD,KACI,kBAAC,IAAD,CAAMtK,GAAI,CAACC,SAAS,IAAD,OAAKR,KAAKlB,MAAMgC,SAAhB,OACf,kBAACiK,EAAA,EAAD,CAAYvN,MAAO,CAAC6C,MAAM,WAAYN,QAAS,WAAKgC,aAAa0E,WAAW,cAA5E,iBAOXzG,KAAKlB,MAAMyR,eACR,6BACI,kBAAC,IAAD,CAAUjQ,MAAI,EACdC,GAAI,CACAC,SAAS,IAAD,OAAMR,KAAKlB,MAAMgC,SAAjB,SAGf,8BAET,yBAAK7B,UAAU,OAGFe,KAAKlB,MAAM4B,WAAe,kBAAC,EAAD,CAAQtD,QAAS4C,KAAKlB,MAAM4B,aACnD,yBAAKzB,UAAU,mEACX,yBAAKzB,MAAO,CAACK,MAAO,OAAQ2B,QAAQ,OAAQ+L,eAAe,kBACvD,0BAAMtM,UAAU,6BAA6BzB,MAAO,CAACO,SAAS,KAA9D,mBAGA,0BAAMkB,UAAU,6BAA6BzB,MAAO,CAACO,SAAS,GAAIsd,UAAU,SAAUlc,WAAY,KAAMC,YAAY,KAAMtB,WAAY,IAAKL,UAAW,UAAtJ,oBACsBuC,KAAKlB,MAAMsC,aAIrC,6BACA,6BAEKpB,KAAKlB,MAAMskB,UACR,yBAAK5lB,MAAO,CAACgC,QAAQ,OAAQC,cAAc,MAAO5B,MAAM,OAAQD,OAAO,OAAQsB,aAAa,SAAUqM,eAAe,WACjH,0BAAO/N,MAAO,CAACM,WAAW,MAAOC,SAAS,GAAIN,UAAU,WAAxD,gDAGJ,kBAAC,SAAD,CAAOyO,MAAM,SACT,kBAAC,SAAD,CAAOjN,UAAU,wBACb,kBAAC,MAAD,KAEI,kBAAC,MAAD,CAAIA,UAAU,KAAKumB,MAAM,OAAzB,UACA,kBAAC,MAAD,CAAIvmB,UAAU,KAAKumB,MAAM,OAAzB,UACA,kBAAC,MAAD,CAAIvmB,UAAU,KAAKumB,MAAM,OAAzB,kBAEA,kBAAC,MAAD,CAAIvmB,UAAU,KAAKumB,MAAM,OAAzB,UACA,kBAAC,MAAD,CAAIvmB,UAAU,KAAKumB,MAAM,OAAzB,UACA,kBAAC,MAAD,CAAIvmB,UAAU,KAAKumB,MAAM,OAAzB,cAIR,kBAAC,SAAD,KACKV,MAarC,kBAACznB,EAAA,EAAD,CAAOC,OAAQ0C,KAAKlB,MAAMunB,gBAAiBpmB,OAAQD,KAAKomB,uBACpD,kBAAClmB,EAAA,EAAD,CAAaD,OAAQD,KAAKomB,uBAA1B,8BACA,kBAAC7oB,EAAA,EAAD,KAESyC,KAAKlB,MAAMonB,kBACR,6BACI,6BACI,2BACA,kBAAC,IAAD,CACI3Z,SAAUvM,KAAKgT,iBACfvO,MAAOzE,KAAKlB,MAAMmU,SAI1B,yBAAKzV,MAAO,CAACC,UAAW,SAAU8B,OAAO,cACrC,4BAAQN,UAAU,aAAac,QAASC,KAAKga,qBAA7C,wBAMR,yBAAK/a,UAAU,aACX,yBAAKA,UAAU,OAEX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,iBACX,0BAAMA,UAAU,wBADpB,YAKA,6BACI,0BAAMA,UAAU,sBADpB,UAKA,6BACI,0BAAMA,UAAU,oBADpB,gBAQZ,yBAAKA,UAAU,aAGVe,KAAKlB,MAAMmJ,UACR,kBAAC,EAAD,CAAQ7K,QAAS4C,KAAKlB,MAAMmJ,YAE3BjI,KAAKlB,MAAM+U,kBAAsB,kGAC5B7T,KAAKlB,MAAM2S,cAAckC,SAAS3T,KAAKlB,MAAMkV,YAAchU,KAAKlB,MAAMkV,UACpE,iHACChU,KAAKlB,MAAM8U,cAAkB,6GAE5B5T,KAAKlB,MAAMuU,cACRrT,KAAKlB,MAAMyU,gBACPvT,KAAKlB,MAAMyU,eAAevT,KAAKlB,MAAMkV,WACjChU,KAAKlB,MAAM4U,UAAU7P,OAAO,EAAM7D,KAAKlB,MAAMyU,eAAevT,KAAKlB,MAAMkV,WAAW1Q,KAAI,SAACgU,EAAMrM,GAC1F,OAAG,EAAKnM,MAAM4U,UAAUC,SAAS2D,GAGzB,yBAAKrY,UAAU,gBACX,4BAAQA,UAAU,mBAAmBzB,MAAO,CAAC8N,OAAQ,YACjD,8BACKgM,EAAKxQ,cAQlB,yBAAK7H,UAAU,gBACX,4BAAQA,UAAY,EAAKH,MAAMgV,aAAewD,EAA3B,sCAA4EvX,QAAS,EAAKsX,iBAAiBvK,KAAK,EAAKwK,IACpI,8BACKA,EAAKxQ,iBAQzB9G,KAAKlB,MAAMiV,aACR/T,KAAKlB,MAAMyU,eAAevT,KAAKlB,MAAMkV,WAAW1Q,KAAI,SAACgU,EAAMrM,GAEvD,OACI,yBAAKhM,UAAU,gBACX,4BAAQA,UAAY,EAAKH,MAAMgV,aAAewD,EAA3B,sCAA4EvX,QAAS,EAAKsX,iBAAiBvK,KAAK,EAAKwK,IACpI,8BACKA,EAAKxQ,iBAOzB,8BAMZ,8BAEJ9G,KAAKlB,MAAMiU,WACP/S,KAAKlB,MAAMiU,UAAU/S,KAAKlB,MAAMkV,WAC5BhU,KAAKlB,MAAM4U,UAAU7P,OAAO,EAAM7D,KAAKlB,MAAMiU,UAAU/S,KAAKlB,MAAMkV,WAAW1Q,KAAI,SAACgU,EAAMrM,GACrF,OAAG,EAAKnM,MAAM4U,UAAUC,SAAS2D,GAGzB,yBAAKrY,UAAU,gBACX,4BAAQA,UAAU,mBAAmBzB,MAAO,CAAC8N,OAAQ,YACjD,8BACKgM,EAAKxQ,cAQlB,yBAAK7H,UAAU,gBACX,4BAAQA,UAAY,EAAKH,MAAMgV,aAAewD,EAA3B,sCAA4EvX,QAAS,EAAKsX,iBAAiBvK,KAAK,EAAKwK,IACpI,8BACKA,EAAKxQ,iBAQzB9G,KAAKlB,MAAMiV,aACR/T,KAAKlB,MAAMiU,UAAU/S,KAAKlB,MAAMkV,WAAW1Q,KAAI,SAACgU,EAAMrM,GAElD,OACI,yBAAKhM,UAAU,gBACX,4BAAQA,UAAY,EAAKH,MAAMgV,aAAewD,EAA3B,sCAA4EvX,QAAS,EAAKsX,iBAAiBvK,KAAK,EAAKwK,IACpI,8BACKA,EAAKxQ,iBAOzB,8BAMZ,gCAiBzB,+BAMZ,kBAAC3G,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAASC,KAAKukB,oBAAtC,uB,GA/pBG9jB,a,SCVrB+lB,GAAUC,eAmBDC,GAjBA,kBACX,kBAAC,IAAD,CAAQF,QAASA,IACb,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,IAAIC,UAAWC,IACjC,kBAAC,IAAD,CAAOH,OAAK,EAACC,KAAK,YAAYC,UAAW5oB,IACzC,kBAAC,IAAD,CAAO0oB,OAAK,EAACC,KAAK,oBAAoBC,UAAW9Z,IACjD,kBAAC,IAAD,CAAO4Z,OAAK,EAACC,KAAK,uBAAuBC,UAAWnX,IACpD,kBAAC,IAAD,CAAOiX,OAAK,EAACC,KAAK,2BAA2BC,UAAWlI,KACxD,kBAAC,IAAD,CAAOgI,OAAK,EAACC,KAAK,oBAAoBC,UAAWnE,KACjD,kBAAC,IAAD,CAAOiE,OAAK,EAACC,KAAK,yBAAyBC,UAAWE,KACtD,kBAAC,IAAD,CAAOJ,OAAK,EAACC,KAAK,wBAAwBC,UAAWpB,QCPlDuB,G,kDAXb,WAAY7pB,GAAQ,IAAD,8BACjB,cAAMA,IACD2B,MAAQ,GAFI,E,qDAKjB,OACG,kBAAC,GAAD,U,GAPW2B,aCKEwmB,QACW,cAA7BvgB,OAAO3H,SAASmoB,UAEe,UAA7BxgB,OAAO3H,SAASmoB,UAEhBxgB,OAAO3H,SAASmoB,SAASpd,MACvB,2DCTNqd,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEFphB,SAASC,eAAe,SDsHpB,kBAAmBohB,WACrBA,UAAUC,cAAcC,MACrBhgB,MAAK,SAAAigB,GACJA,EAAaC,gBAEd/e,OAAM,SAAAC,GACLhH,QAAQgH,MAAMA,EAAM+e,c","file":"static/js/main.fe1b00cf.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 180;","module.exports = __webpack_public_path__ + \"static/media/gray-clock.c11959d4.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading-animation.336ce58e.gif\";","module.exports = __webpack_public_path__ + \"static/media/check-animation.c30af253.gif\";","module.exports = __webpack_public_path__ + \"static/media/staysafe.9da927ee.gif\";","module.exports = __webpack_public_path__ + \"static/media/v-consultancy.0451ba19.svg\";","module.exports = __webpack_public_path__ + \"static/media/o-consultancy.2a556b52.svg\";","import * as firebase from 'firebase';\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyAKLBA1ZtdsJFfo6WHpqCK4YxvyH0_QA2k\",\r\n  authDomain: \"teleconsultancy-r34ct.firebaseapp.com\",\r\n  databaseURL: \"https://teleconsultancy-r34ct.firebaseio.com\",\r\n  projectId: \"teleconsultancy-r34ct\",\r\n  storageBucket: \"teleconsultancy-r34ct.appspot.com\",\r\n  messagingSenderId: \"925316916399\",\r\n  appId: \"1:925316916399:web:7f84c1c0044f749afbe05a\",\r\n  measurementId: \"G-QN5CRXN2HM\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport Lottie from 'react-lottie';\r\n\r\n\r\n\r\nimport loadinganimation from '../Lottie/loading-animation.gif';\r\n\r\n\r\nimport { Modal, Input, ModalBody, ModalHeader, ModalFooter, Button,Form, FormGroup, Label, FormText, Spinner } from 'reactstrap';\r\n\r\n\r\nconst Loader = props => {\r\n  const {\r\n    loading,\r\n    ...attributes\r\n  } = props;\r\n\r\n  \r\n\r\n  return (\r\n    <Modal isOpen={props.loading}>\r\n        <ModalBody>\r\n            <div style={{textAlign:'center'}}>\r\n                <img src={loadinganimation} height={200} width={200} />\r\n                <p style={{fontWeight:'heavy', fontSize:20, fontFamily: 'Roboto'}}> Loading ... </p>\r\n            </div>\r\n                \r\n            {/* <Spinner type=\"grow\" color=\"primary\" />\r\n            <Spinner type=\"grow\" color=\"secondary\" />\r\n            <Spinner type=\"grow\" color=\"success\" />\r\n            <Spinner type=\"grow\" color=\"danger\" />\r\n            <Spinner type=\"grow\" color=\"warning\" />\r\n            <Spinner type=\"grow\" color=\"info\" /> */}\r\n        </ModalBody>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default Loader;","import React, { Component } from 'react';\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport firebase from '../../Services/firebase';\r\nimport { Modal, Input, ModalBody, ModalHeader, ModalFooter, Button, Spinner,Form, FormGroup, Label, FormText, Popover, PopoverHeader, PopoverBody, \r\n  Collapse,\r\n  Navbar,\r\n  NavbarBrand,\r\n  NavbarToggler,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  NavbarText\r\n   } from 'reactstrap';\r\n\r\nimport { AvForm, AvField } from 'availity-reactstrap-validation';\r\nimport Loader from '../../Assets/Loader/Loader';\r\nimport moment from 'moment';\r\n\r\n\r\n\r\nclass Login extends Component {\r\nconstructor(props) {\r\n   \r\n    super(props);\r\n    this.state = {\r\n        privacyPolicyModal : false,\r\n        termsModal : false,\r\n        cancellationRefundModal: false,\r\n        goToDoctor: false,\r\n      };\r\n      \r\n      \r\n      \r\n\r\n      if(props.location.state){\r\n        if(props.location.state.userLoggedInFromRegister){\r\n          // this.setState({userLoggedIn : true});\r\n          // this.setState({userChosen : \"self\"});\r\n          // this.setState({dependentsData: []});\r\n          this.state[\"userLoggedInFromRegister\"] = true;\r\n        }\r\n        \r\n      }\r\n}\r\ncomponentDidMount = async() => {\r\n  \r\n}\r\n\r\ntogglePrivacyPolicyModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            privacyPolicyModal: !prevState.privacyPolicyModal,\r\n        }\r\n    });\r\n}\r\n\r\ntoggleTermsModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            termsModal: !prevState.termsModal,\r\n        }\r\n    });\r\n}\r\n\r\ntoggleCancellationRefundModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            cancellationRefundModal: !prevState.cancellationRefundModal,\r\n        }\r\n    });\r\n}\r\n\r\ntoggleButton = () => {\r\n    this.setState({goToDoctor: true});\r\n}\r\n\r\nrender() {\r\n  return (\r\n    <body className=\"landingBody\">\r\n    <div className=\"wrapper\">\r\n    <div className=\"container-fluid\">\r\n\r\n        <div className=\"row\" style={{alignContent:'center', height: '100vh'}}>\r\n            <div className=\"col-md-6 col-sm-7 col-xs-12 landingIntro\">\r\n                <div className=\"landingLeftBox\">\r\n                    <div className=\"landingWelcome\">\r\n                        <p className=\"landingHeading\" style={{marginLeft:'1.0rem'}}>\r\n                            Teleconsultancy Application\r\n                        </p>\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"landingSubheading\" style={{marginLeft:'1.0rem', marginRight:'1.0rem'}}>\r\n                            We are on a mission to make quality healthcare affordable and accessible for a billion Indians. We empower people with the information and care that they can trust to make better healthcare decisions every day.\r\n                        </p>\r\n                    </div>\r\n\r\n                     <hr style={{marginTop:'2.0rem', borderColor: 'white'}}/>\r\n\r\n                     <div className=\"landingInfoPage\">\r\n                        <div>\r\n                            <p className=\"landingHeading\" style={{fontSize:22, margin:0}}>Learn more about us</p>\r\n                        </div>\r\n                        <div style={{display:'flex', flexDirection:'row', width:'100%', flexWrap: 'wrap'}}>\r\n                            <div className=\"col-md-6 col-sm-12 col-xs-12\" style={{padding:0, paddingLeft:'1.0rem', paddingRight:'1.0rem', paddingTop:'1.6rem'}}>\r\n                                <p className=\"landingSubheading\" style={{textAlign:\"left\", margin: 0}}>\r\n                                    <span className=\"links\" onClick={this.togglePrivacyPolicyModal}>Privacy Policy</span>\r\n                                </p>\r\n                                \r\n                                <p className=\"landingSubheading\" style={{textAlign:\"left\", margin: 0}}>\r\n                                    <span className=\"links\" onClick={this.toggleTermsModal}>Terms {\"&\"} Conditions</span>\r\n                                </p>\r\n                                \r\n                                <p className=\"landingSubheading\" style={{textAlign:\"left\", margin: 0}}>\r\n                                    <span className=\"links\" onClick={this.toggleCancellationRefundModal}>Refunds and Cancellations</span>\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"col-md-6 col-sm-12 col-xs-12\" style={{marginTop:'1.2rem', padding: 0, paddingLeft:'1.0rem', paddingRight:'1.0rem'}}>\r\n                                <p className=\"landingSubheading\" style={{textAlign:\"left\", fontWeight:600, fontSize:18, margin: 0}}>\r\n                                    Contact Us:\r\n                                </p>\r\n                                <p className=\"landingSubheading\" style={{textAlign:\"left\", margin: 0}}>\r\n                                    sanjayathavale@mobilesurta.com\r\n                                </p>\r\n                                <p className=\"landingSubheading\" style={{textAlign:\"left\", margin: 0}}>\r\n                                    B-2, Patil Gardens, Kothrud, Pune\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <Modal isOpen={this.state.privacyPolicyModal} toggle={this.togglePrivacyPolicyModal}>\r\n                            <ModalHeader toggle={this.togglePrivacyPolicyModal}>Privacy Statement</ModalHeader>\r\n                            <ModalBody>\r\n                            <p>\r\n                            <b>SECTION 1 - WHAT DO WE DO WITH YOUR INFORMATION?</b>\r\n                            <p> When you purchase our services, as part of the purchasing process, we collect the personal information you give us such as your name, address and email address. When you browse our store, we also automatically receive your computers internet protocol (IP) address in order to provide us with information that helps us learn about your browser and operating system. Email marketing (if applicable): With your permission, we may send you emails about our store, new products and other updates. </p>\r\n                            \r\n                            <br/>\r\n                            <b>SECTION 2 - CONSENT</b>\r\n                            <p>How do you get my consent? When you provide us with personal information to complete a transaction, verify your credit card, place an order, we imply that you consent to our collecting it and using it for that specific reason only. If we ask for your personal information for a secondary reason, like marketing, we will either ask you directly for your expressed consent, or provide you with an opportunity to say no.</p>\r\n                            \r\n                            <br/>\r\n                            <b>How do I withdraw my consent?</b>\r\n                            <p>If after you opt-in, you change your mind, you may withdraw your consent for us to contact you, for the continued collection, use or disclosure of your information, at anytime, by contacting us at sanjayathavale@mobilesurta.com or mailing us at: B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038</p>\r\n\r\n                            <br/>\r\n                            <b>SECTION 3 - DISCLOSURE</b>\r\n                            <p>We may disclose your personal information if we are required by law to do so or if you violate our Terms of Service.</p>\r\n\r\n                            <br/>\r\n                            <b>SECTION 4 - PAYMENT</b>\r\n                            <p>We use Razorpay for processing payments. We/Razorpay do not store your card data on their servers. The data is encrypted through the Payment Card Industry Data Security Standard (PCI-DSS) when processing payment. Your purchase transaction data is only used as long as is necessary to complete your purchase transaction. After that is complete, your purchase transaction information is not saved.</p>\r\n\r\n                            <br/>\r\n                            <b>SECTION 4 - PAYMENT</b>\r\n                            <p>We use Razorpay for processing payments. We/Razorpay do not store your card data on their servers. The data is encrypted through the Payment Card Industry Data Security Standard (PCI-DSS) when processing payment. Your purchase transaction data is only used as long as is necessary to complete your purchase transaction. After that is complete, your purchase transaction information is not saved. Our payment gateway adheres to the standards set by PCI-DSS as managed by the PCI Security Standards Council, which is a joint effort of brands like Visa, MasterCard, American Express and Discover. PCI-DSS requirements help ensure the secure handling of credit card information by our store and its service providers. For more insight, you may also want to read terms and conditions of razorpay on https://razorpay.com/.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 5 - THIRD-PARTY SERVICES</b>\r\n                            <p>In general, the third-party providers used by us will only collect, use and disclose your information to the extent necessary to allow them to perform the services they provide to us. However, certain third-party service providers, such as payment gateways and other payment transaction processors, have their own privacy policies in respect to the information we are required to provide to them for your purchase-related transactions. For these providers, we recommend that you read their privacy policies so you can understand the manner in which your personal information will be handled by these providers. In particular, remember that certain providers may be located in or have facilities that are located a different jurisdiction than either you or us. So if you elect to proceed with a transaction that involves the services of a third-party service provider, then your information may become subject to the laws of the jurisdiction(s) in which that service provider or its facilities are located. Once you leave our stores website or are redirected to a third-party website or application, you are no longer governed by this Privacy Policy or our websites Terms of Service. When you click on links on our store, they may direct you away from our site. We are not responsible for the privacy practices of other sites and encourage you to read their privacy statements.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 6 - SECURITY</b>\r\n                            <p>To protect your personal information, we take reasonable precautions and follow industry best practices to make sure it is not inappropriately lost, misused, accessed, disclosed, altered or destroyed.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 7 - COOKIES</b>\r\n                            <p>We use cookies to maintain session of your user. It is not used to personally identify you on other websites.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 8 - AGE OF CONSENT</b>\r\n                            <p>By using this site, you represent that you are at least the age of majority in your state or province of residence, or that you are the age of majority in your state or province of residence and you have given us your consent to allow any of your minor dependents to use this site.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 9 - CHANGES TO THIS PRIVACY POLICY</b>\r\n                            <p>We reserve the right to modify this privacy policy at any time, so please review it frequently. Changes and clarifications will take effect immediately upon their posting on the website. If we make material changes to this policy, we will notify you here that it has been updated, so that you are aware of what information we collect, how we use it, and under what circumstances, if any, we use and/or disclose it. If our store is acquired or merged with another company, your information may be transferred to the new owners so that we may continue to sell our services to you.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>QUESTIONS AND CONTACT INFORMATION</b>\r\n                            <p>If you would like to: access, correct, amend or delete any personal information we have about you, register a complaint, or simply want more information contact our Privacy Compliance Officer at sanjayathavale@mobilesutra.com or by mail at B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038</p>\r\n                            <p>Sanjay Athavale</p>\r\n                            <p>B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038</p>\r\n                            \r\n                            </p>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                            <Button color=\"primary\" onClick={this.togglePrivacyPolicyModal}>Okay</Button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n\r\n                        <Modal isOpen={this.state.termsModal} toggle={this.toggleTermsModal}>\r\n                            <ModalHeader toggle={this.toggleTermsModal}>Teleconsultancy Conditions</ModalHeader>\r\n                            <ModalBody>\r\n                            <p>I hereby agree and hence give consent that my personal health information may be shared for referral purposes as well as for Medical Insurance purposes. (reimbursement or cashless). It is understood and agreed that the medical information will not be shared with dispensing chemists or drug manufacturers, apart from working diagnosis and prescription part. I also hereby consent to use my clinical information for data collection, research, scientific publication, advertising and surveys without disclosing my identity in any manner and without breach of confidentiality. I have understood the implications of such partial or full disclosure of my information to other agencies, which is required in my own interest. While sharing the information to next caregiver or referral, the doctors have laid down the same standards of confidentiality, but in case of any breach by them, we will not hold any doctor liable in any manner. *ln case of children or insane person, consent provided by the patient's parent/guardian user. </p>\r\n                            <p><b>Please Note:</b></p>\r\n                            <p>\r\n                            Online/phone consultation is not a substitute for physical/in-person consultation. Your doctors response may be delayed and is dependant on their availability. Please visit your hospital or nearest medical centre if you need immediate or urgent help. \r\n                            </p>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                            <Button color=\"primary\" onClick={this.toggleTermsModal}>Okay</Button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n                        \r\n                        <Modal isOpen={this.state.cancellationRefundModal} toggle={this.toggleCancellationRefundModal}>\r\n                            <ModalHeader toggle={this.toggleCancellationRefundModal}>Cancellation Policy</ModalHeader>\r\n                            <ModalBody>\r\n                            <p>Currently, we do not provide a functionality to cancel booked appointments, but do provide a functionality to re-schedule these appointments, until before 1 day before the date of appointment, in the case of Online Appointments.</p>\r\n                            <p>Hence, there would be strictly no refunds, in regards to the transactions undertaken in the appointment booking process.</p>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                            <Button color=\"primary\" onClick={this.toggleCancellationRefundModal}>Okay</Button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n\r\n                        <div style={{textAlign:'center', marginTop: '2.0rem'}}>\r\n                                <Button color=\"success\" className=\"landingButton\" onClick={this.toggleButton}> \r\n                                    Jump to Doctor\r\n                                </Button>\r\n                        </div>\r\n                     </div>\r\n                     {\r\n                    (this.state.goToDoctor) ? (\r\n                        <Redirect push\r\n                            to={{\r\n                                pathname: `/9767427053/`,\r\n                            }} />\r\n                    ) : (<div></div>)\r\n                    }\r\n                     \r\n                \r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    {/* {\r\n      (this.state.isLoading) ? (<Loader loading={this.state.isLoading}/>) : (\r\n        <div className=\"row\">\r\n        {         \r\n        (this.state.isFetching) ? (\r\n          <Loader loading={this.state.isFetching}/>\r\n            ) :\r\n           ( (this.state.doctorData) ? ((!this.state.toggleSwitch) ? (<div className=\"col-md-7 col-sm-12 col-xs-12 profile-box\">\r\n                          <div className=\"left-box\">                                        \r\n                          <div className=\"welcome-box profile-box\">\r\n                              <p className=\"heading\">\r\n                              Welcome to the \r\n                              <span className=\"bold\">{\" Dr. \" +this.state.doctorData.name}'s consultancy</span>\r\n                              </p>\r\n                              <p>\r\n                              {this.state.doctorData.description.doctorIntro}\r\n                              </p>\r\n                          </div>\r\n                          <div className=\"prof\r\n                          ile-box\">\r\n                              <div className=\"profile-section\">\r\n                              <div className=\"img-box\">\r\n                                  <img className=\"img-box\"\r\n                                  src={this.state.doctorData.avatar} \r\n                                  />\r\n                              </div>\r\n                              <div className=\"timings\" id=\"SlotPopover\" style={{cursor: 'pointer'}}>\r\n                                <div style={{display: 'flex', flexDirection:'column', textAlign: 'right', justifyContent:'center', marginRight:'3vmin'}}> \r\n                                  <div className=\"small-img-box-pull-left\" >\r\n                                    <img className=\"grey-clock-style\"\r\n                                        src={require('../../Assets/Images/gray-clock.svg')} \r\n                                    />\r\n                                  </div>\r\n                                  <p style={{paddingTop: '1vh'}}>Timings</p>\r\n                                </div>\r\n\r\n                                  <Popover isOpen={this.state.slotPopoverOpen} target=\"SlotPopover\" trigger=\"legacy\" placement=\"left\" toggle={this.toggleSlotPopover}>\r\n                                    \r\n                                        <PopoverBody>\r\n                                            <div>\r\n                                                <p>\r\n                                                    <b> The doctor operates on the following days: </b>\r\n                                                </p>\r\n                                                <p>\r\n                                                    {\r\n                                                        (this.state.dObjArray) ? (\r\n                                                            this.state.dObjArray.map((obj, index) => {\r\n                                                                return(\r\n                                                                    <div>\r\n                                                                        <span><b>{Object.keys(obj)[0]}:</b>&emsp;</span>\r\n                                                                            {\r\n                                                                                console.log(obj[Object.keys(obj)[0]]),\r\n                                                                                (obj[Object.keys(obj)[0]]) ? (\r\n                                                                                    obj[Object.keys(obj)[0]].map((o,i) => {\r\n                                                                                      if(obj[Object.keys(obj)[0]].length<2){\r\n                                                                                        // console.log(\"in single timeslot\");\r\n                                                                                        return(\r\n                                                                                          <span>\r\n                                                                                              <span>{o.openTime}</span>\r\n                                                                                              <span>&nbsp;to&nbsp;</span>\r\n                                                                                              <span>{o.closeTime}</span>\r\n                                                                                          </span>\r\n                                                                                        )\r\n                                                                                      }\r\n                                                                                      else{\r\n                                                                                        if(i!=obj[Object.keys(obj)[0]].length-1){\r\n                                                                                          // console.log(i);\r\n                                                                                          // console.log(obj[Object.keys(obj)[0]].length-1);\r\n                                                                                          // console.log(\"in multiple timeslot intermediate stage\");\r\n                                                                                          return(\r\n                                                                                            <span>\r\n                                                                                                <span>{o.openTime}</span>\r\n                                                                                                <span>&nbsp;to&nbsp;</span>\r\n                                                                                                <span>{o.closeTime}</span>\r\n                                                                                                <span>,&nbsp;</span>\r\n                                                                                            </span>\r\n                                                                                          )\r\n                                                                                        }\r\n                                                                                        else{\r\n                                                                                          // console.log(\"in multiple timeslot final stage\");\r\n                                                                                          return(\r\n                                                                                            <span>\r\n                                                                                                <span>{o.openTime}</span>\r\n                                                                                                <span>&nbsp;to&nbsp;</span>\r\n                                                                                                <span>{o.closeTime}</span>\r\n                                                                                            </span>\r\n                                                                                          )\r\n                                                                                        }\r\n                                                                                      }\r\n                                                                                        \r\n                                                                                    })\r\n                                                                                ) : (<div></div>)\r\n                                                                            }\r\n                                                                        <hr/>\r\n                                                                    </div>\r\n                                                                    \r\n                                                                )\r\n                                                            })\r\n                                                        ) : (<div></div>)\r\n                                                        \r\n                                                    }\r\n                                                    \r\n                                                </p>\r\n                                            </div>\r\n                                        </PopoverBody>\r\n                                    </Popover>\r\n                              </div>\r\n                              <div className=\"pro-description\">\r\n                                  <p>\r\n                                  <span className=\"bold\"> \r\n                                      {\"Dr. \"+this.state.doctorData.name}\r\n                                  </span>\r\n                                  <br/>\r\n                                  {this.state.doctorData.description.hospitalName}\r\n                                  </p>\r\n                              </div>\r\n                              \r\n                              </div>\r\n                          </div>\r\n                            {console.log(this.state.patientsData)}\r\n                          <div className=\"profile-box\">\r\n                              <div className=\"pro-description\">\r\n                              <p>\r\n                                  <span className=\"bold\">\r\n                                  Education and experience\r\n                                  </span>\r\n                                  <br/>\r\n                                  {this.state.doctorData.description.education}\r\n                              </p>\r\n                              </div>\r\n                          </div>\r\n\r\n                          \r\n                          </div>\r\n                      </div>) : (<div> </div>)) : (<div></div>)) \r\n        \r\n        \r\n                     \r\n                }\r\n\r\n          \r\n            \r\n                  <div className=\"form-group\">\r\n                    {\r\n                      (!this.state.userLoggedIn) ? (\r\n                        \r\n                          (!this.state.userVerified) ? \r\n                          ( <div>\r\n                              <div style={{display: 'flex', justifyContent:'center'}}>\r\n                                <input type=\"text\" \r\n                                  pattern=\"\\d*\"\r\n                                  name=\"phone number\" \r\n                                  className=\"std-input\" \r\n                                  placeholder=\"Enter Your Phone Number\" \r\n                                  onChange={this.handleTextChange('userPhone')}/> \r\n                                  {\r\n                                    (this.state.isVerifying) ? (<Spinner style={{margin: \"1.3% 3%\", width:\"2rem\", height:\"2rem\"}}color=\"dark\" />) : (<div></div>)\r\n                                  }\r\n                              </div>\r\n                            <p id=\"patient-not-found\"></p> \r\n                          </div>) : \r\n                          (<div> <input type=\"text\" \r\n                          pattern=\"\\d*\"\r\n                          name=\"phone number\" \r\n                          className=\"std-input\" \r\n                          placeholder=\"Enter the OTP\" \r\n                          onChange={this.handleTextChange('userOtp')}/> \r\n                          <p id=\"patient-not-found\"></p> </div> )\r\n                        \r\n                      ) : (\r\n                        <div class=\"patient-dependents\"> \r\n                        <div class=\"patient-box\">\r\n                          <div class=\"chiller_cb\">\r\n                            <input id=\"myCheckbox1\" type=\"radio\" name=\"for-radio\" value=\"self\" onInput={this.choosePerson}/>\r\n                            <label for=\"myCheckbox1\">For Me</label>\r\n                            <span></span>\r\n                          </div>\r\n                          {console.log(\"after the fetches: \"+this.state.dependentsData)}\r\n                            {\r\n                              (this.state.dependentsData) ? (\r\n                                this.state.dependentsData.map((dep, index) => (\r\n                                  <div class=\"chiller_cb\">\r\n                                  <input id={`myCheckbox${index+2}`} type=\"radio\" name=\"for-radio\" value={`person${index+1}`} onInput={this.choosePerson}/>\r\n                                  <label for={`myCheckbox${index+2}`}>{`For ${dep.title} ${dep.name}`}</label>\r\n                                  <span></span>\r\n                                  </div>\r\n                                ))\r\n                              ) : (\r\n                                <div></div>\r\n                              )\r\n                            }\r\n                          \r\n                          \r\n                          <div class=\"chiller_cb\">\r\n                            <input id=\"myCheckboxOther\" type=\"radio\" name=\"for-radio\" value=\"other\" onInput={this.choosePerson}/>\r\n                            <label for=\"myCheckboxOther\">For Other</label>\r\n                            <span></span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {\r\n                          (this.state.userChosen == \"other\") ? (\r\n                            <div class=\"detail-box\">\r\n                              <h3>Enter other details</h3>\r\n                              <div>\r\n                              <div class=\"row\">\r\n\r\n                                <div class=\"col-md-3 col-sm-3 col-xs-12\">\r\n                                  <div class=\"form-group\">\r\n                                    <select class=\"form-control\" id=\"exampleFormControlSelect1\" onChange={this.handleSelectChange('title')}>\r\n                                      <option value=\"Mr.\">Mr.</option>\r\n                                      <option value=\"Mrs.\">Mrs.</option>\r\n                                      <option value=\"Miss.\">Miss.</option>\r\n                                      <option value=\"Mst.\">Mst.</option>\r\n                                      \r\n                                    </select>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-4 col-sm-4 col-xs-12\">\r\n                                  <div class=\"form-group\">\r\n                                    <input type=\"text\" name=\"dependent-name\" class=\"std-input\" placeholder=\"Name\" onChange={this.handleTextChange('userDependentNameEntry')}/>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-5 col-sm-5 col-xs-12\">\r\n                                  <div class=\"form-group\">\r\n                                    <input type=\"text\" name=\"dependent-relation\" class=\"std-input\" placeholder=\"Relation with person\" onChange={this.handleTextChange('userDependentRelationEntry')}/>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-5 col-sm-5 col-xs-12\">\r\n                                  <div class=\"form-group\">\r\n                                    <select class=\"form-control\" id=\"exampleFormControlSelect1\" onChange={this.handleSelectChange(\"gender\")}>\r\n                                      <option>Select your gender</option>\r\n                                      <option value=\"Male\">Male</option>\r\n                                      <option value=\"Female\">Female</option>\r\n                                      <option value=\"Other\">Other</option>\r\n                                    </select>                                  \r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-5 col-sm-5 col-xs-12\">\r\n                                  <div class=\"form-group\">\r\n                                    <div style={{display:'flex', flexDirection:'column'}}>\r\n                                      <label for=\"dependent-dob\" style={{display: 'flex', margin: 0, color: '#909090', fontSize:12}}>Enter your Birth Date</label>\r\n                                      <input type=\"date\" id=\"dependent-dob\" name=\"dependent-dob\" onChange={this.handleDate} className=\"std-input\" placeholder=\"Enter Date of Birth\"/>\r\n                                      \r\n                                    </div>   \r\n                                  </div>\r\n                                </div>\r\n                                \r\n                                       \r\n\r\n                                <div className=\"chiller_cb long\">\r\n                                    <input id=\"myAgreeCheckbox\" type=\"checkbox\" onChange={this.toggleUserDependentAgree}/>\r\n                                    <label for=\"myAgreeCheckbox\" style={{marginRight:'1rem'}}>I agree to take responsibility of all my dependents' actions, and agree to pose as guardian to these dependents if any one (but not limited to one) is under the legal age of 18.</label>\r\n                                    <span>   \r\n                                       \r\n                                    </span>\r\n                                </div>\r\n\r\n                              </div>\r\n                              </div>\r\n                              \r\n                            </div>\r\n                          ) : (<div></div>)\r\n                        }\r\n                        <p id=\"data-not-found\"></p> \r\n                        </div>\r\n                      )\r\n                    }\r\n                    \r\n                    \r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    \r\n                  \r\n                  {\r\n                    (!this.state.userLoggedIn) ? (\r\n                      (!this.state.userVerified) ? (<button className=\"std-button\" onClick={this.sendOtp}>\r\n                          Get OTP\r\n                        </button>) : (<button className=\"std-button\" onClick={this.verifyOtp}>\r\n                          Submit OTP\r\n                        </button>)\r\n                    ) : (<button className={`${(this.state.userChosen) ? 'std-button' : 'std-button-disabled'}`} onClick={this.handleSubmit} \r\n                    disabled={!this.state.userChosen}> \r\n                    Submit\r\n                  </button>)\r\n                    \r\n                  }      \r\n                    \r\n                  </div>\r\n                {\r\n                  (!this.state.userLoggedIn) ? (\r\n                    <div>\r\n                      <hr/>\r\n                      <p>If you are not registered patient, please click on the \r\n                        &nbsp;\r\n                        <b>Register</b>\r\n                        &nbsp;\r\n                        to register your number\r\n                      </p>\r\n                      <div className=\"form-group\">\r\n                        <Link to={`/${this.state.handleDocId}/Register`}>\r\n                          <button className=\"std-button\">Register</button>\r\n                        </Link>\r\n                      </div>\r\n                      <span className={`${(!this.state.toggleSwitch) ? \"toggle-button-regi\" : \"toggle-button-rotate\"}`} onClick={this.handleToggleArrow.bind(this)}>\r\n                      </span>\r\n                    </div>) : (<div></div>)\r\n                }\r\n                \r\n              </div>\r\n              {\r\n                (this.state.dataSubmitted) ? \r\n                (<Redirect push\r\n                      to={{ pathname: `/${this.state.handleDocId}/Consultancy`,\r\n                      }}/> ) : (<div></div>)\r\n              }\r\n            </div>\r\n        </div>\r\n      )\r\n    } */}\r\n        \r\n       \r\n    </div> \r\n    </div>\r\n    </body>\r\n  );\r\n}\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport firebase from '../../Services/firebase';\r\nimport { Modal, Input, ModalBody, ModalHeader, ModalFooter, Button, Spinner,Form, FormGroup, Label, FormText, Popover, PopoverHeader, PopoverBody, \r\n  Collapse,\r\n  Navbar,\r\n  NavbarBrand,\r\n  NavbarToggler,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  NavbarText\r\n   } from 'reactstrap';\r\n\r\nimport { AvForm, AvField } from 'availity-reactstrap-validation';\r\nimport Loader from '../../Assets/Loader/Loader';\r\nimport moment from 'moment';\r\n\r\n\r\n\r\nclass Login extends Component {\r\nconstructor(props) {\r\n   \r\n    super(props);\r\n    this.state = {\r\n        doctorId: this.props.match.params.handle,\r\n        toggleSwitch: false,\r\n        userDependentTitle: 'Mr.',\r\n        dataSubmitted: false,\r\n        userChosenId: '0',\r\n        userDependentRelation: 'self',\r\n        isLoading: false,\r\n        handleDocId : this.props.match.params.handle,\r\n        slotPopoverOpen: false,\r\n        userDependentAgree: false,\r\n        userNotificationModal: false,\r\n      };\r\n      \r\n      \r\n      \r\n\r\n      if(props.location.state){\r\n        if(props.location.state.userLoggedInFromRegister){\r\n          // this.setState({userLoggedIn : true});\r\n          // this.setState({userChosen : \"self\"});\r\n          // this.setState({dependentsData: []});\r\n          this.state[\"userLoggedInFromRegister\"] = true;\r\n        }\r\n        \r\n      }\r\n}\r\ncomponentDidMount = async() => {\r\n  \r\n\r\n  this.setState({isFetching : true});\r\n  let dbref = firebase.database().ref(`doctors/${this.state.doctorId}`);\r\n  await dbref.once(\"value\", async(snap) => {\r\n    let data = snap.val();\r\n    this.setState({ doctorData : data });\r\n    this.setState({ doctorName: data[\"name\"]});\r\n    let doctorPaymentAlternativeOnline = data[\"consultancyFee\"][\"FeeCollect_Mode_online\"];\r\n    let doctorPaymentAlternativeOffline = data[\"consultancyFee\"][\"FeeCollect_Mode_offline\"];\r\n    this.setState({doctorPaymentAlternativeOnline});\r\n    this.setState({doctorPaymentAlternativeOffline});\r\n\r\n    // const snapshot = firebase.database().ref()\r\n    //   .child(`patients/8529469097/notifications`)\r\n    //   .once('value')\r\n    //   .then(async(snapshot) => {\r\n    //     let number = 0;\r\n    //     console.log(\"notif object: \"+JSON.stringify(snapshot.val()));\r\n    //     if(snapshot.val()){\r\n    //         console.log(Object.keys(snapshot.val()).length);\r\n    //         number = Object.keys(snapshot.val()).length;\r\n    //     }\r\n\r\n    //     console.log(number);\r\n    //     var object = {\r\n    //         id : number + 1,\r\n    //         notification : `You have a new Prescription for appointment held at xyz abc. Go to Prescriptions to check it out.`,\r\n    //         doctorId : 9890120677,\r\n    //         isSeen : false\r\n    //     };\r\n    //     var updates = {};\r\n    //     updates[\r\n    //         'patients/' + '8529469097' + '/notifications/' + (parseInt(number)+1)\r\n    //     ] = object;\r\n    //     await firebase.database().ref().update(updates);\r\n    //   });\r\n  });\r\n\r\n  await this.fetchSessionStorageItems();\r\n\r\n  await this.fetchSlotDetails();\r\n\r\n\r\n  firebase.auth().onAuthStateChanged(function(user) {\r\n    if (user) {\r\n        console.log(\"USER LOGGED IN\")\r\n    } else {\r\n        // No user is signed in.\r\n        console.log(\"USER NOT LOGGED IN\")\r\n    }\r\n  });\r\n\r\n}\r\n\r\nfetchSessionStorageItems = async() => {\r\n\r\n    let diChecker = localStorage.getItem('doctorId');\r\n\r\n    if(this.state.handleDocId == diChecker){\r\n      let uli = sessionStorage.getItem('userLoggedIn');\r\n      let uc = sessionStorage.getItem('userChosen');\r\n      let up = sessionStorage.getItem('userPhone');\r\n      let pd = sessionStorage.getItem('patientsData');\r\n      let udn = sessionStorage.getItem('userDependentName');\r\n      let ucm = sessionStorage.getItem('userCommunicationMode');\r\n      \r\n      \r\n      if(uli != \"undefined\" && uc != \"undefined\" && up !=\"undefined\" && pd != \"undefined\" && udn!==\"undefined\" && ucm !==\"undefined\"){\r\n        this.setState({userLoggedIn: uli});\r\n        // this.setState({userChosen: uc});\r\n        this.setState({userCommunicationMode: ucm});\r\n        if(ucm == \"WhatsApp\"){\r\n          let uw = sessionStorage.getItem('userWhatsapp');\r\n          if(uw !==\"undefined\"){\r\n            this.setState({userWhatsapp: uw});\r\n          }\r\n        }\r\n        this.setState({userPhone: up});\r\n        this.setState({userDependentName: udn});\r\n        await this.setState({patientsData: JSON.parse(pd)});\r\n\r\n        if(pd){ \r\n          let obj = JSON.parse(pd);\r\n          let dependentsDataObj = obj[\"dependents\"];\r\n          let dependentsDataArray = [];\r\n            if(dependentsDataObj){\r\n              dependentsDataArray = Object.keys(dependentsDataObj).map(key => {\r\n                return dependentsDataObj[key];\r\n              });\r\n            }\r\n          this.setState({dependentsData: dependentsDataArray});\r\n        }\r\n        \r\n      }\r\n    }\r\n\r\n    \r\n\r\n    \r\n}\r\n\r\nfetchSlotDetails = async() => { \r\n  console.log('in doctor fetcher'+ this.state.doctorId);\r\n      console.log(this.state.doctorData);\r\n      let dObject = this.state.doctorData[\"slotDetails\"][\"timeSlotsTemp\"];\r\n      console.log(dObject);\r\n      if(dObject){\r\n        let dObjKeys = Object.keys(dObject);\r\n        let dObjArray = [];\r\n\r\n        for(let i=0;i<dObjKeys.length;i++){\r\n            // dObjTemp.push(dObject[dObjKeys[i]]);\r\n            let temp = Object.keys(dObject[dObjKeys[i]]);\r\n            let dObjTemp = [];\r\n            for(let j=0;j<temp.length;j++){\r\n                dObjTemp.push(dObject[dObjKeys[i]][temp[j]]);\r\n            }\r\n            let key = dObjKeys[i];\r\n            let obj={};\r\n            obj[key] = dObjTemp;\r\n            dObjArray.push(obj);\r\n        }\r\n\r\n        const sorter = {\r\n            // \"sunday\": 0, // << if sunday is first day of week\r\n            \"Mon\": 1,\r\n            \"Tue\": 2,\r\n            \"Wed\": 3,\r\n            \"Thu\": 4,\r\n            \"Fri\": 5,\r\n            \"Sat\": 6,\r\n            \"Sun\": 7\r\n          }\r\n\r\n          dObjArray.sort(function sortByDay(a, b) {\r\n            //console.log(a);\r\n            let day1 = Object.keys(a)[0];\r\n            let day2 = Object.keys(b)[0];\r\n            return sorter[day1] - sorter[day2];\r\n          });\r\n\r\n\r\n        console.log(dObjArray);\r\n        this.setState({ dObjArray });\r\n      }\r\n      \r\n      this.setState({isFetching : false});\r\n}\r\n\r\nhandleToggleArrow(){\r\n  // console.log(\"I reached arrow click\");\r\n  this.setState({ toggleSwitch: !this.state.toggleSwitch });\r\n}\r\n\r\nhandleTextChange = (key) => (event) => {\r\n  // console.log(this.state.userName);\r\n  this.setState({ [key]: event.target.value});\r\n}\r\n\r\nhandleSubmit = async() =>{\r\n  // console.log(\"entered handle submit\");\r\n  if(this.state.userChosen==\"self\"){\r\n    await this.setState({\r\n      userDependentTitle: (this.state.userDependentGender==\"Male\") ? \"Mr.\" : \"Mrs.\",\r\n    });\r\n  }  \r\n  if(this.state.userChosen==\"other\"){\r\n    console.log(this.state.userDependentAgree+\" \"+this.state.userDependentNameEntry+\" \"+this.state.userDependentRelationEntry+\" \"+this.state.userDependentGenderEntry+\" \"+this.state.userDependentBirthdateEntry);\r\n    if(this.state.userDependentAgree) {\r\n      if(this.state.userDependentNameEntry && this.state.userDependentRelationEntry && this.state.userDependentGenderEntry && this.state.userDependentBirthdateEntry){\r\n        var updates = {};\r\n        await this.setState({\r\n          userDependentBirthdate: this.state.userDependentBirthdateEntry,\r\n          userDependentName: this.state.userDependentNameEntry,\r\n          userDependentRelation: this.state.userDependentRelationEntry,\r\n          userDependentGender: this.state.userDependentGenderEntry,\r\n        });\r\n\r\n        let dName = this.state.userDependentNameEntry;\r\n        let num = 0;\r\n        if(this.state.patientsData['dependents']){\r\n          num = Object.keys(this.state.patientsData['dependents']).length;\r\n        }\r\n        num++;\r\n        \r\n        let dObject = {\r\n          name:  this.state.userDependentName,\r\n          relation: this.state.userDependentRelation,\r\n          title: this.state.userDependentTitle,\r\n          gender: this.state.userDependentGender,\r\n          birthdate: this.state.userDependentBirthdate,\r\n        }\r\n  \r\n        let keyStringDep = \"d\"+num;\r\n        await this.setState(prevState => ({\r\n          patientsData: {\r\n            ...prevState.patientsData,\r\n            dependents : {\r\n              ...prevState.patientsData.dependents,\r\n              [keyStringDep] : dObject\r\n            }\r\n          }\r\n        })\r\n        );\r\n  \r\n        updates[`patients/${this.state.userPhone}/dependents/d${num}`] = dObject;\r\n        await firebase.database().ref().update(updates);\r\n        sessionStorage.setItem('patientsData', JSON.stringify(this.state.patientsData));\r\n  \r\n      }else{\r\n        document.getElementById('data-not-found').innerHTML=\"Please enter required data\";\r\n        return;\r\n      }\r\n    }\r\n    else{\r\n      document.getElementById('data-not-found').innerHTML=\"Please agree to the aforementioned conditions\";\r\n      return;\r\n    }\r\n    \r\n  }\r\n\r\n  // state: {\r\n      //   doctorId: this.state.doctorId,\r\n      //   dependentInfo : {\r\n      //     name : this.state.userDependentTitle+\" \"+this.state.userDependentName,\r\n      //     id : this.state.userChosenId,\r\n      //     relation: this.state.userDependentRelation\r\n      //   },\r\n      //   userId: this.state.userPhone\r\n      // }\r\n\r\n      \r\n      localStorage.setItem('userDependentName', this.state.userDependentTitle+\" \"+this.state.userDependentName);\r\n      localStorage.setItem('userDependentId', this.state.userChosenId);\r\n      localStorage.setItem('userDependentRelation', this.state.userDependentRelation);\r\n      localStorage.setItem('userDependentGender', this.state.userDependentGender);\r\n      localStorage.setItem('userDependentBirthdate', this.state.userDependentBirthdate);\r\n      localStorage.setItem('userId', this.state.userPhone);\r\n      localStorage.setItem('doctorPaymentAlternativeOnline', this.state.doctorPaymentAlternativeOnline);\r\n      localStorage.setItem('doctorPaymentAlternativeOffline', this.state.doctorPaymentAlternativeOffline);\r\n      \r\n  \r\n  this.setState({dataSubmitted: true});\r\n  \r\n}\r\n\r\nhandleSelectChange = (key) => async(event) =>{\r\n  if(key==\"title\"){\r\n    this.setState({ userDependentTitle: event.target.value});\r\n  }\r\n  if(key==\"gender\"){\r\n    await this.setState({ userDependentGenderEntry: event.target.value});\r\n  }\r\n}\r\n\r\nhandleDate = (event) => {\r\n  console.log(event.target.value);\r\n  this.setState({userDependentBirthdateEntry : event.target.value});\r\n}\r\n\r\nhandleLogout = () => {\r\n  localStorage.removeItem('doctorId');\r\n  window.location.reload();\r\n}\r\n\r\nchoosePerson = (event) => {\r\n  // console.log(event.target.value);\r\n  console.log(this.state.patientsData[\"name\"])\r\n  \r\n  \r\n  this.setState({userChosen: event.target.value});\r\n  if(event.target.value == \"self\"){\r\n    this.setState({ userChosenId: '0'});\r\n    this.setState({ userDependentName: this.state.patientsData[\"name\"]});\r\n    this.setState({ userDependentGender: this.state.patientsData[\"gender\"]});\r\n    this.setState({ userDependentBirthdate: this.state.patientsData[\"birthdate\"]});\r\n    this.setState({ userDependentRelation: 'self'});\r\n    this.setState({ userDependentId: '0'});\r\n  }\r\n  else if(event.target.value == \"other\"){\r\n    let num=0;\r\n    if(this.state.patientsData['dependents']){\r\n      num = Object.keys(this.state.patientsData['dependents']).length;\r\n    }\r\n    num++;\r\n    this.setState({ userChosenId: num.toString()});\r\n    this.setState({ userDependentId: num.toString()});\r\n  }else{\r\n    let str = event.target.value.toString().substring(6);\r\n    // let num = parseInt(str, 10);\r\n    let id = \"d\"+str;\r\n    let dObj = this.state.patientsData['dependents'][id];\r\n    this.setState({ userChosenId: str});\r\n    this.setState({ userDependentId: str});\r\n    this.setState({ userDependentName: dObj.name});\r\n    this.setState({ userDependentTitle: dObj.title});\r\n    this.setState({ userDependentRelation: dObj.relation});\r\n    this.setState({ userDependentGender: dObj.gender});\r\n  }\r\n\r\n}\r\n\r\nverifyOtp = async() => {\r\n    console.log(this.state.patientsData);\r\n    let dependentsDataObj = this.state.patientsData[\"dependents\"];\r\n    let dependentsDataArray = [];\r\n    if(dependentsDataObj){\r\n      dependentsDataArray = Object.keys(dependentsDataObj).map(key => {\r\n        return dependentsDataObj[key];\r\n      });\r\n    }\r\n    this.setState({dependentsData: dependentsDataArray});\r\n    console.log(\"about to enter spnac\");\r\n    this.submitPhoneNumberAuthCode();\r\n}\r\n\r\n\r\n\r\nverifyUser = () =>{\r\n  // console.log(this.state.patientsData);\r\n  this.setState({userVerified: true});\r\n}\r\n\r\nsendOtp = async() => {\r\n  this.setState({isVerifying: true});\r\n  await firebase.database().ref(`/patients/${this.state.userPhone}`).once(\"value\").then(async(snap)=>{\r\n    const data = snap.val();\r\n    if(!data){\r\n      this.setState({ userNotFound: true});\r\n      // document.getElementById(\"patient-not-found\").innerHTML='User not found. Please register first.';\r\n      this.setState({isVerifying: false});\r\n      return;\r\n    }\r\n    await this.submitPhoneNumberAuth();\r\n    this.setState({ patientsData: data});\r\n    let notifArray = data[\"notifications\"];\r\n    if(notifArray){\r\n      let notifArrayFil = notifArray.filter((ele) => {\r\n        return ele !=null && ele.doctorId==this.state.handleDocId && ele.isSeen==false;\r\n      });\r\n      console.log(notifArrayFil);\r\n      this.setState({ notificationData: notifArrayFil});\r\n    }\r\n   \r\n    this.setState({ userDependentName: data[\"name\"]});\r\n    this.setState({isVerifying: false});\r\n    this.verifyUser();\r\n    console.log(\"finished in sendOtp\");\r\n    return;\r\n  });\r\n}\r\n\r\n\r\n// This function runs when the 'sign-in-button' is clicked\r\n// Takes the value from the 'phoneNumber' input and sends SMS to that phone number  \r\nsubmitPhoneNumberAuth = () => {\r\n    // We are using the test phone numbers we created before\r\n    // var phoneNumber = document.getElementById(\"phoneNumber\").value;\r\n    this.setState({isLoading: true});\r\n    console.log(\"entered reqd fn\");\r\n    var phoneNumber = '+91'+this.state.userPhone;\r\n    var appVerifier = new firebase.auth.RecaptchaVerifier(\r\n      \"recaptcha-container\",\r\n      {\r\n        size: \"invisible\",\r\n        callback: function(response) {\r\n          this.submitPhoneNumberAuth();\r\n        }\r\n      }\r\n    );\r\n    firebase\r\n    .auth()\r\n    .signInWithPhoneNumber(phoneNumber, appVerifier)\r\n    .then((confirmationResult) => {\r\n        window.confirmationResult = confirmationResult;\r\n        this.setState({ isLoading : false});\r\n        console.log(window.confirmationResult);\r\n        this.setState({confResult : window.confirmationResult});\r\n    })\r\n    .catch((error) => {\r\n        console.log(\"i am the spna error :\"+error);\r\n    });\r\n}\r\n\r\n// This function runs when the 'confirm-code' button is clicked\r\n// Takes the value from the 'code' input and submits the code to verify the phone number\r\n// Return a user object if the authentication was successful, and auth is complete\r\nsubmitPhoneNumberAuthCode = () => {\r\n  // We are using the test code we created before\r\n    // var code = document.getElementById(\"code\").value;\r\n    var code = this.state.userOtp;\r\n    if(this.state.confResult){\r\n      this.state.confResult\r\n      .confirm(code)\r\n      .then((result) => {\r\n          var user = result.user;\r\n          console.log(user);\r\n          document.getElementById(\"patient-not-found\").innerHTML='';\r\n          this.setState({userLoggedIn: true});\r\n          console.log(this.state.notificationData);\r\n          if(this.state.notificationData){\r\n            if(this.state.notificationData.length>0){\r\n              this.setState({userNotificationModal: true});\r\n            }\r\n          }\r\n          \r\n          // this.setState({userChosen: \"self\"});\r\n          localStorage.setItem('doctorId', this.state.doctorId);\r\n          sessionStorage.setItem('userLoggedIn', true);\r\n          sessionStorage.setItem('userChosen', \"self\");\r\n          sessionStorage.setItem('userDependentName', this.state.userDependentName);\r\n          \r\n          sessionStorage.setItem('userCommunicationMode', this.state.patientsData[\"communicationMode\"]);\r\n          if(this.state.patientsData[\"communicationMode\"]==\"WhatsApp\"){\r\n            sessionStorage.setItem('userWhatsapp', this.state.patientsData[\"userWhatsapp\"])\r\n          }\r\n          sessionStorage.setItem('userPhone', this.state.userPhone);\r\n          sessionStorage.setItem('patientsData', JSON.stringify(this.state.patientsData));\r\n          sessionStorage.setItem('loginTimestamp', moment(new Date()).valueOf());\r\n\r\n      }).then(console.log(this.state.userLoggedIn),\r\n              console.log(this.state.userChosen),)\r\n      .catch((error) => {\r\n          console.log(\"i am the spnac error :\"+error);\r\n          document.getElementById(\"patient-not-found\").innerHTML='Incorrect OTP. Please try again.';\r\n      });\r\n    }\r\n    \r\n}\r\n\r\nsetNotificationsSeen = () => {\r\n   let notifArray = this.state.notificationData;\r\n   let idArray = [];\r\n   var updates = {};\r\n   for(let i=0;i<notifArray.length;i++){\r\n    //  idArray.push(notifArray[i].id);\r\n     updates[`patients/${this.state.userPhone}/notifications/${notifArray[i].id}/isSeen`] = true;\r\n   }\r\n   firebase.database().ref().update(updates);\r\n}\r\n\r\nhandleUserNotificationButton = async() => {\r\n  await this.toggleUserNotificationModal();\r\n  await this.setState({goToPrescriptions: true});\r\n}\r\n\r\ntoggleUserLoggedInFromRegisterModal = () => {\r\n  this.setState(prevState=>{\r\n      return{\r\n          ...prevState,\r\n          userLoggedInFromRegister: !prevState.userLoggedInFromRegister,\r\n      }\r\n  });\r\n}\r\n\r\ntoggleSlotPopover = () => {\r\n  this.setState(prevState=>{\r\n    return{\r\n        ...prevState,\r\n        slotPopoverOpen: !prevState.slotPopoverOpen,\r\n    }\r\n  });\r\n}\r\n\r\ntoggleNavbar = () => {\r\n  this.setState(prevState=>{\r\n    return{\r\n        ...prevState,\r\n        isNavbarOpen: !prevState.isNavbarOpen,\r\n    }\r\n  });\r\n}\r\n\r\ntoggleUserDependentAgree = () => {\r\n  this.setState(prevState=>{\r\n    return{\r\n        ...prevState,\r\n        userDependentAgree: !prevState.userDependentAgree,\r\n    }\r\n  });\r\n}\r\n\r\ntoggleUserNotificationModal = () =>{\r\n  this.setState(prevState=>{\r\n    if(prevState.userNotificationModal==true){\r\n      this.setNotificationsSeen();\r\n    }\r\n    return{\r\n        ...prevState,\r\n        userNotificationModal: !prevState.userNotificationModal,\r\n    }\r\n  });\r\n}\r\n\r\n\r\nrender() {\r\n  return (\r\n    <body className=\"body\">\r\n    <div className=\"wrapper\">\r\n    <div className=\"container-fluid\">\r\n    <Navbar dark light expand=\"md\" style={{backgroundColor:\"#4be4ac\"}}>\r\n        <NavbarBrand href={`/${this.state.handleDocId}/`} style={{ color:'#ffffff', fontWeight:'600'}}>Teleconsultancy - Dr. {this.state.doctorName}</NavbarBrand>\r\n        {\r\n          (this.state.userLoggedIn) ? (\r\n            <NavbarToggler onClick={this.toggleNavbar} />\r\n          ) : (\r\n            <div></div>\r\n          )\r\n        }\r\n        \r\n        {\r\n          (this.state.userLoggedIn) ? (\r\n                <Collapse isOpen={this.state.isNavbarOpen} navbar>\r\n                  <Nav className=\"mr-auto\" navbar>\r\n                    <NavItem>\r\n                      <NavLink style={{color:'#ffffff'}} href={`/${this.state.handleDocId}/Appointments`}>My Appointments</NavLink>\r\n                    </NavItem>\r\n                    <NavItem>\r\n                      <NavLink style={{color:'#ffffff'}} href={`/${this.state.handleDocId}/Prescriptions`}>My Prescriptions</NavLink>\r\n                    </NavItem>\r\n                    <NavItem>\r\n                        <Link to={{pathname:`/${this.state.handleDocId}/`}}>\r\n                            <NavbarText style={{color:'#ffffff'}} onClick={this.handleLogout}> Logout </NavbarText>\r\n                        </Link>\r\n                    </NavItem>\r\n                  </Nav>\r\n                </Collapse>\r\n          ) : (\r\n            <div>\r\n\r\n            </div>\r\n          )\r\n        }\r\n        \r\n      </Navbar>  \r\n    \r\n     <Modal isOpen={this.state.userLoggedInFromRegister} toggle={this.toggleUserLoggedInFromRegisterModal}>\r\n        <ModalHeader toggle={this.toggleUserLoggedInFromRegisterModal}>Welcome, Hello there!</ModalHeader>\r\n        <ModalBody>\r\n            Alright, so now that you have registered, let's log you in to your account!\r\n        </ModalBody>\r\n        <ModalFooter>\r\n        <Button color=\"primary\" onClick={this.toggleUserLoggedInFromRegisterModal}>Let's go!</Button>\r\n        </ModalFooter>\r\n    </Modal>\r\n\r\n    <Modal isOpen={this.state.userNotificationModal} toggle={this.toggleUserNotificationModal}>\r\n        <ModalHeader toggle={this.toggleUserNotificationModal}>New Updates Found!</ModalHeader>\r\n        <ModalBody>\r\n            You have the following new notifications:\r\n            {\r\n              (this.state.notificationData) ? (\r\n                this.state.notificationData.map((element, index) => {\r\n                  return(\r\n                    <div>\r\n                      <p><b>{index+1}.</b>{element.notification}</p>\r\n                    </div>\r\n                  )\r\n                })\r\n              ) : (\r\n                <div></div>\r\n              )\r\n            }\r\n        </ModalBody>\r\n        <ModalFooter>\r\n        <Button color=\"primary\" onClick={this.handleUserNotificationButton}>Go to My Prescriptions.</Button>\r\n        </ModalFooter>\r\n    </Modal>\r\n\r\n    {\r\n      (this.state.isLoading) ? (<Loader loading={this.state.isLoading}/>) : (\r\n        <div className=\"row\">\r\n        {         \r\n        (this.state.isFetching) ? (\r\n          <Loader loading={this.state.isFetching}/>\r\n            ) :\r\n           ( (this.state.doctorData) ? ((!this.state.toggleSwitch) ? (<div className=\"col-md-7 col-sm-12 col-xs-12 profile-box\">\r\n                          <div className=\"left-box\">                                        \r\n                          <div className=\"welcome-box profile-box\">\r\n                              <p className=\"heading\">\r\n                              Welcome to the \r\n                              <span className=\"bold\">{\" Dr. \" +this.state.doctorData.name}'s consultancy</span>\r\n                              </p>\r\n                              <p>\r\n                              {this.state.doctorData.description.doctorIntro}\r\n                              </p>\r\n                          </div>\r\n                          <div className=\"profile-box\">\r\n                              <div className=\"profile-section\">\r\n                              <div className=\"img-box\">\r\n                                  <img className=\"img-box\"\r\n                                  src={this.state.doctorData.avatar} \r\n                                  />\r\n                              </div>\r\n                              <div className=\"timings\" id=\"SlotPopover\" style={{cursor: 'pointer'}}>\r\n                                <div style={{display: 'flex', flexDirection:'column', textAlign: 'right', justifyContent:'center', marginRight:'3vmin'}}> \r\n                                  <div className=\"small-img-box-pull-left\" >\r\n                                    <img className=\"grey-clock-style\"\r\n                                        src={require('../../Assets/Images/gray-clock.svg')} \r\n                                    />\r\n                                  </div>\r\n                                  <p style={{paddingTop: '1vh'}}>Timings</p>\r\n                                </div>\r\n\r\n                                  <Popover isOpen={this.state.slotPopoverOpen} target=\"SlotPopover\" trigger=\"legacy\" placement=\"left\" toggle={this.toggleSlotPopover}>\r\n                                    \r\n                                        <PopoverBody>\r\n                                            <div>\r\n                                                <p>\r\n                                                    <b> The doctor operates on the following days: </b>\r\n                                                </p>\r\n                                                <p>\r\n                                                    {\r\n                                                        (this.state.dObjArray) ? (\r\n                                                            this.state.dObjArray.map((obj, index) => {\r\n                                                                return(\r\n                                                                    <div>\r\n                                                                        <span><b>{Object.keys(obj)[0]}:</b>&emsp;</span>\r\n                                                                            {\r\n                                                                                console.log(obj[Object.keys(obj)[0]]),\r\n                                                                                (obj[Object.keys(obj)[0]]) ? (\r\n                                                                                    obj[Object.keys(obj)[0]].map((o,i) => {\r\n                                                                                      if(obj[Object.keys(obj)[0]].length<2){\r\n                                                                                        // console.log(\"in single timeslot\");\r\n                                                                                        return(\r\n                                                                                          <span>\r\n                                                                                              <span>{o.openTime}</span>\r\n                                                                                              <span>&nbsp;to&nbsp;</span>\r\n                                                                                              <span>{o.closeTime}</span>\r\n                                                                                          </span>\r\n                                                                                        )\r\n                                                                                      }\r\n                                                                                      else{\r\n                                                                                        if(i!=obj[Object.keys(obj)[0]].length-1){\r\n                                                                                          // console.log(i);\r\n                                                                                          // console.log(obj[Object.keys(obj)[0]].length-1);\r\n                                                                                          // console.log(\"in multiple timeslot intermediate stage\");\r\n                                                                                          return(\r\n                                                                                            <span>\r\n                                                                                                <span>{o.openTime}</span>\r\n                                                                                                <span>&nbsp;to&nbsp;</span>\r\n                                                                                                <span>{o.closeTime}</span>\r\n                                                                                                <span>,&nbsp;</span>\r\n                                                                                            </span>\r\n                                                                                          )\r\n                                                                                        }\r\n                                                                                        else{\r\n                                                                                          // console.log(\"in multiple timeslot final stage\");\r\n                                                                                          return(\r\n                                                                                            <span>\r\n                                                                                                <span>{o.openTime}</span>\r\n                                                                                                <span>&nbsp;to&nbsp;</span>\r\n                                                                                                <span>{o.closeTime}</span>\r\n                                                                                            </span>\r\n                                                                                          )\r\n                                                                                        }\r\n                                                                                      }\r\n                                                                                        \r\n                                                                                    })\r\n                                                                                ) : (<div></div>)\r\n                                                                            }\r\n                                                                        <hr/>\r\n                                                                    </div>\r\n                                                                    \r\n                                                                )\r\n                                                            })\r\n                                                        ) : (<div></div>)\r\n                                                        \r\n                                                    }\r\n                                                    \r\n                                                </p>\r\n                                            </div>\r\n                                        </PopoverBody>\r\n                                    </Popover>\r\n                              </div>\r\n                              <div className=\"pro-description\">\r\n                                  <p>\r\n                                  <span className=\"bold\"> \r\n                                      {\"Dr. \"+this.state.doctorData.name}\r\n                                  </span>\r\n                                  <br/>\r\n                                  {this.state.doctorData.description.hospitalName}\r\n                                  </p>\r\n                              </div>\r\n                              \r\n                              </div>\r\n                          </div>\r\n                            {console.log(this.state.patientsData)}\r\n                          <div className=\"profile-box\">\r\n                              <div className=\"pro-description\">\r\n                              <p>\r\n                                  <span className=\"bold\">\r\n                                  Education and experience\r\n                                  </span>\r\n                                  <br/>\r\n                                  {this.state.doctorData.description.education}\r\n                              </p>\r\n                              </div>\r\n                          </div>\r\n\r\n                          \r\n                          </div>\r\n                      </div>) : (<div> </div>)) : (<div></div>)) \r\n        \r\n        \r\n                     \r\n                }\r\n\r\n          \r\n            <div className={`col-sm-12 xol-xs-12 ${(!this.state.toggleSwitch) ? \"col-md-5\" : \"col-md-12\"}`} style={{padding: 0}}>\r\n              <div  className=\"login-section text-center\">\r\n                <h1 className=\"main-heading\">Patient Login</h1>\r\n                {\r\n                  !(this.state.userLoggedIn) ? \r\n                  (<p>If you are already registered patient login with your register mobile number</p>) :\r\n                  (<p>I want to consult the doctor for</p>)\r\n                }\r\n                \r\n                {/* <form> */}\r\n                  <div className=\"form-group\">\r\n                    {\r\n                      (!this.state.userLoggedIn) ? (\r\n                        \r\n                          (!this.state.userVerified) ? \r\n                          ( <div>\r\n                              <div style={{display: 'flex', justifyContent:'center'}}>\r\n                                <input type=\"number\" \r\n                                  pattern=\"\\d*\"\r\n                                  inputMode=\"numeric\" \r\n                                  className=\"std-input\" \r\n                                  placeholder=\"Enter Your Phone Number\" \r\n                                  onChange={this.handleTextChange('userPhone')}/> \r\n                                  {\r\n                                    (this.state.isVerifying) ? (<Spinner style={{margin: \"1.3% 3%\", width:\"2rem\", height:\"2rem\"}}color=\"dark\" />) : (<div></div>)\r\n                                  }\r\n                              </div>\r\n                            <p id=\"patient-not-found\"></p> \r\n                          </div>) : \r\n                          (<div> <input type=\"number\" \r\n                          pattern=\"\\d*\"\r\n                          name=\"phone number\" \r\n                          className=\"std-input\" \r\n                          placeholder=\"Enter the OTP\" \r\n                          onChange={this.handleTextChange('userOtp')}/> \r\n                          <p id=\"patient-not-found\"></p> </div> )\r\n                        \r\n                      ) : (\r\n                        <div class=\"patient-dependents\"> \r\n                        <div class=\"patient-box\">\r\n                          <div class=\"chiller_cb\">\r\n                            <input id=\"myCheckbox1\" type=\"radio\" name=\"for-radio\" value=\"self\" onInput={this.choosePerson}/>\r\n                            <label for=\"myCheckbox1\">For Me</label>\r\n                            <span></span>\r\n                          </div>\r\n                          {console.log(\"after the fetches: \"+this.state.dependentsData)}\r\n                            {\r\n                              (this.state.dependentsData) ? (\r\n                                this.state.dependentsData.map((dep, index) => (\r\n                                  <div class=\"chiller_cb\">\r\n                                  <input id={`myCheckbox${index+2}`} type=\"radio\" name=\"for-radio\" value={`person${index+1}`} onInput={this.choosePerson}/>\r\n                                  <label for={`myCheckbox${index+2}`}>{`For ${dep.title} ${dep.name}`}</label>\r\n                                  <span></span>\r\n                                  </div>\r\n                                ))\r\n                              ) : (\r\n                                <div></div>\r\n                              )\r\n                            }\r\n                          \r\n                          \r\n                          <div class=\"chiller_cb\">\r\n                            <input id=\"myCheckboxOther\" type=\"radio\" name=\"for-radio\" value=\"other\" onInput={this.choosePerson}/>\r\n                            <label for=\"myCheckboxOther\">For Other</label>\r\n                            <span></span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {\r\n                          (this.state.userChosen == \"other\") ? (\r\n                            <div class=\"detail-box\">\r\n                              <h3>Enter other details</h3>\r\n                              <div>\r\n                              <div class=\"row\">\r\n\r\n                                <div class=\"col-md-3 col-sm-3 col-xs-12\">\r\n                                  <div class=\"form-group\">\r\n                                    <select class=\"form-control\" id=\"exampleFormControlSelect1\" onChange={this.handleSelectChange('title')}>\r\n                                      <option value=\"Mr.\">Mr.</option>\r\n                                      <option value=\"Mrs.\">Mrs.</option>\r\n                                      <option value=\"Miss.\">Miss.</option>\r\n                                      <option value=\"Mst.\">Mst.</option>\r\n                                      \r\n                                    </select>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-4 col-sm-4 col-xs-12\">\r\n                                  <div class=\"form-group\">\r\n                                    <input type=\"text\" name=\"dependent-name\" class=\"std-input\" placeholder=\"Name\" onChange={this.handleTextChange('userDependentNameEntry')}/>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-5 col-sm-5 col-xs-12\">\r\n                                  <div class=\"form-group\">\r\n                                    <input type=\"text\" name=\"dependent-relation\" class=\"std-input\" placeholder=\"Relation with person\" onChange={this.handleTextChange('userDependentRelationEntry')}/>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-5 col-sm-5 col-xs-12\">\r\n                                  <div class=\"form-group\">\r\n                                    <select class=\"form-control\" id=\"exampleFormControlSelect1\" onChange={this.handleSelectChange(\"gender\")}>\r\n                                      <option>Select your gender</option>\r\n                                      <option value=\"Male\">Male</option>\r\n                                      <option value=\"Female\">Female</option>\r\n                                      <option value=\"Other\">Other</option>\r\n                                    </select>                                  \r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-5 col-sm-5 col-xs-12\">\r\n                                  <div class=\"form-group\">\r\n                                    <div style={{display:'flex', flexDirection:'column'}}>\r\n                                      <label for=\"dependent-dob\" style={{display: 'flex', margin: 0, color: '#909090', fontSize:12}}>Enter your Birth Date</label>\r\n                                      <input type=\"date\" id=\"dependent-dob\" name=\"dependent-dob\" onChange={this.handleDate} className=\"std-input\" placeholder=\"Enter Date of Birth\"/>\r\n                                      {/* <AvField type=\"date\" name=\"dobSelect\" onChange={this.handleDate} required className=\"std-input\" helpMessage=\"Enter your Date of Birth\" /> */}\r\n                                    </div>   \r\n                                  </div>\r\n                                </div>\r\n                                \r\n                                       \r\n\r\n                                <div className=\"chiller_cb long\">\r\n                                    <input id=\"myAgreeCheckbox\" type=\"checkbox\" onChange={this.toggleUserDependentAgree}/>\r\n                                    <label for=\"myAgreeCheckbox\" style={{marginRight:'1rem'}}>I agree to take responsibility of all my dependents' actions, and agree to pose as guardian to these dependents if any one (but not limited to one) is under the legal age of 18.</label>\r\n                                    <span>   \r\n                                        {/* ::before\r\n                                        ::after */}\r\n                                    </span>\r\n                                </div>\r\n\r\n                              </div>\r\n                              </div>\r\n                              \r\n                            </div>\r\n                          ) : (<div></div>)\r\n                        }\r\n                        <p id=\"data-not-found\"></p> \r\n                        </div>\r\n                      )\r\n                    }\r\n                    \r\n                    \r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    \r\n                  \r\n                  {\r\n                    (!this.state.userLoggedIn) ? (\r\n                      (!this.state.userVerified) ? (<button className=\"std-button\" onClick={this.sendOtp}>\r\n                          Get OTP\r\n                        </button>) : (<button className=\"std-button\" onClick={this.verifyOtp}>\r\n                          Submit OTP\r\n                        </button>)\r\n                    ) : (<button className={`${(this.state.userChosen) ? 'std-button' : 'std-button-disabled'}`} onClick={this.handleSubmit} \r\n                    disabled={!this.state.userChosen}> \r\n                    Submit\r\n                  </button>)\r\n                    \r\n                  }      \r\n                    \r\n                  </div>\r\n                {/* </form> */}\r\n                {\r\n                  (!this.state.userLoggedIn) ? (\r\n                    <div>\r\n                      <hr/>\r\n                      <p>If you are not registered patient, please click on the \r\n                        &nbsp;\r\n                        <b>Register</b>\r\n                        &nbsp;\r\n                        to register your number\r\n                      </p>\r\n                      <div className=\"form-group\">\r\n                        <Link to={`/${this.state.handleDocId}/Register`}>\r\n                          <button className=\"std-button\">Register</button>\r\n                        </Link>\r\n                      </div>\r\n                      <span className={`${(!this.state.toggleSwitch) ? \"toggle-button-regi\" : \"toggle-button-rotate\"}`} onClick={this.handleToggleArrow.bind(this)}>\r\n                      </span>\r\n                    </div>) : (<div></div>)\r\n                }\r\n                \r\n              </div>\r\n              {\r\n                (this.state.dataSubmitted) ? \r\n                (<Redirect push\r\n                      to={{ pathname: `/${this.state.handleDocId}/Consultancy`,\r\n                      }}/> ) : (<div></div>)\r\n              }\r\n              {\r\n                (this.state.goToPrescriptions) ? \r\n                (<Redirect push\r\n                      to={{ pathname: `/${this.state.handleDocId}/Prescriptions`,\r\n                      }}/> ) : (<div></div>)\r\n              }\r\n            </div>\r\n\r\n          {/* <script type=\"text/javascript\">\r\n            (document).ready(function(){\r\n              (\"span.toggle-button\").click(function()\r\n              {\r\n                (\".profile-box\").hide(1000);\r\n                (\".login-box\").addClass(\"col-md-12\");\r\n                (\"span.arrow-box.toggle-button\").removeClass(\"toggle-button\");\r\n                (\"span.arrow-box\").addClass(\"toggle-button-rotate\");\r\n              })\r\n            })\r\n          </script> */}\r\n        </div>\r\n      )\r\n    }\r\n        \r\n        <div id=\"recaptcha-container\"></div>\r\n        {\r\n          (this.state.userNotFound) ? (\r\n            <Redirect push to={{\r\n              pathname : `/${this.state.handleDocId}/Register`,\r\n              state : {\r\n                userNotFound : this.state.userNotFound\r\n              }\r\n            }}/>\r\n          ) : (<div></div>)\r\n        }\r\n    </div> \r\n    </div>\r\n    </body>\r\n  );\r\n}\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\nimport firebase from '../../Services/firebase';\r\nimport { Modal, Input, ModalBody, ModalHeader, ModalFooter, Button,Form, FormFeedback, FormGroup, Label, FormText, Popover, PopoverHeader, PopoverBody } from 'reactstrap';\r\nimport { AvForm, AvField } from 'availity-reactstrap-validation';\r\nimport { Redirect,Link } from 'react-router-dom';\r\nimport Loader from '../../Assets/Loader/Loader';\r\n\r\n\r\nclass Register extends Component {\r\n    \r\nconstructor(props) {\r\n    super(props);\r\n    // console.log(props.location.state.userNotFound);\r\n   \r\n    this.state = {\r\n        doctorId : this.props.match.params.handle,\r\n        toggleSwitch: false,\r\n        toggleCondition: false,\r\n        toggleUnderage: false,\r\n        guardianDataFilled: false,\r\n        userUnderage : false,\r\n        nameError: '',\r\n        isFetching : false,\r\n        handleDocId: this.props.match.params.handle,\r\n        slotPopoverOpen : false,\r\n        communicationModeModal : false,\r\n        userGender: 'Male',\r\n        \r\n        \r\n        // userName: '',\r\n        // userPhone: 0,\r\n        // userWhatsapp: 0,\r\n        // userEmail: '',\r\n        // userIs18: false,\r\n        // userAgree: false,\r\n      };\r\n      if(props.location.state){\r\n        if(props.location.state.userNotFound){\r\n            console.log(\"reached user not found\")\r\n            this.state[\"userNotFound\"] = true;\r\n        }\r\n      }\r\n      \r\n}\r\n\r\ncomponentDidMount = async() => {\r\n    this.setState({isFetching : true});\r\n    let dbref = firebase.database().ref(`doctors/${this.state.doctorId}`);\r\n    await dbref.once(\"value\", async(snap) => {\r\n      let data = snap.val();\r\n      this.setState({ doctorData : data});\r\n      this.setState({ doctorName: data[\"name\"]});\r\n    });\r\n\r\n    await this.fetchSlotDetails();\r\n  \r\n    \r\n}\r\n\r\nfetchSlotDetails = async() => { \r\n    console.log('in doctor fetcher'+ this.state.doctorId);\r\n        console.log(this.state.doctorData);\r\n        let dObject = this.state.doctorData[\"slotDetails\"][\"timeSlotsTemp\"];\r\n        let dObjKeys = Object.keys(dObject);\r\n        let dObjArray = [];\r\n  \r\n        for(let i=0;i<dObjKeys.length;i++){\r\n            // dObjTemp.push(dObject[dObjKeys[i]]);\r\n            let temp = Object.keys(dObject[dObjKeys[i]]);\r\n            let dObjTemp = [];\r\n            for(let j=0;j<temp.length;j++){\r\n                dObjTemp.push(dObject[dObjKeys[i]][temp[j]]);\r\n            }\r\n            let key = dObjKeys[i];\r\n            let obj={};\r\n            obj[key] = dObjTemp;\r\n            dObjArray.push(obj);\r\n        }\r\n  \r\n        const sorter = {\r\n            // \"sunday\": 0, // << if sunday is first day of week\r\n            \"Mon\": 1,\r\n            \"Tue\": 2,\r\n            \"Wed\": 3,\r\n            \"Thu\": 4,\r\n            \"Fri\": 5,\r\n            \"Sat\": 6,\r\n            \"Sun\": 7\r\n          }\r\n  \r\n          dObjArray.sort(function sortByDay(a, b) {\r\n            //console.log(a);\r\n            let day1 = Object.keys(a)[0];\r\n            let day2 = Object.keys(b)[0];\r\n            return sorter[day1] - sorter[day2];\r\n          });\r\n  \r\n  \r\n        console.log(dObjArray);\r\n        this.setState({ dObjArray });\r\n        this.setState({isFetching : false});\r\n}\r\n\r\nhandleInvalidSubmit = () => {\r\n    document.getElementById('errors-in-form').innerHTML = \"Please fix errors in form\";\r\n}\r\n\r\nhandleInvalidWhatsapp = () => {\r\n    document.getElementById('number-invalid').innerHTML = \"Please enter valid data to proceed\";\r\n}\r\n\r\ntoggleUserNotFoundModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            userNotFound: !prevState.userNotFound,\r\n        }\r\n    });\r\n}\r\n\r\ntoggleUnderageModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            toggleUnderage: !prevState.toggleUnderage,\r\n        }\r\n    });\r\n}\r\n\r\nsaveGuardianData = async() => {\r\n    let updates ={};\r\n    let object = {\r\n        \"Guardian Name\" : this.state.guardianName,\r\n        \"Guardian Phone\" : this.state.guardianPhone,\r\n        \"Guardian Email\" : this.state.guardianEmail,\r\n        \"Guardian Relationship\" : this.state.guardianRelationship,\r\n        \"Guardian Address\" : this.state.guardianAddress\r\n    };\r\n    // updates[`patients/${this.state.userPhone}/guardian/`] = object;\r\n    // await firebase.database().ref().update(updates);\r\n    this.setState({guardianDataObject: object});\r\n    this.setState({guardianDataFilled: true});\r\n}\r\n\r\ntoggleConditionModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            toggleCondition: !prevState.toggleCondition,\r\n        }\r\n    });\r\n}\r\n\r\nhandleToggleArrow(){\r\n    console.log(\"I reached arrow click\");\r\n    this.setState({ toggleSwitch: !this.state.toggleSwitch });\r\n}\r\n\r\nhandleTextChange = (key) => (event) => {\r\n    this.setState({ [key]: event.target.value});\r\n}\r\n\r\nhandleDate = (event) => {\r\n    console.log(event.target.value);\r\n    this.setState({userBirthdate: event.target.value});\r\n}\r\n\r\nhandleNameChange = (key) => (event) => {\r\n    this.setState({ \r\n        [key]: event.target.value,\r\n        nameError : event.target.validationMessage\r\n    });\r\n}\r\n\r\nhandleCheckboxChange = (key) => (event) => {\r\n    // console.log(this.state.userAgree);\r\n    if(key==\"userUnderage\"&& event.target.checked==true){\r\n        this.setState({toggleUnderage: true})\r\n    }\r\n    this.setState({ [key]: event.target.checked});\r\n    console.log(event.target.checked);\r\n}\r\n\r\nhandleRegisterClick = async() =>{\r\n    console.log(\"register clicked\");\r\n    var updates ={};\r\n    \r\n    let object = {\r\n        \"name\": this.state.userName,\r\n        \"phone\": this.state.userPhone,\r\n        \"gender\" : this.state.userGender,\r\n        \"userUnderage\": this.state.userUnderage,\r\n        \"communicationMode\" : this.state.communicationMode,\r\n        \"birthdate\" : this.state.userBirthdate,\r\n    }\r\n    if(this.state.userEmail){\r\n        object[\"email\"] = this.state.userEmail;\r\n    }\r\n    if(this.state.userUnderage){\r\n        object[\"guardian\"] =  this.state.guardianDataObject;\r\n    }\r\n    if(this.state.communicationMode == \"WhatsApp\"){\r\n        object[\"userWhatsapp\"] =  this.state.userWhatsapp;\r\n    }\r\n    updates[`patients/${this.state.userPhone}`] = object;\r\n    await firebase.database().ref().update(updates);\r\n\r\n    return this.setState({ userLoggedInFromRegister : true});\r\n}\r\n\r\n\r\ntoggleSlotPopover = () => {\r\n    this.setState(prevState=>{\r\n      return{\r\n          ...prevState,\r\n          slotPopoverOpen: !prevState.slotPopoverOpen,\r\n      }\r\n    });\r\n}\r\n\r\ntoggleNavbar = () => {\r\n    this.setState(prevState=>{\r\n      return{\r\n          ...prevState,\r\n          isNavbarOpen: !prevState.isNavbarOpen,\r\n      }\r\n    });\r\n  }\r\n\r\ntoggleCommunicationModeModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            communicationModeModal: !prevState.communicationModeModal,\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\nrender() {\r\n    \r\n    return (\r\n        <body className=\"body\">\r\n            <div className=\"wrapper\">\r\n                <div className=\"container-fluid\">\r\n                <header className=\"header-style\">\r\n                    <Link to={{pathname:`/${this.state.handleDocId}/`}}>\r\n                        <text className=\"header-title-consultancy\"> Teleconsultancy - Dr. {this.state.doctorName}</text>\r\n                    </Link>\r\n                </header>\r\n                <Modal isOpen={this.state.userNotFound} toggle={this.toggleUserNotFoundModal}>\r\n                    <ModalHeader toggle={this.toggleUserNotFoundModal}>Welcome</ModalHeader>\r\n                    <ModalBody>\r\n                        We noticed that you do not have an account with us, please register to continue.\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                    <Button color=\"primary\" onClick={this.toggleUserNotFoundModal}>Okay</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n                \r\n                <div className=\"row\">\r\n                {\r\n                    \r\n                          \r\n                        (this.state.isFetching) ? (\r\n                          console.log(this.state.isFetching),\r\n                          <Loader loading={this.state.isFetching}/>\r\n                            ) :\r\n                           ( (this.state.doctorData) ? ((!this.state.toggleSwitch) ? (<div className=\"col-md-7 col-sm-12 col-xs-12 profile-box\">\r\n                                          <div className=\"left-box\">                                        \r\n                                          <div className=\"welcome-box profile-box\">\r\n                                              <p className=\"heading\">\r\n                                              Welcome to the \r\n                                              <span className=\"bold\">{\" Dr. \" +this.state.doctorData.name}'s consultancy</span>\r\n                                              </p>\r\n                                              <p>\r\n                                              {this.state.doctorData.description.doctorIntro}\r\n                                              </p>\r\n                                          </div>\r\n                                          <div className=\"profile-box\">\r\n                                              <div className=\"profile-section\">\r\n                                              <div className=\"img-box\">\r\n                                                  <img className=\"img-box\"\r\n                                                  src={this.state.doctorData.avatar} \r\n                                                  />\r\n                                              </div>\r\n                                              <div className=\"timings\" id=\"SlotPopover\" style={{cursor: 'pointer'}}>\r\n                                                <div style={{display: 'flex', flexDirection:'column', textAlign: 'right', justifyContent:'center', marginRight:'3vmin'}}> \r\n                                                <div className=\"small-img-box-pull-left\" >\r\n                                                    <img className=\"grey-clock-style\"\r\n                                                        src={require('../../Assets/Images/gray-clock.svg')} \r\n                                                    />\r\n                                                </div>\r\n                                                <p style={{paddingTop: '1vh'}}>Timings</p>\r\n                                                </div>\r\n\r\n                                                <Popover isOpen={this.state.slotPopoverOpen} target=\"SlotPopover\" trigger=\"legacy\" placement=\"left\" toggle={this.toggleSlotPopover}>\r\n                                                    \r\n                                                        <PopoverBody>\r\n                                                            <div>\r\n                                                                <p>\r\n                                                                    <b> The doctor operates on the following days: </b>\r\n                                                                </p>\r\n                                                                <p>\r\n                                                                    {\r\n                                                                        (this.state.dObjArray) ? (\r\n                                                                            this.state.dObjArray.map((obj, index) => {\r\n                                                                                return(\r\n                                                                                    <div>\r\n                                                                                        <span><b>{Object.keys(obj)[0]}:</b>&emsp;</span>\r\n                                                                                            {\r\n                                                                                                console.log(obj[Object.keys(obj)[0]]),\r\n                                                                                                (obj[Object.keys(obj)[0]]) ? (\r\n                                                                                                    console.log(\"entered hotzone\"),\r\n                                                                                                    obj[Object.keys(obj)[0]].map((o,i) => {\r\n                                                                                                        return(\r\n                                                                                                            <span>\r\n                                                                                                                <span>{o.openTime}</span>\r\n                                                                                                                <span>&nbsp;to&nbsp;</span>\r\n                                                                                                                <span>{o.closeTime}</span>\r\n                                                                                                                <span>&nbsp;&nbsp;</span>\r\n                                                                                                            </span>\r\n                                                                                                        )\r\n                                                                                                    })\r\n                                                                                                ) : (<div></div>)\r\n                                                                                            }\r\n                                                                                        <hr/>\r\n                                                                                    </div>\r\n                                                                                    \r\n                                                                                )\r\n                                                                            })\r\n                                                                        ) : (<div></div>)\r\n                                                                        \r\n                                                                    }\r\n                                                                    \r\n                                                                </p>\r\n                                                            </div>\r\n                                                        </PopoverBody>\r\n                                                    </Popover>\r\n                                                </div>\r\n\r\n                                              <div className=\"pro-description\">\r\n                                                  <p>\r\n                                                  <span className=\"bold\"> \r\n                                                      {\"Dr. \"+this.state.doctorData.name}\r\n                                                  </span>\r\n                                                  <br/>\r\n                                                  {this.state.doctorData.description.hospitalName}\r\n                                                  </p>\r\n                                              </div>\r\n                                              \r\n                                              </div>\r\n                                          </div>\r\n                \r\n                                          <div className=\"profile-box\">\r\n                                              <div className=\"pro-description\">\r\n                                              <p>\r\n                                                  <span className=\"bold\">\r\n                                                  Education and experience  \r\n                                                  </span>\r\n                                                  <br/>\r\n                                                  {this.state.doctorData.description.education}\r\n                                              </p>\r\n                                              </div>\r\n                                          </div>\r\n                \r\n                                          \r\n                                          </div>\r\n                                      </div>) : (<div> </div>)) : (<div></div>)) \r\n                }\r\n                    \r\n\r\n                    <div className={`col-sm-12 xol-xs-12 ${(!this.state.toggleSwitch) ? \"col-md-5\" : \"col-md-12\"}`}  style={{padding: 0}}>\r\n                        <div className={\"login-section text-center\"}>\r\n                            <h1 className=\"main-heading\">\r\n                                Patient Registration                            \r\n                            </h1>\r\n                            <p>\r\n                                If you are not registered patient please fillup the form below\r\n                            </p>\r\n                            \r\n                            <AvForm onValidSubmit={this.handleRegisterClick} onInvalidSubmit={this.handleInvalidSubmit}>\r\n                                <FormGroup>\r\n                                    <AvField name=\"username\" className=\"std-input\" placeholder=\"Enter your Full Name*\" validate={{\r\n                                        required: {value: true, errorMessage: 'Please enter a name'},\r\n                                        pattern: {value: '^[A-Za-z\\\\s]+$', errorMessage: 'Names can only contain letters'}\r\n                                    }} style={{width:'60%'}} onChange={this.handleTextChange('userName')}\r\n                                    />\r\n                                </FormGroup>\r\n                                \r\n                                \r\n                                <FormGroup>\r\n                                    <AvField name=\"mobilenumber\" type=\"number\" className=\"std-input\" placeholder=\"Enter your Mobile Number*\" validate={{\r\n                                            required: {value: true, errorMessage: 'Please enter a mobile number'},\r\n                                            pattern: {value: '^[789]{1}[0-9]{9}$', errorMessage: 'Enter valid 10 digit mobile number'}\r\n                                        }} style={{width:'60%'}} onChange={this.handleTextChange('userPhone')}\r\n                                        />   \r\n                                </FormGroup>\r\n\r\n                                {/* <FormGroup>\r\n                                    <AvField name=\"whatsappnumber\" className=\"std-input\" placeholder=\"Enter your whatsapp number\" validate={{\r\n                                            required: {value: true, errorMessage: 'Please enter a whatsapp number'},\r\n                                            pattern: {value: '^[789]{1}[0-9]{9}$', errorMessage: 'Enter valid 10 digit whatsapp number'},\r\n                                        }} style={{width:'60%'}} onChange={this.handleTextChange('userWhatsapp')}/>\r\n                                </FormGroup> */}\r\n                                 <FormGroup>\r\n                                    <AvField name=\"email-id\" type=\"email\" className=\"std-input\" style={{width:'60%'}} placeholder=\"Enter your Email Id\" onChange={this.handleTextChange('userEmail')}\r\n                                    />\r\n                                </FormGroup>\r\n                                {/* <FormGroup>\r\n                                    <select className=\"form-check2\" id=\"exampleFormControlSelect1\" style={{width:'60%'}}>\r\n                                        <option disabled=\"\" selected=\"\">Select your language</option>\r\n                                        <option>English</option>\r\n                                        <option>Marathi</option>\r\n                                        <option>Hindi</option>\r\n                                    </select>\r\n                                </FormGroup> */}\r\n                                \r\n                                <FormGroup>\r\n                                    <AvField type=\"select\" name=\"genderSelect\" onChange={this.handleTextChange('userGender')} \r\n                                    className=\"std-input\" style={{width:'60%', height: '50px', padding: '10px'}} helpMessage=\"Enter your gender*\">\r\n                                        <option value=\"Male\">Male</option>\r\n                                        <option value=\"Female\">Female</option>\r\n                                        <option value=\"Other\">Other</option>\r\n                                    </AvField>\r\n                                </FormGroup>\r\n\r\n                                <FormGroup>\r\n                                    <AvField type=\"date\" name=\"dobSelect\" onChange={this.handleDate} required \r\n                                    className=\"std-input\" style={{width:'60%', height: '50px', padding: '10px'}} helpMessage=\"Enter your Date of Birth*\">\r\n                                        \r\n                                    </AvField>\r\n                                </FormGroup>\r\n                                \r\n                                <div id=\"followUpGroup\" className=\"follow-up-group\">\r\n                                <div style={(this.state.userUnderage) ? ({marginBottom: \"1rem\"}) : ({marginBottom: \"2rem\"})}>\r\n                                    <div className=\"chiller_cb\" style={{height: \"50%\", float: 'left'}}>\r\n                                        <input id=\"myCheckbox1\" type=\"checkbox\" onChange={this.handleCheckboxChange('userUnderage')}/>\r\n                                            <label for=\"myCheckbox1\"> I am under age of 18. </label> \r\n                                            <span>\r\n                                                {/* ::before\r\n                                                ::after */}\r\n                                            </span>\r\n                                            <Modal isOpen={this.state.toggleUnderage} toggle={this.toggleUnderageModal}>\r\n                                                <AvForm>\r\n                                                <ModalHeader toggle={this.toggleUnderageModal}>User Underage Modal</ModalHeader>\r\n                                                <ModalBody>\r\n                                                \r\n                                                    \r\n                                                        {/* <Input type=\"text\" name=\"gname\" id=\"gname\" placeholder=\"Enter Name\" className=\"modal-inputs\" onChange={this.handleTextChange('guardianName')}/> */}\r\n                                                        \r\n                                                            <AvField name=\"gname\" className=\"modal-inputs\" placeholder=\"Enter Name\" validate={{\r\n                                                                required: {value: true, errorMessage: 'Please enter a name'},\r\n                                                                pattern: {value: '^[A-Za-z\\\\s]+$', errorMessage: 'Names can only contain letters'}\r\n                                                            }} onChange={this.handleTextChange('guardianName')}/>\r\n                                                        \r\n                                                    \r\n                                                        {/* <Input type=\"number\" name=\"gphone\" id=\"gphone\" placeholder=\"Enter phone number\" className=\"modal-inputs\" onChange={this.handleTextChange('guardianPhone')}/> */}\r\n                                                        \r\n                                                            <AvField name=\"mobilenumber\" type=\"number\" className=\"modal-inputs\" placeholder=\"Enter phone number\" validate={{\r\n                                                                    required: {value: true, errorMessage: 'Please enter a mobile number'},\r\n                                                                    pattern: {value: '^[789]{1}[0-9]{9}$', errorMessage: 'Enter valid 10 digit mobile number'}\r\n                                                                }} onChange={this.handleTextChange('guardianPhone')}/>   \r\n                                                        \r\n                                                    \r\n                                                        {/* <Input type=\"text\" name=\"grelation\" id=\"grelation\" placeholder=\"Relationship with you\" className=\"modal-inputs\" onChange={this.handleTextChange('guardianRelationship')}/> */}\r\n                                                        \r\n                                                            <AvField name=\"grelation\" className=\"modal-inputs\" placeholder=\"Relationship with you\" validate={{\r\n                                                                required: {value: true, errorMessage: 'Please enter a name'}\r\n                                                            }} onChange={this.handleTextChange('guardianRelationship')}/>\r\n                                                        \r\n                                                    \r\n                                                        {/* <Input type=\"email\" name=\"gemail\" id=\"gemail\" placeholder=\"Enter E-mail\" className=\"modal-inputs\" onChange={this.handleTextChange('guardianEmail')}/> */}\r\n                                                        \r\n                                                            <AvField name=\"gemail\" type=\"email\" className=\"modal-inputs\" placeholder=\"Enter E-mail\" onChange={this.handleTextChange('guardianEmail')}/>\r\n                                                        \r\n                                                    \r\n                                                        {/* <Input type=\"textarea\" name=\"gaddress\" id=\"gaddress\" placeholder=\"Enter Address\" className=\"modal-inputs\" style={{display:'inline', width: '90%'}} onChange={this.handleTextChange('guardianAddress')}/> */}\r\n                                                        \r\n                                                            <AvField name=\"gaddress\" type=\"textarea\" className=\"modal-inputs\" placeholder=\"Enter Address\" style={{width: '90%'}} onChange={this.handleTextChange('guardianAddress')}/>\r\n                                                        \r\n                                                   \r\n                                                    \r\n                                                    \r\n                                                </ModalBody>\r\n                                                <ModalFooter>\r\n                                                <Button type=\"submit\" color=\"primary\" onClick={this.toggleUnderageModal, this.saveGuardianData} disabled={!(this.state.guardianName && this.state.guardianPhone && this.state.guardianRelationship && this.state.guardianEmail && this.state.guardianAddress)}>Submit Guardian Data</Button>{' '}\r\n                                                <Button color=\"secondary\" onClick={this.toggleUnderageModal}>Cancel</Button>\r\n                                                </ModalFooter>\r\n                                                </AvForm>\r\n                                        </Modal>\r\n                                    </div>\r\n                                </div>\r\n                                {\r\n                                    (this.state.userUnderage) ? \r\n                                    ((!this.state.guardianDataFilled) ? (<p onClick={this.toggleUnderageModal} style={{textDecoration: 'underline', color:'blue', float: 'right', marginTop: \"1rem\", cursor: 'pointer'}}>Please finish entering guardian data.</p>) :\r\n                                    (<p onClick={this.toggleUnderageModal} style={{textDecoration: 'underline', color:'green', float: 'right', marginTop: \"1rem\", cursor: 'pointer'}}>To edit guardian data, click here.</p>)\r\n                                    ) \r\n                                    : (<p></p>)\r\n                                }\r\n                                \r\n                                <FormGroup>\r\n                                    <div className=\"chiller_cb long\" style={{height: '50%', float: 'left'}}>\r\n                                        <input id=\"myCheckbox2\" type=\"checkbox\" onChange={this.handleCheckboxChange('userAgree')}/>\r\n                                        <label for=\"myCheckbox2\">I agree with all </label>\r\n                                        \r\n                                        <span>\r\n                                                     \r\n                                                {/* ::before\r\n                                                ::after */}\r\n                                            </span>\r\n                                    </div>\r\n                                            <span onClick={this.toggleConditionModal}>\r\n                                                <span> &nbsp; </span>\r\n                                                <label for=\"myCheckbox2\" style={{cursor : 'pointer', textDecoration:'underline', color: 'blue'}}> telemedicine conditions</label>\r\n                                            </span> \r\n                                                \r\n                                            <Modal isOpen={this.state.toggleCondition} toggle={this.toggleConditionModal}>\r\n                                                <ModalHeader toggle={this.toggleConditionModal}>Teleconsultancy Conditions</ModalHeader>\r\n                                                <ModalBody>\r\n                                                <p>I hereby agree and hence give consent that my personal health information may be shared for referral purposes as well as for Medical Insurance purposes. (reimbursement or cashless). It is understood and agreed that the medical information will not be shared with dispensing chemists or drug manufacturers, apart from working diagnosis and prescription part. I also hereby consent to use my clinical information for data collection, research, scientific publication, advertising and surveys without disclosing my identity in any manner and without breach of confidentiality. I have understood the implications of such partial or full disclosure of my information to other agencies, which is required in my own interest. While sharing the information to next caregiver or referral, Dr. {this.state.doctorName} has laid down the same standards of confidentiality, but in case of any breach by them, we will not hold Dr. {this.state.doctorName} liable in any manner. *ln case of children or insane person, consent provided by Dr. {this.state.doctorName} parent/guardian user. </p>\r\n                                                <p><b>Please Note:</b></p>\r\n                                                <p>\r\n                                                Online/phone consultation is not a substitute for physical/in-person consultation. Your doctors response may be delayed and is dependant on their availability. Please visit your hospital or nearest medical centre if you need immediate or urgent help. \r\n                                                </p>\r\n                                                </ModalBody>\r\n                                                <ModalFooter>\r\n                                                <Button color=\"primary\" onClick={this.toggleConditionModal}>Okay</Button>\r\n                                                </ModalFooter>\r\n                                            </Modal>\r\n                                </FormGroup>\r\n                                </div>\r\n\r\n                                <div style={{paddingBottom: '1vh'}}>\r\n                                {\r\n                                    (!this.state.communicationMode) ? (<p onClick={this.toggleCommunicationModeModal} style={{textDecoration: 'underline', color:'blue', marginTop: \"1rem\", cursor: 'pointer'}}>Please configure your mode of communication{' '}<sup style={{color:'red'}}>(required)</sup></p>) :\r\n                                    (<p onClick={this.toggleCommunicationModeModal} style={{textDecoration: 'underline', color:'green', marginTop: \"1rem\", cursor: 'pointer'}}>Click to edit your mode of communication</p>)\r\n                                }\r\n                                    \r\n                                </div>\r\n                                \r\n                                <FormGroup style={{paddingBottom: '1vh'}}>\r\n                                    <Button \r\n                                        className={`${(this.state.userName && this.state.userPhone && this.state.userGender && this.state.userBirthdate && this.state.userAgree && this.state.communicationMode && !(this.state.communicationMode==\"WhatsApp\" && !this.state.userWhatsapp) && !(this.state.userUnderage && !(this.state.guardianDataFilled))) ? \"std-button\" : \"std-button-disabled\"}`}\r\n                                        disabled={!(this.state.userName && this.state.userPhone && this.state.userGender && this.state.userBirthdate && this.state.userAgree && this.state.communicationMode && !(this.state.communicationMode==\"WhatsApp\" && !this.state.userWhatsapp) && !(this.state.userUnderage && !(this.state.guardianDataFilled)))}\r\n                                    > \r\n                                        Register \r\n                                    </Button>\r\n                                    \r\n                                </FormGroup>\r\n                                <div id=\"errors-in-form\"></div>\r\n                                </AvForm>\r\n                                <hr/>\r\n                                <p>\r\n                                    If you are already registered patient, please click on the Login for consultation\r\n                                </p>\r\n                                <div className=\"form-group\">\r\n                                    <Link to={`/${this.state.handleDocId}/`}>\r\n                                        <button className=\"std-button\">\r\n                                            Login\r\n                                        </button>\r\n                                    </Link>\r\n                                </div>\r\n                            \r\n                            <span className={`${(!this.state.toggleSwitch) ? \"toggle-button-regi\" : \"toggle-button-rotate\"}`} onClick={this.handleToggleArrow.bind(this)}>\r\n                            \r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                {\r\n                    (this.state.userLoggedInFromRegister) ? (\r\n                        <Redirect push to={{\r\n                            pathname : `/${this.state.handleDocId}/`,\r\n                            state : {\r\n                                userLoggedInFromRegister : this.state.userLoggedInFromRegister,\r\n                            }\r\n                        }}/>\r\n                    ) : (<div></div>)\r\n                }\r\n            </div>\r\n            </div> \r\n            <Modal isOpen={this.state.communicationModeModal} toggle={this.toggleCommunicationModeModal}>\r\n                <AvForm onValidSubmit={this.toggleCommunicationModeModal} onInvalidSubmit ={this.handleInvalidWhatsapp}>\r\n                <ModalHeader toggle={this.toggleCommunicationModeModal}>Mode of Communication</ModalHeader>\r\n                    <ModalBody>\r\n                        <div>\r\n                            <p style={{fontWeight: 'bold'}}>Please select your mode of communication.</p>\r\n                            <p>How do you want the doctor to interact with you? (By selecting any of the following options, you consent to a verified doctor communicating with you by the respective mode of communication during Offline teleconsultations, in order to better understand your medical ailments, or to give you general teleconsultancy cycle updates or medical advice.)</p>\r\n                            <div style={{display: 'flex', justifyContent:'center', marginTop: '4vh'}}>\r\n                                <div class=\"chiller_cb\">\r\n                                    <input id={`modeOfCommCheckbox1`} type=\"radio\" name={`modeOfComm`} value={\"SMS\"} onChange={this.handleTextChange(`communicationMode`)}/>\r\n                                    <label for={`modeOfCommCheckbox1`}>SMS</label>\r\n                                    <span></span>\r\n                                </div>\r\n                            \r\n                                <div class=\"chiller_cb\">\r\n                                    <input id={`modeOfCommCheckbox2`} type=\"radio\" name={`modeOfComm`} value={\"WhatsApp\"} onChange={this.handleTextChange(`communicationMode`)}/>\r\n                                    <label for={`modeOfCommCheckbox2`}>WhatsApp</label>\r\n                                    <span></span>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                            <div style={{display: 'flex', justifyContent:'center', marginTop: '4vh'}}>\r\n                                {\r\n                                    (this.state.communicationMode == \"WhatsApp\") ? (\r\n                                        \r\n                                        <div style={{width:'100%', textAlign:'center'}}>\r\n                                            <FormGroup>\r\n                                                <AvField name=\"whatsappnumber\" className=\"std-input\" placeholder=\"Enter your whatsapp number\" validate={{\r\n                                                    required: {value: true, errorMessage: 'Please enter a whatsapp number'},\r\n                                                    pattern: {value: '^[789]{1}[0-9]{9}$', errorMessage: 'Enter valid 10 digit whatsapp number'},\r\n                                                }} style={{width:'70%'}} onChange={this.handleTextChange('userWhatsapp')}/>\r\n                                            </FormGroup>                            \r\n                                            <p style={{marginTop:'1vh'}} id=\"number-invalid\"></p>                   \r\n                                        </div>\r\n\r\n                                    ) : (<div></div>)\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </ModalBody>\r\n                <ModalFooter>\r\n                    <FormGroup>\r\n                        <Button color=\"primary\">Okay</Button>\r\n                    </FormGroup>\r\n                </ModalFooter>\r\n                </AvForm>\r\n            </Modal>\r\n            \r\n        </body>\r\n    );\r\n\r\n}\r\n}\r\n\r\nexport default Register;","import React, { Component } from 'react'\r\n\r\nclass LoginFor extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {  };\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <text>Login For</text>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoginFor;","import React, { Component } from 'react';\r\nimport Calendar from 'react-calendar';\r\nimport {Redirect, Link} from 'react-router-dom';\r\n\r\nimport { Modal, Input, ModalBody, ModalHeader, ModalFooter, Button,Form, FormGroup, Label, FormText, Tooltip,\r\n    Collapse,\r\n    Navbar,\r\n    NavbarBrand,\r\n    NavbarToggler,\r\n    Nav,\r\n    NavItem,\r\n    NavLink,\r\n    NavbarText,\r\n    UncontrolledDropdown, \r\n    DropdownToggle,\r\n    DropdownMenu,\r\n    DropdownItem,\r\n    Badge} from 'reactstrap';\r\n\r\nimport firebase from '../../Services/firebase';\r\nimport moment from \"moment\";\r\n\r\nimport Loader from '../../Assets/Loader/Loader';\r\n \r\nimport '../../Assets/Calendar/Calendar.css';\r\n\r\nclass Consultancy extends Component {\r\nconstructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        isLoading : false,\r\n        date : new Date(),\r\n        appointmentType: 'First Time',\r\n        busyArray : [],\r\n        doctorData : {},\r\n        payClick: false,\r\n        payOfflineClick: false,\r\n        payOnlineClick: false,\r\n        daysAvailable: [],\r\n        viewDocSlotsModal: false,\r\n        handleDocId : this.props.match.params.handle,\r\n        guideModalOpen : true,\r\n        notFollowup : false,\r\n        notFollowupModal: false,\r\n        sessionExpired: false,\r\n        privacyPolicyModal : false,\r\n        termsModal : false,\r\n        cancellationRefundModal: false,\r\n    };\r\n    this.calendarRef = React.createRef();\r\n    this.buttonsRef = React.createRef();\r\n}\r\n\r\n\r\ncomponentDidMount = async() => {\r\n    this.setState({ isLoading : true });\r\n\r\n    const script = document.createElement(\"script\");\r\n\r\n    script.src = \"https://checkout.razorpay.com/v1/checkout.js\";\r\n    script.async = true;\r\n    script.crossOrigin = true;\r\n\r\n    document.body.appendChild(script);\r\n\r\n    await this.getValuesFromLocalStorage();\r\n    this.fetchDoctorData();\r\n\r\n    await this.getStaticValueFromSessionStorage();\r\n    await this.getDynamicValueFromSessionStorage();\r\n    // this.interval = setInterval(() => this.getValueFromSessionStorage(), 1000);\r\n}\r\n\r\ncomponentDidUpdate = async() => {\r\n    await this.getDynamicValueFromSessionStorage();\r\n}\r\n\r\ngetStaticValueFromSessionStorage = async() => {\r\n    let ucm = sessionStorage.getItem('userCommunicationMode');\r\n    if(ucm!==\"undefined\"){\r\n        this.setState({userCommunicationMode : ucm});\r\n        if(ucm == \"WhatsApp\"){\r\n            let uw = sessionStorage.getItem('userWhatsapp');\r\n            if(uw!==\"undefined\"){\r\n                this.setState({userWhatsapp: uw});\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ngetDynamicValueFromSessionStorage = async() => {\r\n    const sT = sessionStorage.getItem('loginTimestamp');\r\n    \r\n    // console.log(sT);\r\n    // console.log(\"i check for session expiry\");\r\n    if(!sT){\r\n        await this.setState({ sessionExpired: true})\r\n        localStorage.removeItem('doctorId');\r\n    }\r\n    else{\r\n        let dateNowMoment = moment(new Date());\r\n        let timestampMoment = moment(parseInt(sT));\r\n        let addedMoment = timestampMoment.add(30, 'm');\r\n        // console.log(dateNowMoment);\r\n        // console.log(timestampMoment);\r\n        // console.log(addedMoment);\r\n        if(addedMoment.isBefore(dateNowMoment)){\r\n            await this.setState({ sessionExpired: true});\r\n            localStorage.removeItem('doctorId');\r\n        }\r\n        else{\r\n            sessionStorage.setItem('sessionTimestamp', dateNowMoment);\r\n        }\r\n    }\r\n}\r\n\r\ngetValuesFromLocalStorage = () => {\r\n\r\n    const dI = localStorage.getItem('doctorId');\r\n    const udn = localStorage.getItem('userDependentName');\r\n    const udi = localStorage.getItem('userDependentId');\r\n    const udr = localStorage.getItem('userDependentRelation');\r\n    const udg = localStorage.getItem('userDependentGender');\r\n    const udbd = localStorage.getItem('userDependentBirthdate');\r\n    const uI = localStorage.getItem('userId');\r\n    const dpan = localStorage.getItem('doctorPaymentAlternativeOnline');\r\n    const dpaf = localStorage.getItem('doctorPaymentAlternativeOffline');\r\n\r\n     console.log(udn);\r\n     console.log(udi);\r\n     console.log(udr);\r\n     console.log(udg);\r\n     console.log(udbd);\r\n\r\n    this.setState({doctorId : dI});\r\n    this.setState({userId: uI});\r\n    this.setState({dependentInfo: {\r\n        name : udn,\r\n        id: udi,\r\n        relation: udr,\r\n        gender: udg,\r\n        birthdate: udbd,\r\n    }});\r\n\r\n    this.setState({doctorPaymentAlternativeOnline : dpan});\r\n    this.setState({doctorPaymentAlternativeOffline : dpaf});\r\n    return;\r\n}\r\n\r\nfetchDoctorData = async() => { \r\n    console.log('in doctor fetcher'+ this.state.doctorId);\r\n    let dbref = firebase.database().ref(`doctors/${this.state.doctorId}/`);\r\n    await dbref.once(\"value\").then((snap) => {\r\n        let data = snap.val();\r\n        // console.log(data[\"days\"]);\r\n        // let dArray = Array.from(data[\"days\"]);\r\n        this.setState({doctorData : data});\r\n        this.setState({doctorName: data[\"name\"]});\r\n        this.setState({doctorFeeData: data[\"consultancyFee\"]});\r\n        let leaveDatesObj = data[\"slotDetails\"][\"unavailableDates\"];\r\n        let dObject = data[\"slotDetails\"][\"timeSlotsTemp\"];\r\n        let dObjKeys = Object.keys(dObject);\r\n        let dObjArray = [];\r\n        console.log(leaveDatesObj);\r\n\r\n        for(let i=0;i<dObjKeys.length;i++){\r\n            // dObjTemp.push(dObject[dObjKeys[i]]);\r\n            let temp = Object.keys(dObject[dObjKeys[i]]);\r\n            let dObjTemp = [];\r\n            for(let j=0;j<temp.length;j++){\r\n                dObjTemp.push(dObject[dObjKeys[i]][temp[j]]);\r\n            }\r\n            let key = dObjKeys[i];\r\n            let obj={};\r\n            obj[key] = dObjTemp;\r\n            dObjArray.push(obj);\r\n        }\r\n\r\n        const sorter = {\r\n            // \"sunday\": 0, // << if sunday is first day of week\r\n            \"Mon\": 1,\r\n            \"Tue\": 2,\r\n            \"Wed\": 3,\r\n            \"Thu\": 4,\r\n            \"Fri\": 5,\r\n            \"Sat\": 6,\r\n            \"Sun\": 7\r\n          }\r\n\r\n          dObjArray.sort(function sortByDay(a, b) {\r\n            //console.log(a);\r\n            let day1 = Object.keys(a)[0];\r\n            let day2 = Object.keys(b)[0];\r\n            return sorter[day1] - sorter[day2];\r\n          });\r\n\r\n\r\n        console.log(dObjArray);\r\n        this.setState({ daysAvailable : dObjKeys });\r\n        this.setState({ daysObject: dObject });\r\n        this.setState({ dObjArray });\r\n\r\n\r\n        if(leaveDatesObj){\r\n\r\n            console.log(leaveDatesObj);\r\n            console.log(\"entered leave dates\");\r\n            let leaveDateArray = [];\r\n\r\n            for(let i=1;i<leaveDatesObj.length;i++){\r\n                let startDateMoment = moment(leaveDatesObj[i].From, 'DD-MM-YY');\r\n                let endDateMoment = moment(leaveDatesObj[i].To, 'DD-MM-YY');\r\n                let tempMom = startDateMoment;\r\n\r\n                while(!tempMom.isAfter(endDateMoment)){\r\n                    console.log(tempMom.format('DD-MM-YY'));\r\n                    leaveDateArray.push(tempMom.format('DD-MM-YY'));\r\n                    tempMom.add(1,'d');\r\n                }\r\n            }\r\n\r\n            console.log(leaveDateArray);\r\n            this.setState({ leaveDateArray });\r\n        }\r\n        \r\n        // let dfArray = [];\r\n        // for( var i=0;i<dObjKeys.length;i++){\r\n        //     dfArray.push(dObject[dObjKeys[i]]);\r\n        // }\r\n        // console.log(dfArray);\r\n        // this.setState({slotBeginTime: data[\"slotDetails\"][\"timeSlot\"][\"001\"][\"openTime\"]});\r\n        // this.setState({slotCloseTime: data[\"slotDetails\"][\"timeSlot\"][\"001\"][\"closeTime\"]});\r\n    });\r\n   await this.setAvailableSlots();\r\n   \r\n}\r\n\r\nsetAvailableSlots = () => {\r\n    // console.log(this.state.slotBeginTime);\r\n    // console.log(this.state.slotCloseTime);\r\n\r\n    let daySlotArray = {};\r\n    for(let i=0;i<this.state.daysAvailable.length;i++){\r\n        \r\n        let innerObject = this.state.daysObject[this.state.daysAvailable[i]];\r\n        let innerObjectKeys = Object.keys(innerObject);\r\n        let timeSlotArray = [];\r\n        for(let j=0;j<innerObjectKeys.length;j++){\r\n            let timingObject = innerObject[innerObjectKeys[j]];\r\n            let slotBeginTime = timingObject[\"openTime\"];\r\n            let slotCloseTime = timingObject[\"closeTime\"];\r\n            let timeDuration = parseInt(timingObject[\"timeAlloted\"].toString().substring(0,2),10);\r\n            var timeBegin = moment(slotBeginTime, 'LT', true);\r\n            var timeEnd = moment(slotCloseTime, 'LT', true);\r\n            var tempDate = timeBegin;\r\n            while(tempDate < timeEnd ){\r\n                timeSlotArray.push(tempDate.format('LT'));\r\n                tempDate= moment(tempDate).add(timeDuration,'m');\r\n            }\r\n        }\r\n        let key = this.state.daysAvailable[i];\r\n        daySlotArray[key] = timeSlotArray;\r\n    }\r\n    // console.log(timeSlotArray);\r\n    // console.log(daySlotArray);\r\n    this.setState({slotArray: daySlotArray});\r\n    this.setState({isLoading : false });\r\n    // console.log(timeBegin.format('LT')+\" \"+timeEnd.format('LT'));\r\n}\r\n\r\nonCalendarChange = async(date) => {\r\n\r\n    // console.log(moment(momentNow));\r\n    // console.log(moment(momentToday));\r\n    // console.log(momentNow == momentToday);\r\n    let momentToday = moment(new Date()).format('DD-MM-YY');\r\n    \r\n    let dateTodaySelected = moment(date).format('DD-MM-YY');\r\n    let timeTodaySelected = moment(new Date()).format('LT');\r\n\r\n    if(dateTodaySelected == momentToday){\r\n        this.setState({todaySelected : true});\r\n        let dayToday = new Date().toString().substring(0,3);\r\n        console.log(dayToday);\r\n\r\n        let todaySlotArray ={\r\n            [dayToday] : this.state.slotArray[dayToday]\r\n        }; \r\n\r\n        let todaySlotArrayFiltered = todaySlotArray[dayToday].filter((time) => {\r\n            return moment(time, 'LT') > moment(timeTodaySelected, 'LT');\r\n        })\r\n        console.log(todaySlotArrayFiltered);\r\n        \r\n        todaySlotArray = {\r\n            [dayToday] : todaySlotArrayFiltered\r\n        }\r\n\r\n        console.log(todaySlotArray);\r\n        console.log(this.state.slotArray);\r\n        console.log(this.state.busyArray);\r\n        await this.setState({todaySlotArray});\r\n    }else{\r\n        this.setState({todaySelected: false});\r\n    }\r\n    \r\n    if(this.state.leaveDateArray){\r\n        if(this.state.leaveDateArray.includes(dateTodaySelected)){\r\n            console.log(\"detected leave day\");\r\n            this.setState({leaveSelected: true});\r\n        }\r\n        else{\r\n            this.setState({leaveSelected: false});\r\n        }\r\n    }\r\n    else{\r\n        this.setState({leaveSelected: false});\r\n    }\r\n   \r\n\r\n    if(date< new Date() && dateTodaySelected != momentToday){\r\n        this.setState({ olderDateSelected: true});\r\n    }\r\n    else{\r\n        this.setState({ olderDateSelected: false});\r\n    }\r\n\r\n    this.setState({ slotClicked: ''});\r\n    this.setState({ date });\r\n    this.setState({ dateSelected: true});\r\n    this.setState({ dayOfDate : date.toString().substr(0,3)});\r\n    await this.fetchCalendarSlots(date);\r\n}\r\n\r\nfetchCalendarSlots = async(date) => {\r\n\r\n    let dateSelect = date;\r\n    var options = {year: '2-digit', month: '2-digit', day: '2-digit' };\r\n\r\n    let formatDate = dateSelect.toLocaleDateString(\"en-GB\", options);\r\n    formatDate = formatDate.replace(/\\//g,\"\");\r\n    // console.log(formatDate);\r\n    this.setState({ isLoading : true });\r\n    let dbref = firebase.database().ref(`doctors/${this.state.doctorId}/slotDetails/busySlots/${formatDate}`);\r\n    await dbref.once(\"value\").then((snap) => {\r\n        let data = snap.val();\r\n        if(data){\r\n            let disKeys = Object.keys(data);\r\n            let busyArray = [];\r\n            let tempObject= {};\r\n            for(var i=0; i<disKeys.length;i++){\r\n                tempObject[i] = data[disKeys[i]];\r\n            }\r\n            let disKeys2 = Object.keys(tempObject);\r\n            for(var i=0;i<disKeys2.length;i++){\r\n                var time = moment(tempObject[i][\"timeBegin\"], 'LT');\r\n                // console.log(\"req time becomes: \"+ time.format('LT'));\r\n                busyArray.push(time.format('LT'));\r\n                // console.log(busyArray);\r\n            }\r\n            // console.log(busyArray);\r\n            this.setState({ busyArray });\r\n        }\r\n        else{\r\n            this.setState({ busyArray: []});\r\n        }\r\n        this.setState({ isLoading : false });\r\n    });\r\n}\r\n\r\nhandlePayButton = async() => {\r\n    let dateSelect= null;\r\n    if(this.state.appointmentMode == \"online\"){\r\n        dateSelect = this.state.date;\r\n    }\r\n    else{\r\n        dateSelect = new Date();\r\n    }\r\n    \r\n    var options = {year: '2-digit', month: '2-digit', day: '2-digit' };\r\n\r\n    let formatDate = dateSelect.toLocaleDateString(\"en-GB\", options);\r\n    let format2Date = formatDate.replace(/\\//g,\"\");\r\n    var updates = {};\r\n    let docObject = {\r\n        \"id\" : this.state.doctorId,\r\n        \"name\" : this.state.doctorData.name\r\n    };\r\n\r\n    let patObject = {\r\n        \"id\" : this.state.userId,\r\n        \"name\" : this.state.dependentInfo.name,\r\n        \"dependentId\" : this.state.dependentInfo.id,\r\n        \"relation\" : this.state.dependentInfo.relation,\r\n        \"gender\" : this.state.dependentInfo.gender,\r\n        \"birthdate\" : this.state.dependentInfo.birthdate,\r\n        \"phone\" : this.state.userId\r\n    }\r\n    // console.log(formatDate);\r\n    updates[`patients/${this.state.userId}/doctorInfo/d${this.state.dependentInfo.id}/${this.state.doctorId}`] = docObject;\r\n    updates[`doctors/${this.state.doctorId}/patientDetails/${this.state.userId}/d${this.state.dependentInfo.id}`] = patObject;\r\n    await firebase.database().ref().update(updates);\r\n\r\n\r\n    let consultancyFee = 0;\r\n        // console.log(this.state.appointmentMode);\r\n    if(this.state.appointmentMode==\"online\"){\r\n        // console.log(\"it is online\");\r\n        if(this.state.appointmentType==\"Follow up\"){\r\n            consultancyFee = parseInt(this.state.doctorData[\"consultancyFee\"][\"followup_online\"]);\r\n        }else{\r\n            consultancyFee = parseInt(this.state.doctorData[\"consultancyFee\"][\"firstTime_online\"]);\r\n        }\r\n    }else{\r\n        if(this.state.appointmentType==\"Follow up\"){\r\n            consultancyFee = parseInt(this.state.doctorData[\"consultancyFee\"][\"followup_offline\"]);\r\n        }else{\r\n            consultancyFee = parseInt(this.state.doctorData[\"consultancyFee\"][\"firstTime_offline\"]);\r\n        }\r\n    }\r\n\r\n    this.setState({ consultancyFee });\r\n\r\n\r\n    let dbref = firebase.database().ref(`doctors/${this.state.doctorId}/slotDetails/busySlots/`);\r\n    var num = 0;\r\n    dbref.once('value', async(snap) => {\r\n        let data = snap.val();\r\n        if(data){\r\n            if(data[format2Date.toString()]){\r\n                // console.log('busy slots exist');\r\n                // console.log(Object.keys(data[format2Date.toString()]).length);\r\n                num = Object.keys(data[format2Date.toString()]).length;\r\n                return this.uploadBusySlots(num);\r\n            }\r\n            else{\r\n                return this.uploadBusySlots(num);\r\n            }\r\n        }\r\n        else{\r\n            return this.uploadBusySlots(0);\r\n        }\r\n        \r\n    });\r\n}\r\n\r\nuploadBusySlots = async(numb) => {\r\n    // console.log(\"called with id: \"+numb);\r\n    let dateSelect= null;\r\n    if(this.state.appointmentMode == \"online\"){\r\n        dateSelect = this.state.date;\r\n    }\r\n    else{\r\n        dateSelect = new Date();\r\n    }\r\n\r\n    let slotSelect = null;\r\n    if(this.state.appointmentMode == \"online\"){\r\n        slotSelect = this.state.slotClicked;\r\n    }\r\n    else{\r\n        slotSelect = moment(new Date()).format('LT');\r\n        console.log(slotSelect);\r\n    }\r\n\r\n    var options = {year: '2-digit', month: '2-digit', day: '2-digit' };\r\n\r\n    let formatDate = dateSelect.toLocaleDateString(\"en-GB\", options);\r\n    let format2Date = formatDate.replace(/\\//g,\"\");\r\n\r\n    let dateNow = new Date();\r\n    let formatNowDate = dateNow.toLocaleDateString(\"en-GB\", options);\r\n    let format2NowDate = formatNowDate.replace(/\\//g,\"\");\r\n\r\n    \r\n\r\n    if(this.state.appointmentMode == \"online\"){\r\n        var updates={};\r\n        // console.log(numb);\r\n        numb++;\r\n        let uploadObject = {\r\n            \"id\" : numb,\r\n            \"date\" : formatDate.replace(/\\//g,\".\"),\r\n            \"timeBegin\" : this.state.slotClicked,\r\n        };\r\n        updates[`doctors/${this.state.doctorId}/slotDetails/busySlots/${format2Date}/${numb}`] = uploadObject;\r\n        await firebase.database().ref().update(updates);\r\n    }\r\n\r\n    if(this.state.appointmentMode == 'online'){\r\n        await this.createAppointmentAndPayOnline();\r\n    }\r\n    else if(this.state.appointmentMode == 'offline'){\r\n        await this.createAppointmentAndPayOffline();\r\n    }\r\n    \r\n}\r\n\r\ncreateAppointmentAndPayOnline = async() => {\r\n\r\n    console.log(\"fee is \"+this.state.consultancyFee)\r\n    if(this.state.doctorPaymentAlternativeOnline==\"Before\") {\r\n        var options = {\r\n            \"key\": \"rzp_live_GyQtumhJW1szIn\", // Enter the Key ID generated from the Dashboard\r\n            \"amount\": this.state.consultancyFee*100, // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\r\n            \"currency\": \"INR\",\r\n            \"name\": \"Mobilesutra Corp\",\r\n            \"description\": \"Payment for Appointment\",\r\n            \"image\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAADaCAMAAABqzqVhAAABaFBMVEX///9NTU1zc3NWVlb6+vptbW1ISEhwcHD//v9QUFBDQ0OTk5PIyMj///37//9TU1Pg4OBeXl6rq6tZWVm+vr709PTQ0NB6enq3t7fs7OxAQEDu7u7ugEpkZGT0fUXwyrD0ez70ejaioqLZ2dmGhobnoHiOjo6bm5uAgID++e2SkpL84tGwsLDz//////jjjVvqg0L7eEfmiFf26NLoeEz/9vDqez3puJc1NTX//ez/8eHqjGn///Prh1T22sX0dj33377z06/uvJDutYv8r3L5oFfhlE/owJzwoGzxjULcpW/0hC/ffSrasYrj2tLs07rgk1TVwaL0tnrhwIjpp3Tr3MPlsnv9uIr8oWz4m0jmdwvooV+Ha1Xj4sNpdX3scyPbe1SHe2HuwKz5llXchj3hy7mnc1TrsZCjf2v/6N3hvZrdiW98dGmQgnZ6VEN5Tj5VVGLvooXnvK3mqYTsmHj00Mv9czbgeF6j/5u5AAAXZklEQVR4nO1di3/a2JXWBekiCb0ACRAgHuIhsEEQY+MYG5NkZprJtFl3u8l0djvbTD0z9Wam223qTPrv772SEOLlSFjYTqsv+QVbSIo+nXPP/c7VvUcEESFChAgRIkSIECFChAgRIkSIECFChAgRIvyrgSze9xXcDZKPpfu+hDtBG9Tv+xLuBG3wr2HP3Iwneb/XsWvEGJunTKmI6ydKVvH+onLpblZZ3oUSVeuzXZC4RiyXzN7RpYUJOTOPMYoRLxQKrMYt7aPFrY5F0TKtAkylWLb96XU0+ULL+iRjaSLHUt0s14JwiWgmY5lYEkWoS4pSb7OJFZs/dBQzGcs4JKt1C0nr8mUAFmnEU7Ptzg1osfqdXmQYaLGy9UmJ8ZwTYpJs3rsHKWoWzz04Y6fGNWdXrvWpWDYLbXo6A2bxpc62vXuQjMWKpKA62xSDdgslNaASnwZIyu4dszAzMw0JMt49FEBhnqpIuZtyDj2ObaSpFKWrn0DXmrYbW5HV3GtNQK8AUqBFkGMNd0vK2ZcSmQIQYQEuOPrDhMqkrIvWRNcFdSh7diiyCWtjwd1Yhw37kwU51C2RcqbwCRBtsFYY3YNu/59l9zzfq4Uc/sjNjdwtdK3PHHD2k+KFh9+lcrZ15ILbWSgs5fleKuCwVEzN/brFWuJCmrt6mk3fwZUGRHFvQQgodtCUYM7dlGI8YVR6jHnWC43ZBlKLWyGrNW+WdXZ+8EOBEissdvMGi92QzKTcvlDPeHiSXWw9pesKRAlYpNSCG6HRTVroih4EuvPAaaPOWG7ahi4T8sbe3/FwA85vVxc+MIWktOWGttzZxQqYYfqxz6DJMThiFRno3g1SKzywVFyBGa21vDEPcdwspv1qG4tfmk26G7hZ267r7bbxIPI2GYIVnioDg+sZ2dOGbYcgii1QgOhv+yGIwT2orbS+rrFuz49gfmuy0FISRQpqslrMNtjUAyCqaKGrtEbB6qjabMO+g/kC9QD0bh3Ew73ddUbDHxzrsjPuUQcWs1mHXpqNhXpmww7Ujfk4hALD/R/8ox4rIGh2KMyFOx4gpe1EYK4z0M/347hpFrTT6TawCaoZGH7sJ+OeRnlPPPMsZStvzc5NOKiFn19ocxl4T36rAifQ1zNOp2c8Dj+/MObt08ndifrdjh7pzlhXFqQceab41j7+IblOUod2zl4vJG86IHTk7LFLDqZ2kw0LPI8/0nbrILm400M3WPmmw0KHZil3GVKIZnYHI5GIp4A/dQhyhhGD0G4UErOSMewWMWzPPJvDDFsw/MyCFwTLoEQWRXQW5JxgvjQOvHvoKMp22TamORt0DhXCcCzQ9o9qvT5r+Wo8dceD2BJMGGzD8iGjEHJCbAqEIFw86SHP5Re/0e/+6YTOAjvypdmwFTbf+/Hp8Nmz4bMhLSx8UcyId5+1NKCWl9RsLvyMiRc6zz77/ItfPT9Z4tktbJPs3RZpgPWt47xhgud7wy+/f/GC79GmdzupMfcylFLMtxrpsP5nnqdnjZHmO1/98Otf/+blCbFgT5l1hi1ISTZ2/FQt29C0xi5Ga0zT5cnz/3Yx/O2r4cV4IQ6RFDInqXJ6TkRutFPTkkkWxDOQbYQeDuiOhyf6VXh20TNnfagNlCno7ThbgHGqla/v9KFEko1li0WOYsV82DH238du0KFpJIaGHRppIi/PHABQpFrd7M5jbtYWBgSZZthcSBO6eJomBJoef/UEGQ+pIHsjL2DZt0CTSDfSWfVOVF/DFXhSm2X0UCIB8s3O+IR4/bunPf5IdYjRYZx5ayiZhHs7yXwmnHxTEMzhV//x/LPfv/rs89++9s2QVIs7M63CNDy/qXooEY+nCf7J17//3ZffvPjVU1Pwx1NKaplMIr2brqVeTGzzpI4XaH5lG2qUONzQGKgtvv7i82++Hzw9I5cE0AboTEFMUAxL7aJvkQpUbqtR2h7R6wnL6KFQg0GbPCGYz/7ziy9e1F6d9ATz4+dDeaCYR92KmmR3keSjvpNhttCXpLq/Fm87iCHiSdDm8YsXA6R//usPiOjHT5iHM0WtszsZRKlrAATMi0iu9cdvD0ZrUJr0mz+emMhR+f/++un4ePRq/PQlaqAfP2WKnbkrSYHdyAUdBGsT2QSV+OO3h49Ka1Ge9lGARc0XGXb45jnqMnFTpjF186zHr7Rq55xgHg27heUJkiFBikFW9x3QdS0WiyF7ltejNCp/VzFRUoIk/MmrJ5bIQ9GXR3rvp7FwtoGn7Bk6ye5uVCyfYVM+dbxOIZpU4k8/H/bX4KBUHVXLg4qla3nzlxPS7lNMc9zpPLvojJX1fYyXp8yuTu29HeanUxuw4EshcMiaiYReV47MziqOjirvJoNBtXSOPBd3Pj3T4Xn2+uXvPv/81dfj9aetw/lD5YZIsaHKBRV4bMhpfgbdlASypjVOhztJ/K+t52h7C1Ky5mWpNHpxembxc7wUtUq69/TVH77/4mSDZPBMdEwzDGiHxhOfSF+YFOHr1HnktYnNYh+1SZM/LpWqhxdLMZY/+uz7F29+eLIp9MosZRHN5qA73hkCJMqokykt8HE51Da7m79GduN7ZrNcrjZNj+WQPDJ/fPnsN988e3m06dA0G9e5fBuiJDHwVW1GXWQBBeZXrLR89SwqNucN8gn1IcJZr1I9rB50PIkm5tkRzK9e9zqbvaaejEMIY1y4Sl6R2yKTaWWds0r+hmuzVCzR2PDdTPzx9Lj0qDQZC8KCjyKXvjjh6c0SkGyJgJLDz1dUMaGxkLLHvDh/EwU4xHNvw3e8A6HXOSiPSmM7UM2/JgT+jF9V/y6KBW3OkgwnD8boFupktgFZpi2rdargS8xjnhvVp8PTFE4wz7c0QXsTT+zFPLE8Fu+Fd1hBwlMZwlnqI9uTDLtagQXA51OGDTyLkiSp++PhcDx8i/6eH4zKpQr67QQPLCBhZO2EiNI30VwEk+NaqVioXlzXc22finIdz2wLxw/220MHk4NJdVAuTfDPrypHOE0LfknpDANZthUmT9Lz78ewylOiWCaOwPy5OrBRLZfQn3IZ/1yb9it8T/BtRYyi3ADIxUQ3Rt4DVnjKUMQsRfFvf54+smElLejvo3L5sITE7lXH13CCjWKaYlmYasj1sCawJrd5erPMU2YxSRBPaan/8aj56qhctkU9suzopUlvSsdWzi+yTEy3ZDxFfXRvP1Di2wwLLfGUsDVBjlMVRTkau3iL49B5Zzw8vy4NytVBhRf8ua7KiO68D50NZeRaFTf19zdhiSeFaDK2qPIOEx31R+XJW6GH2D3tlwfT/ljYmGAvQC7MFVoxnIcDJLXN3IdFnlmIrGlfGR7hc/vPo8loWhqiDoUXiIvDQXn6kyn448mGPpJAymCLEelFni0mLrrezzs6gaCFI+y3QywBTeHsp+lo2u8IvJ9gJLHbONlNIGNUBiQDj5Qu8CRTYhysMcCMJ5J9SOcNkUGRE/viSTQKS8nKbX2X3MtAAMWczgV6iLPAU0Ud57qpBR6eKPM+O0Wi4cInTyU/l7WKStRz2q0fbCn1fCsFC6xI7flPEhZ4SiAurptuOedpqfr3g2m1EkgpkGq2uxfLwHr3cUjzRVXZoGDB/1qLgDytVtuslmoVv8KWlDg9l2LQNbGptkRKIQ6IKdmd2ZPA0xKC8FRSkC2gZHEvb2mFexN+AXnSQXmS7ZjOSfe/NsAPT/oWPB8KfPHsnfzcP/x56Px2rzyVRq7daCUNXU9387L/xu6HJ0+Tf4r95S9ObNuGp1LnuHCmZRRTKMtgUSbLol708Q0DlUvww1MgyFwiRm3Ns2iIBRSMEqFIQDUHWlw9m83HQC7v/9758luex6O82/KUNDbV0I0cYI0Q4pHOOkYk9eXqHTfBV7xF9tyep6JBw3r8WadCWOKsMu56CjKW8f9Ydfc80+7sTTV1+/mqWc/DsXyAx6o750lS88Ut+dsvPsvPaxwgzuHGoVvxVD2LTiW4aUjcN2TPrZID3Lad85Q8a8KL4NbZqATnp2hA/7nPHdtzZUFxUJCUm/BkYYCZ8DvnqXgWE8oBGtQmZKFoRx8ZBEnxdh9v54sfFC2M9QFdyGpG2kixIEhQu4P+MzVbpBRG/4mQjQEk+5hgM2635ulz3ITASxXZlJFPtyEMa1qYynFBZzHfAU9CbYnIAIC626V1i9iCp9mclqaVlUVIN0Hl8nL9XpPtLXieNUsHh5UbH/A+PATnSRD/+9e//p9M+JuD+1CwDc828zfgn2fY7lrkdJ0LPGq4FU8xDnzHFF1r5cNcrN3NsChn9zt30cXueQL8mLeth7ScxYCins0aLBNwWD8AT/dCA/Ekitl0G9kAZBJGgHGrDciyml1zMOgqTzxPyhXXm3nGtudpHS91M4wIH99aKLRnmtZgg3lunYrFZtU1N/OUEolYzDVGcJ4EvlVMunvbhQ9KZjZqohaCpbIkIkDNbs1GnumF2XFb8STI+O3X4BdF1/eogFM2DUR0Njl2E08J34w5s+14hjFLXsm4d9sIWMe0riEOzoDjBp5qOxFLUPMYsiXPeggL4WOuT3BB75qBWijVsIu9IJ4r7kBmc4vm3JantFxVbwsYboVaFaW1ZDHrPxopmEaCaqTzeZ2JxzP5Rehta5mAN1JuyZMLYTRhbkUlRem5eIH1P4Sr5jCTBIWAZ4JRi8CRNkYtzMsLwFP1XEYuhKL7EsA+oUj5FiVClOq1gtzvYpLCZBBXEdkztgKKSi80Wv881UI8p9urXkkjjKknpBbLphsaUn6ZoDMxMLgWNmcCz5LKUMtIGEsayz9PpaUBtsAkkl2dYrUwlF8LwgLUGt0tF36TEtdNpw3MM72I/KowDdI+FUk2EgxbKMBwFsVzlCHfeo6D1a98fLegcYhUs7L8kKpwbtRDi9gy3j4cIJ7xzMedIsesnTX26UDBk1I/6mDW7LhP+/0zqGNhPirOOOTd4qfyMoD1SCPHFT9iUFJDN+Ph1WoOBAXzpG7smsgGEoc7KOp4t0jDeJzRblgRVs+hW8GEoGzuGZiGCCgj3V2DtJ4DeOrqXVc52wGUGMALHhiwFgxe8+GWdvykQe4BawHLJogw9wBKM4eBbBtZk1kPCGI7WOh4X5Bk3UiuwjD0/AOYYhohQoQIESJEiBAhQoQIEf7JYdUf4j+2zl5YKlP06QHX4BY+Wk+A5+n7rYt7a8yqRty8F/8A7KmuG4JWnPo2Nw1WWjW3rZoRuJ7CjfYShLMTPlyLkquLKtdsmiPLrnmVRR1axY9uWIyAqyYQQue8cnx1dXV5PrYKjG+clsoLlf7lmmK6t4C8+lY0o3BDNRcZxFcN2gUi3ihtXg6CixWOj/uT6rRWG40OT6/3cRm4Te2UF5q1d2aos5DTYLnUR50Vb6h+s54ntB5+ScwNPM0fv6t9KJcOTt+fTqq16uTSFAhzE0+++SF0nsuPKzUmME81Zz0JXOC56CU9szKola4vxh2TPBqfH09qVllRfqnguFUkDdeEa5YxT3q2lXD3s0pazqrGBWjCiCez8BqtNIwv8lSKiueaZWjxJJV1c/gW7EmiA93r740PHv1wgUyIa8gjH94/GB2MewLf65DmfHkHf9bBRWwEgXxXbnYE0ySIM7zBxFVReKt+Lq43b3ZOOiaOZx3/xbcQT9H7akSJiYsenpKR0FJazHBNbvHMtihNy82rkKvtFXtmk1QqpeXcCkmVUbkiuKFFEM4PD8+RVY7evR/PeZJX/XNaOLr6sjkZHDSb796f4/o2l9dvheHzV19eIqZCT3h72Tzt968rR72/N/d9u3YaaDHGM28xx2QazIwnaTAAYgBmti5ahhmpBSDaDACTdAyWZ5fap9oAzoFxu/XzV7VRp+f2JjQtXDw/QSSGo9q54JZwPuq/ORaEox/elKflWvXNtPpcwAUOp5cXBx9qb34+Q47QQS4/RaiVm+cHby4D8ExJzLxgUB5AWQcOTzIHYErnslxagyBnc5JBKgdArsvl9+IAxIrOUZkFnqoGIJXO1jk9A4D11hbhqnZwNCdE4yqMAmL7tjzy8jytHiOvff200h+d/vJj5aKDXPaoX/5yUju9Ot5HPMfN8nRy/bzyvFmq9ku1ywB+m0LdwuwV5moKJAhjxhPZLekIAB0460tRHGJS9gyKYhI6NWmXeJIJwDgFrpQWxNPpaKHyqIorgmGhQFtVGO1AMiwhnvycZ+2YsMqvN6dNkxCs6rmdg0G59BMuqYqa5vW01LSqAgv778vlUSB7kijE2u+0xswkl2cWgPnEat3pG2UgZiTPRm4Nzzz0zA3aA/j9KfS4XytdvTUtRYdbGW8RXc+Tpi2eVrzFPEelK6dC8Plh7apj7W4KnX55dByMp8QyLZsZXn8449lmMp4dKXur7O1vkeEsIbTEM+V9ia+Swm+RonsXB7XaoN+8Pq5cvB6emLaCXeRJz+xJODzxRszzYGzvfdac9sd24Xl0gkqpHJAnfhcch3Ubg8WRw1PNLCgIGVjzVGXo7W7zwHr3+SJPCS6sDElDjSTIHj+8QhGkWq3VpuXDSf94yPvniX7GpWPpk8n0UrDFBW/2OsF5khqDZKsBrLlLDk9kXO/lqozlo07/6UCC1sZFnjJcmHxQB1j1om6TONqvXL17f9qfjKrV0eTyDMfbUnVN++TpZrUpuDzLV4L1+iRhv1x6Tdgej9rq0aQasH3iJctArzPWDNwZTxlAr/JRMtYi30U9pMatCLbIMw0yhgct0fEA7HuImnkyHl5cD6qjCjKNX55WxytclA/3nVfSoJ224EkSSZDRnLfq3cwTet9er4pr7NkFcdYL6HTPWMzg6uO4jrNw/l3t9Eigl3gerOWJwo3Ds1rap2/DExerEUVnZuF6v5XENX5bhxazZb/N5GUvnNMI1rshedo0UeNCHerhfg/xLLs8ed7lySOe/CrP/dHo3LEnaq+dbXgSHJxVJlgfh/LAqm2J4q3kPTq+Jg6tWaFG71++7dFuBoJs9bRc2u8Jw0n5whk7QCnN+aR6heMM6leq16atnrw8O5PapVPF0USSGfU3wXkS+my2sqdfmccTkrJVL4q3noLkGmgTKzwJbaVmBX3U/PC+Ny8cStO9qze4KnenjxLNnh1YekfNas3heY14Cpane3ki+pOhXTkX9bGVwP3nIjw6Yd4P6oxd5hLFofkk9SQA63SCDJl5ZmDP0DZf1gYXc9knnO0f4gyTFo5HpfMzK4KaZ8elctnmKVxVTzsoP0Xw8OSF/cn0+sQ6hcAPg+uE9TwxjYbdGItJxqP7ErbnKsnZjVjWfTnAOG80UnRbSdD731W/q3RmQ5ZHTyelwTl25OF3tX7lDLVdfvzZqDQpH1uiUKgg+gRuyTwutOrwNHvm1eHgeoybujBsIt13HETfbuRJtiGTSSIdb6QYONPxUMvB+B5Xz+opMNu4rOOLFASaIXP5VgbYRVMEvjKZjvpXl+f7++eXV/3yh0Ocr6CgdDkZofx7+Pr4tFo6/nJ6bA2RCeODWv/5k+OfL3ChuNqlHaqQaBy/K09P//7LL79cTUrvJ+Xn/u0J48s8k8DNy5BOwkBpmJuXsSm1jXMyvNmY5WXOuAmYVfxUDCspQ3+cQld0zxx+VfpQGwwGpcGoVhv1z008/Ef3+Mrp9ANKtD5MJ5VO882xdVd6ZuUfjz4cTj98hVrtwfSYn/HkO8ejD6PBaPCheo3uhX+edWZl4SjneWWQmk4wgKHmL5KWNOSqXAxll5l58i3FLf8lkw03cKndtpbR2l3nQDwOxqMM+fDRo+mjw3+8e4KTT+sdJchGlebk8PD0eB9J1vfnvEPoyde/+qF/NeRNoYLybCtS494X3a+rSfnRo2bF7B2/fxLmkODa1blKsHmltkTgzbPOcDg8sRI0GrFE7Y7GycvZEYo+PZyfWAbCkQgPlZgEflmWiQdBZ10s7pvQWc54a5Do/oezg4FeO6a1bpiL37A9QoQIESJEiBAhQoQIESJEiBAhQoQIESI8ePw/yaepuOUzIQUAAAAASUVORK5CYII=\",\r\n            // \"order_id\": `${this.state.paymentStr}`, //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\r\n            \"handler\": async(response) => {\r\n                await this.handlePaymentSuccess(response.razorpay_payment_id);\r\n                this.setState({ razorPayResp : response.razorpay_payment_id });\r\n            },\r\n            \"notes\": {\r\n                \"address\": \"Razorpay Corporate Office\"\r\n            },\r\n            \"theme\": {\r\n                \"color\": \"#4be4ac\"\r\n            }\r\n        };\r\n    \r\n        var rzp1 = new window.Razorpay(options);\r\n    \r\n        await rzp1.open();\r\n    }\r\n    \r\n    else{\r\n        this.handleContinueWithoutPayment();\r\n    }\r\n\r\n}\r\n\r\ncreateAppointmentAndPayOffline = async() => {\r\n\r\n    console.log(\"fee is \"+this.state.consultancyFee)\r\n    if(this.state.doctorPaymentAlternativeOffline==\"Before\") {\r\n        var options = {\r\n            \"key\": \"rzp_test_sAgw6NczoaNFRz\", // Enter the Key ID generated from the Dashboard\r\n            \"amount\": this.state.consultancyFee*100, // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\r\n            \"currency\": \"INR\",\r\n            \"name\": this.state.doctorName,\r\n            \"description\": \"Payment for Appointment\",\r\n            \"image\": \"data:image/png;base64,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\",\r\n            // \"order_id\": `${this.state.paymentStr}`, //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\r\n            \"handler\": async(response) => {\r\n                await this.handlePaymentSuccess(response.razorpay_payment_id);\r\n                this.setState({ razorPayResp : response.razorpay_payment_id });\r\n            },\r\n            \"notes\": {\r\n                \"address\": \"Razorpay Corporate Office\"\r\n            },\r\n            \"theme\": {\r\n                \"color\": \"#4be4ac\"\r\n            }\r\n        };\r\n    \r\n        var rzp1 = new window.Razorpay(options);\r\n    \r\n        await rzp1.open();\r\n    }\r\n    \r\n    else{\r\n        this.handleContinueWithoutPayment();\r\n    }\r\n\r\n}\r\n\r\nhandleContinueWithoutPayment = async() => {\r\n            let dateSelect= null;\r\n            if(this.state.appointmentMode == \"online\"){\r\n                dateSelect = this.state.date;\r\n            }\r\n            else{\r\n                dateSelect = new Date();\r\n            }\r\n\r\n            let slotSelect = null;\r\n            if(this.state.appointmentMode == \"online\"){\r\n                slotSelect = this.state.slotClicked;\r\n            }\r\n            else{\r\n                slotSelect = moment(new Date()).format('LT');\r\n                console.log(slotSelect);\r\n            }\r\n\r\n            var options = {year: '2-digit', month: '2-digit', day: '2-digit' };\r\n            let formatDate = dateSelect.toLocaleDateString(\"en-GB\", options);\r\n\r\n            console.log(formatDate);\r\n            let formatDate1 = formatDate.replace(/\\//g,\"\");\r\n            let formatDate2 = formatDate.replace(/\\//g,\".\");\r\n\r\n            let formatTime = slotSelect.replace(/\\s/g, \"\");\r\n\r\n            ///////////////////////////\r\n\r\n            const dateNow = new Date();\r\n\r\n            let formatNowDate = dateNow.toLocaleDateString(\"en-GB\", options);\r\n            let formatNowDate1 = formatNowDate.replace(/\\//g,\"\");\r\n            let formatNowDate2 = formatNowDate.replace(/\\//g,\".\");\r\n\r\n            let formatNowTime = dateNow.toLocaleTimeString('en-US');\r\n            let momNowTime = moment(dateNow);\r\n            let momNowTimeFormat = momNowTime.format('LT');\r\n            let formatNowTime1 = momNowTimeFormat.replace(/\\s/g ,\"\");\r\n            let formatNowTime2 = momNowTimeFormat.replace(/\\s/g ,\" \");\r\n            console.log(formatNowDate2+\" \"+formatNowTime1);\r\n\r\n            ///////////////////////////\r\n            let keyString = \"APPMT-\"+this.state.userId+\"-\"+this.state.doctorId+\"-\"+formatDate1+\"-\"+formatTime+\"-d\"+this.state.dependentInfo.id;\r\n\r\n            let diagnosisEmptyForm = {\r\n                \"additionalInfo\" : \"\",\r\n                \"form\" : [ null, {\r\n                  \"ans\" : \"\",\r\n                  \"ques\" : \"\"\r\n                }, {\r\n                  \"ans\" : \"\",\r\n                  \"ques\" : \"\"\r\n                }, {\r\n                  \"ans\" : \"\",\r\n                  \"ques\" : \"\"\r\n                }, {\r\n                  \"ans\" : \"\",\r\n                  \"ques\" : \"\"\r\n                } ]\r\n              };\r\n\r\n              console.log(this.state.userCommunicationMode);\r\n              console.log(this.state.dependentInfo);\r\n\r\n            let object = {};\r\n            if(this.state.appointmentMode == \"online\"){\r\n                object = {\r\n                    \"hasPaid\" : false,\r\n                    \"paymentAlternative\" : this.state.doctorPaymentAlternativeOnline,\r\n                    \"patientId\" : this.state.userId,\r\n                    \"doctorId\" : this.state.doctorId,\r\n                    \"id\" : keyString,\r\n                    \"mode\" : this.state.appointmentMode,\r\n                    \"visitType\" : this.state.appointmentType,\r\n                    \"dependentInfo\" : this.state.dependentInfo,\r\n                    \"dateBooked\" : formatNowDate2,\r\n                    \"date\" : formatDate2,\r\n                    \"timeBegin\" : slotSelect,\r\n                    \"name\" : this.state.dependentInfo.name,\r\n                    \"fee\" : this.state.consultancyFee,\r\n                    \"isSeen\" : false,\r\n                    \"diagnosisForm\" : diagnosisEmptyForm,\r\n                    \"userCommunicationMode\" : this.state.userCommunicationMode,\r\n                    \r\n                };\r\n            }\r\n\r\n            else{\r\n                object = {\r\n                    \"hasPaid\" : false,\r\n                    \"paymentAlternative\" : this.state.doctorPaymentAlternativeOffline,\r\n                    \"patientId\" : this.state.userId,\r\n                    \"doctorId\" : this.state.doctorId,\r\n                    \"id\" : keyString,\r\n                    \"mode\" : this.state.appointmentMode,\r\n                    \"visitType\" : this.state.appointmentType,\r\n                    \"dependentInfo\" : this.state.dependentInfo,\r\n                    \"dateBooked\" : formatNowDate2,\r\n                    \"date\" : formatDate2,\r\n                    \"timeBegin\" : slotSelect,\r\n                    \"name\" : this.state.dependentInfo.name,\r\n                    \"fee\" : this.state.consultancyFee,\r\n                    \"isSeen\" : false,\r\n                    \"diagnosisForm\" : diagnosisEmptyForm,\r\n                    \"userCommunicationMode\" : this.state.userCommunicationMode,\r\n                };\r\n            }\r\n\r\n            if(this.state.userCommunicationMode==\"WhatsApp\"){\r\n                object[\"userWhatsapp\"] = this.state.userWhatsapp;\r\n            }\r\n            \r\n\r\n            var updates={};\r\n            // console.log(object);\r\n\r\n            // console.log(keyStr);\r\n            updates[`appointments/${keyString}`] = object;\r\n            await firebase.database().ref().update(updates);\r\n\r\n\r\n\r\n            localStorage.setItem('dateSelected', dateSelect);\r\n            localStorage.setItem('slotSelected', slotSelect);\r\n            localStorage.setItem('appointmentMode', this.state.appointmentMode);\r\n            localStorage.setItem('appointmentType', this.state.appointmentType); \r\n            localStorage.setItem('lastAppointment', JSON.stringify(this.state.lastAppointment));\r\n            this.setState({ allowedToRedirect: true });\r\n}\r\n\r\nhandlePaymentSuccess = async(rpPaymentId) => {\r\n\r\n            let dateSelect= null;\r\n            if(this.state.appointmentMode == \"online\"){\r\n                dateSelect = this.state.date;\r\n            }\r\n            else{\r\n                dateSelect = new Date();\r\n            }\r\n\r\n            let slotSelect = null;\r\n            if(this.state.appointmentMode == \"online\"){\r\n                slotSelect = this.state.slotClicked;\r\n            }\r\n            else{\r\n                slotSelect = moment(new Date()).format('LT');\r\n                console.log(slotSelect);\r\n            }\r\n\r\n            var options = {year: '2-digit', month: '2-digit', day: '2-digit' };\r\n            let formatDate = dateSelect.toLocaleDateString(\"en-GB\", options);\r\n\r\n            console.log(formatDate);\r\n            let formatDate1 = formatDate.replace(/\\//g,\"\");\r\n            let formatDate2 = formatDate.replace(/\\//g,\".\");\r\n\r\n            let formatTime = slotSelect.replace(/\\s/g, \"\");\r\n\r\n            ///////////////////////////\r\n\r\n            const dateNow = new Date();\r\n\r\n            let formatNowDate = dateNow.toLocaleDateString(\"en-GB\", options);\r\n            let formatNowDate1 = formatNowDate.replace(/\\//g,\"\");\r\n            let formatNowDate2 = formatNowDate.replace(/\\//g,\".\");\r\n\r\n            let formatNowTime = dateNow.toLocaleTimeString('en-US');\r\n            let momNowTime = moment(dateNow);\r\n            let momNowTimeFormat = momNowTime.format('LT');\r\n            let formatNowTime1 = momNowTimeFormat.replace(/\\s/g ,\"\");\r\n            let formatNowTime2 = momNowTimeFormat.replace(/\\s/g ,\" \");\r\n            console.log(formatNowDate2+\" \"+formatNowTime1);\r\n\r\n            ///////////////////////////\r\n            let keyString = \"APPMT-\"+this.state.userId+\"-\"+this.state.doctorId+\"-\"+formatDate1+\"-\"+formatTime+\"-d\"+this.state.dependentInfo.id;\r\n            \r\n            let paymentStr = \"PYMT-\"+this.state.userId+\"-\"+this.state.doctorId+\"-\"+formatNowDate1+\"-\"+formatNowTime1;\r\n            console.log(paymentStr);\r\n            \r\n            let diagnosisEmptyForm = {\r\n                \"additionalInfo\" : \"\",\r\n                \"form\" : [ null, {\r\n                  \"ans\" : \"\",\r\n                  \"ques\" : \"\"\r\n                }, {\r\n                  \"ans\" : \"\",\r\n                  \"ques\" : \"\"\r\n                }, {\r\n                  \"ans\" : \"\",\r\n                  \"ques\" : \"\"\r\n                }, {\r\n                  \"ans\" : \"\",\r\n                  \"ques\" : \"\"\r\n                } ]\r\n              };\r\n\r\n            let object = {};\r\n            console.log(this.state.userCommunicationMode);\r\n            console.log(this.state.dependentInfo);\r\n            if(this.state.appointmentMode == \"online\"){\r\n                object = {\r\n                    \"hasPaid\" : true,\r\n                    \"patientId\" : this.state.userId,\r\n                    \"doctorId\" : this.state.doctorId,\r\n                    \"id\" : keyString,\r\n                    \"mode\" : this.state.appointmentMode,\r\n                    \"visitType\" : this.state.appointmentType,\r\n                    \"dependentInfo\" : this.state.dependentInfo,\r\n                    \"dateBooked\" : formatNowDate2,\r\n                    \"date\" : formatDate2,\r\n                    \"timeBegin\" : slotSelect,\r\n                    \"name\" : this.state.dependentInfo.name,\r\n                    \"fee\" : this.state.consultancyFee,\r\n                    \"isSeen\" : false,\r\n                    \"paymentId\" : paymentStr,\r\n                    \"diagnosisForm\" : diagnosisEmptyForm,\r\n                    \"userCommunicationMode\" : this.state.userCommunicationMode,\r\n                };\r\n            }\r\n\r\n            else{\r\n                object = {\r\n                    \"hasPaid\" : true,\r\n                    \"patientId\" : this.state.userId,\r\n                    \"doctorId\" : this.state.doctorId,\r\n                    \"id\" : keyString,\r\n                    \"mode\" : this.state.appointmentMode,\r\n                    \"visitType\" : this.state.appointmentType,\r\n                    \"dependentInfo\" : this.state.dependentInfo,\r\n                    \"dateBooked\" : formatNowDate2,\r\n                    \"date\" : formatDate2,\r\n                    \"timeBegin\" : slotSelect,\r\n                    \"name\" : this.state.dependentInfo.name,\r\n                    \"fee\" : this.state.consultancyFee,\r\n                    \"isSeen\" : false,\r\n                    \"paymentId\" : paymentStr,\r\n                    \"diagnosisForm\" : diagnosisEmptyForm,\r\n                    \"userCommunicationMode\" : this.state.userCommunicationMode,\r\n                    \r\n                };\r\n            }\r\n\r\n            if(this.state.userCommunicationMode==\"WhatsApp\"){\r\n                object[\"userWhatsapp\"] = this.state.userWhatsapp;\r\n            }\r\n\r\n            let paymentObj = {\r\n                \"amount\" : this.state.consultancyFee,\r\n                \"appointmentId\" : keyString,\r\n                \"date\" : formatNowDate2,\r\n                \"doctorId\" : this.state.doctorId,\r\n                \"dependentInfo\" : this.state.dependentInfo,\r\n                \"id\" : paymentStr,\r\n                \"patientId\" : this.state.userId,\r\n                \"time\" : formatNowTime2,\r\n                \"paymentIdRP\" : rpPaymentId,\r\n                \"type\" : \"Appointment Payment\"\r\n            }\r\n\r\n            var updates={};\r\n            // console.log(object);\r\n\r\n            // console.log(keyStr);\r\n            updates[`appointments/${keyString}`] = object;\r\n            updates[`payments/${paymentStr}`] = paymentObj;\r\n            await firebase.database().ref().update(updates);\r\n\r\n\r\n\r\n            localStorage.setItem('dateSelected', dateSelect);\r\n            localStorage.setItem('slotSelected', slotSelect);\r\n            localStorage.setItem('appointmentMode', this.state.appointmentMode);\r\n            localStorage.setItem('appointmentType', this.state.appointmentType); \r\n            localStorage.setItem('lastAppointment', JSON.stringify(this.state.lastAppointment));\r\n            \r\n\r\n            this.setState({ allowedToRedirect: true });\r\n            \r\n}\r\n\r\nchangeSlotSelect = (slot) => {\r\n    // console.log(slot);\r\n    var t = moment(slot, 'LT');\r\n    this.setState({ slotClicked : t.format('LT')});\r\n}\r\n\r\n\r\ntoggleAppointmentMode = (key) => (event) => {\r\n    // console.log(this.state.userName);\r\n    \r\n    if(key == 'online'){\r\n        this.handleOnlineClickScroll();\r\n    }\r\n    if(key == 'offline'){\r\n        this.handleOfflineClickScroll();\r\n    }\r\n    this.setState({ appointmentMode: key});\r\n}\r\n\r\nchangeAppointmentType = async(event) => {\r\n    if(this.state.appointmentType==\"First Time\"){\r\n        await this.checkFollowupAppointment();\r\n    }\r\n    else{\r\n        this.setState({appointmentType: \"First Time\"});\r\n    }\r\n}\r\n\r\ncheckFollowupAppointment = async() => {\r\n\r\n    let dateSelect = this.state.date;\r\n    var options = {year: '2-digit', month: '2-digit', day: '2-digit' };\r\n\r\n    let formatDate = dateSelect.toLocaleDateString(\"en-GB\", options);\r\n    let format2Date = formatDate.replace(/\\//g,\"\");\r\n\r\n    let dateNow = new Date();\r\n    let formatNowDate = dateNow.toLocaleDateString(\"en-GB\", options);\r\n    let format2NowDate = formatNowDate.replace(/\\//g,\"\");\r\n\r\n\r\n    let momentDate = moment(dateSelect);\r\n    let momentNow = moment(dateNow);\r\n    // let momentTest = momentNow.subtract(2, 'days');\r\n    // momentDate.subtract(7,'days');\r\n\r\n    // console.log(momentDate.format(\"DD-MM-YYYY\"));\r\n    // console.log(momentNow.format(\"DD-MM-YYYY\"));\r\n\r\n    // console.log(momentDate > momentNow)\r\n\r\n    let dbref2 = firebase.database().ref(`appointments`);\r\n    await dbref2.orderByChild(\"patientId\").equalTo(this.state.userId).once(\"value\", async(snap) => {\r\n        let data = snap.val();\r\n        console.log(data);\r\n        if(data){\r\n            let appointmentsArray = [];\r\n            snap.forEach((sn) => {\r\n                let d = sn.val();\r\n                console.log(d.doctorId+\" \"+this.state.handleDocId+\" \"+d.dependentInfo.id+\" \"+this.state.dependentInfo.id);\r\n                \r\n                if(d.doctorId == this.state.handleDocId && d.dependentInfo.id == this.state.dependentInfo.id){\r\n                    // console.log(d);\r\n                    appointmentsArray.push(d);\r\n                }\r\n            });\r\n            console.log(appointmentsArray);\r\n            if(appointmentsArray.length<1){\r\n                if(this.state.appointmentMode == \"online\"){\r\n                    document.getElementById('myCheckbox1').checked = false;\r\n                }else{\r\n                    document.getElementById('myCheckbox2').checked = false;\r\n                }\r\n                this.setState({appointmentType: 'First Time'});\r\n                this.setState({notFollowup : true});\r\n                this.setState({notFollowupModal : true});\r\n                return;\r\n            }\r\n            appointmentsArray.sort((ele1, ele2) => {\r\n                let date1 = moment(ele1.date, 'DD-MM-YY');\r\n                let date2 = moment(ele2.date, 'DD-MM-YY');\r\n\r\n                let time1 = moment(ele1.timeBegin, 'LT');\r\n                let time2 = moment(ele2.timeBegin, 'LT');\r\n\r\n                if(moment(date1).isSame(date2)){\r\n                    console.log(\"having to sort times\");\r\n                    if(moment(time1).isAfter(time2)) return -1;\r\n                    if(moment(time1).isBefore(time2)) return 1;\r\n                }\r\n                if(moment(date1).isAfter(date2)) return -1;\r\n                if(moment(date1).isBefore(date2)) return 1;\r\n                \r\n\r\n            });\r\n            console.log(appointmentsArray);\r\n\r\n            this.setState({ lastAppointment : appointmentsArray[0]});\r\n\r\n            let lastAppointmentDate = appointmentsArray[0].date\r\n            let momentLAD = moment(lastAppointmentDate, 'DD-MM-YY');\r\n\r\n            if(this.state.appointmentMode == \"online\"){\r\n                let momentDateTemp = momentDate;\r\n                momentDateTemp.subtract( parseInt(this.state.doctorFeeData[\"followup_online_period\"]), 'days');\r\n                console.log(momentDateTemp > momentLAD);\r\n                console.log(momentDateTemp.format(\"DD-MM-YY\"));\r\n                console.log(momentLAD.format(\"DD-MM-YY\"));  \r\n                \r\n                let momentDate2 = moment(dateSelect);\r\n\r\n                console.log(momentDate2.format(\"DD-MM-YY\"));\r\n                if(momentDate2.isBefore(momentLAD) || momentDateTemp.isAfter(momentLAD)){\r\n                    document.getElementById('myCheckbox1').checked = false;\r\n                    this.setState({appointmentType: 'First Time'});\r\n                    this.setState({notFollowup : true});\r\n                    this.setState({notFollowupModal : true});\r\n                }\r\n                else{\r\n                    this.setState({ notFollowup : false});\r\n                    this.setState({ appointmentType: 'Follow up'});\r\n                }\r\n            }\r\n            else{\r\n                let momentNowTemp = momentNow;\r\n                momentNowTemp.subtract( parseInt(this.state.doctorFeeData[\"followup_online_period\"]), 'days');\r\n                console.log(momentNowTemp.format(\"DD-MM-YY\"));\r\n                console.log(momentLAD.format(\"DD-MM-YY\"));\r\n                \r\n                let momentNow2 = moment(dateNow);\r\n                console.log(momentNow2.format(\"DD-MM-YY\"));\r\n                \r\n                if(momentNow2.isBefore(momentLAD) || momentNowTemp.isAfter(momentLAD)){\r\n                    document.getElementById('myCheckbox2').checked = false;\r\n                    this.setState({appointmentType: 'First Time'});\r\n                    this.setState({notFollowup : true});\r\n                    this.setState({notFollowupModal : true});\r\n                }\r\n                else{\r\n                    this.setState({ notFollowup : false});\r\n                    this.setState({ appointmentType: 'Follow up'});\r\n                }\r\n            }\r\n        }\r\n        else{\r\n            if(this.state.appointmentMode == \"online\"){\r\n                document.getElementById('myCheckbox1').checked = false;\r\n            }else{\r\n                document.getElementById('myCheckbox2').checked = false;\r\n            }\r\n            \r\n            this.setState({appointmentType: 'First Time'});\r\n            this.setState({notFollowup : true});\r\n            this.setState({notFollowupModal : true});\r\n        }\r\n    });\r\n}\r\n\r\ntoggleGuideModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            guideModalOpen: !prevState.guideModalOpen,\r\n        }\r\n    });\r\n}\r\n\r\ntoggleOfflineClick = () => {\r\n    this.togglePayClick();\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            payOfflineClick: !prevState.payOfflineClick,\r\n        }\r\n    });\r\n}\r\n\r\ntoggleOnlineClick = () => {\r\n    this.togglePayClick();\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            payOnlineClick: !prevState.payOnlineClick,\r\n        }\r\n    });\r\n}\r\n\r\n\r\ntoggleErrorModal = () => {\r\n    this.togglePayClick();\r\n    this.setState({ payOfflineClick : false});\r\n    this.setState({ payOnlineClick : false});\r\n}\r\n\r\ntoggleNotFollowupModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            notFollowupModal: !prevState.notFollowupModal,\r\n        }\r\n    });\r\n}\r\n\r\ntogglePayClick = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            payClick: !prevState.payClick,\r\n        }\r\n    });\r\n}\r\n\r\ntoggleDocSlotsModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            viewDocSlotsModal: !prevState.viewDocSlotsModal,\r\n        }\r\n    });\r\n}\r\n\r\ntoggleNavbar = () => {\r\n    this.setState(prevState=>{\r\n      return{\r\n          ...prevState,\r\n          isNavbarOpen: !prevState.isNavbarOpen,\r\n      }\r\n    });\r\n  }\r\n\r\n  togglePrivacyPolicyModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            privacyPolicyModal: !prevState.privacyPolicyModal,\r\n        }\r\n    });\r\n}\r\n\r\ntoggleTermsModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            termsModal: !prevState.termsModal,\r\n        }\r\n    });\r\n}\r\n\r\ntoggleCancellationRefundModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            cancellationRefundModal: !prevState.cancellationRefundModal,\r\n        }\r\n    });\r\n}\r\n\r\n\r\nhandleOnlineClickScroll = () => {\r\n    \r\n    if(this.calendarRef.current){\r\n        this.calendarRef.current.scrollIntoView({ \r\n           behavior: \"smooth\", \r\n           block: \"nearest\"\r\n        })\r\n    }\r\n}\r\n\r\nhandleOfflineClickScroll = () => {\r\n    \r\n    if(this.buttonsRef.current){\r\n        this.buttonsRef.current.scrollIntoView({ \r\n           behavior: \"smooth\", \r\n           block: \"nearest\"\r\n        });\r\n    }\r\n}\r\n\r\nrender() {\r\n    return (\r\n        \r\n        <body className=\"body\">\r\n        <div className=\"wrapper\">\r\n            <div className=\"container-fluid\">\r\n              \r\n                <Navbar dark expand=\"md\" style={{backgroundColor:\"#4be4ac\"}}>\r\n                    <NavbarBrand href={`/${this.state.handleDocId}/`} style={{ color:'#ffffff', fontWeight:'600'}}>Teleconsultancy - Dr. {this.state.doctorName}</NavbarBrand>\r\n                    <NavbarToggler onClick={this.toggleNavbar} />\r\n                    <Collapse isOpen={this.state.isNavbarOpen} navbar>\r\n                    <Nav className=\"mr-auto\" navbar>\r\n                        <NavItem>\r\n                        <NavLink style={{color:'#ffffff'}} href={`/${this.state.handleDocId}/Appointments`}>My Appointments</NavLink>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                        <NavLink style={{color:'#ffffff'}} href={`/${this.state.handleDocId}/Prescriptions`}>My Prescriptions</NavLink>\r\n                        </NavItem>\r\n                        <UncontrolledDropdown nav inNavbar>\r\n                            <DropdownToggle color=\"success\" style={{color:'#ffffff'}} nav caret>\r\n                                Important Info <Badge color=\"danger\">3</Badge>\r\n                            </DropdownToggle>\r\n                            <DropdownMenu className=\"bg-nav\" right>\r\n                                <DropdownItem className=\"bg-nav-option\" style={{color:'#fff'}} onClick={this.togglePrivacyPolicyModal}> \r\n                                    Privacy Policy\r\n                                </DropdownItem>\r\n                                <DropdownItem className=\"bg-nav-option\" style={{color:'#fff'}} onClick={this.toggleTermsModal}>\r\n                                    Terms and Conditions\r\n                                </DropdownItem>\r\n                                <DropdownItem className=\"bg-nav-option\" style={{color:'#fff'}} onClick={this.toggleCancellationRefundModal}>\r\n                                    Refund Policy\r\n                                </DropdownItem>\r\n                            </DropdownMenu>\r\n                        </UncontrolledDropdown>\r\n                        <NavItem>\r\n                            <Link to={{pathname:`/${this.state.handleDocId}/`}}>\r\n                                <NavbarText style={{color:'#ffffff'}} onClick={()=>{localStorage.removeItem('doctorId')}}> Logout </NavbarText>\r\n                            </Link>\r\n                        </NavItem>\r\n                        \r\n                    </Nav>\r\n                    </Collapse>\r\n                </Navbar>\r\n                {\r\n                    (this.state.sessionExpired) ? (\r\n                        <div>\r\n                            <Redirect push\r\n                            to={{\r\n                                pathname: `/${this.state.handleDocId}/`,\r\n                            }} />\r\n                        </div>\r\n                    ) : (<div></div>)\r\n                }  \r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6 col-sm-12 col-xs-12 consultancyMargins\">\r\n                        \r\n                            <div className=\"pro-description cunsultancyMargins\">\r\n                                <div className={`row`} style={{borderBottom: '0.75px solid #d3d3d3', padding : '3rem 3rem 3rem 0rem', cursor: 'pointer'}} onClick={this.toggleAppointmentMode('online')}>\r\n                                    <div style={{position: 'absolute', textAlign: 'center', width:\"100%\", alignSelf:'center'}} className={`${(this.state.appointmentMode==\"offline\") ? \"showButton\" : \"hideButton\"}`}> \r\n                                        <button style={{border: '1.5px solid black'}} className=\"std-button\">\r\n                                            CLICK TO SWITCH TO ONLINE CONSULTANCY\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className={`row ${(this.state.appointmentMode!=\"offline\") ? \"\" : \"blurEffectMode\" }`}>\r\n                                    <div className=\"col-md-3 c-imagebox\">\r\n                                        {/* <img src=\"./../Assets/Images/\" /> */}\r\n                                        <img\r\n                                            src={require('../../Assets/Images/v-consultancy.svg')} \r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"col-md-9\">\r\n                                        <p>\r\n                                        <h4> Online Consultancy </h4>\r\n                                            Using online consultancy, patient can talk with doctor using the video call.\r\n                                            So patient can virtually consult with the doctor.\r\n                                        </p>\r\n                                        <hr/>\r\n                                        <br/>\r\n                                        {\r\n                                        (this.state.doctorFeeData) ? (\r\n                                            <div>\r\n                                            <h5> Consultancy Fee (First Visit) : Rs. {this.state.doctorFeeData[\"firstTime_online\"]}/- </h5>\r\n                                            <h6> Consultancy Fee (Follow-up Visit) : Rs. {this.state.doctorFeeData[\"followup_online\"]}/- </h6>\r\n                                            </div>\r\n                                        ) : (<div></div>)\r\n                                        }\r\n                                        <br/>\r\n                                        <p>\r\n                                            <b>Note:</b>{' '}\r\n                                            For online consultancy you need to take doctor's appointment in available\r\n                                            slots\r\n                                        </p>\r\n                                        \r\n                                    </div>\r\n                                    </div>\r\n                                </div>\r\n                                                \r\n                                \r\n\r\n                                <div className={`row`} style={{borderTop:'0.75px solid #d3d3d3', padding: '3rem 3rem 3rem 0rem', cursor: 'pointer'}} onClick={this.toggleAppointmentMode('offline')}>\r\n                                    <div style={{position: 'absolute', textAlign: 'center', width:\"100%\", alignSelf:'center'}} className={`${(this.state.appointmentMode==\"online\") ? \"showButton\" : \"hideButton\"}`}> \r\n                                        <button style={{border: '1.5px solid black'}} className=\"std-button\">\r\n                                            CLICK TO SWITCH TO OFFLINE CONSULTANCY\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className={`row ${(this.state.appointmentMode!=\"online\") ? \"\" : \"blurEffectMode\" }`}>\r\n                                    <div className=\"col-md-3 c-imagebox\">\r\n                                        <img\r\n                                            src={require('../../Assets/Images/o-consultancy.svg')} \r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"col-md-9\">\r\n                                        <p>\r\n                                        <h4>\r\n                                            Offline Consultancy\r\n                                        </h4>\r\n                                            Using offline consultancy, patient can visit the doctor at his clinic, just how conventional consultations work.\r\n                                            So patient can personally, and physically  consult with the doctor.\r\n                                        </p>\r\n                                        <hr/>\r\n                                        <br/>\r\n                                        {\r\n                                        (this.state.doctorFeeData) ? (\r\n                                            <div>\r\n                                            <h5> Consultancy Fee (First Visit) : Rs. {this.state.doctorFeeData[\"firstTime_offline\"]}/- </h5>\r\n                                            <h6> Consultancy Fee (Follow-up Visit) : Rs. {this.state.doctorFeeData[\"followup_offline\"]}/- </h6>\r\n                                            </div>\r\n                                        ) : (<div></div>)\r\n                                        }\r\n                                        <br/>\r\n                                        <p>\r\n                                            <b>Note:</b>{' '}\r\n                                            For offline consultancy you need to take doctor's appointment in available\r\n                                            slots\r\n                                        </p>\r\n                                        \r\n                                    </div>\r\n                                    </div>\r\n                                   \r\n                                </div>\r\n                                \r\n                                <hr/>\r\n                            </div>\r\n                        \r\n                    </div>\r\n                    {/* {console.log(this.state.appointmentMode)} */}\r\n                    <div className={`col-md-6 col-sm-12 col-xs-12 calenderMargin ${(this.state.appointmentMode) ? \"\" : \"blurEffectCalendar\" }`}>\r\n                        \r\n            \r\n                       <div style={{display: 'flex'}} ref={this.calendarRef}>\r\n                       <div style={{position: 'absolute', textAlign: 'center', width:\"100%\", alignSelf:'center', cursor: 'not-allowed'}} className={`${(this.state.appointmentMode==\"offline\") ? \"showButton\" : \"hideButton\"}`}> \r\n                            <Button color=\"info\" style={{border: '1.5px solid black', cursor: 'not-allowed'}}>\r\n                                CALENDAR NOT REQUIRED FOR OFFLINE CONSULTANCY\r\n                            </Button>\r\n                        </div>\r\n                        <div className={`${(this.state.appointmentMode == \"offline\") ? \"blurEffectCalendar\" : \"\"}`}>\r\n                        <Calendar \r\n                            onChange={this.onCalendarChange}\r\n                            value={this.state.date}\r\n                        />\r\n                        <div style={{textAlign: 'center', margin:'1.5vh 0vh'}}>\r\n                            <button className=\"std-button\" onClick={this.toggleDocSlotsModal}>\r\n                                View Doctor's Slots\r\n                            </button>\r\n                        </div>\r\n                        \r\n                        \r\n                        <div className=\"slot-info\">\r\n                            <div className=\"row\">\r\n                            \r\n                                <div className=\"row\">\r\n                                    <div className=\"slots-margins\">\r\n                                        <span className=\"slots selected-slot\">\r\n                                        </span>\r\n                                        Selected\r\n                                    </div>\r\n                                    <div>\r\n                                        <span className=\"slots booked-slot\">\r\n                                        </span>\r\n                                        Booked\r\n                                    </div>\r\n                                    <div>\r\n                                        <span className=\"slots open-slot\">\r\n                                        </span>\r\n                                        Available\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n                        </div>\r\n                        <div className=\"appointment-box\">\r\n                            <div className={`slot-prensentation ${(this.state.appointmentMode == \"offline\") ? \"blurEffectCalendar\" : \"\"}`}>\r\n                            <div className=\"slots-row\">\r\n                                \r\n                                {\r\n                                    (this.state.isLoading) ? (\r\n                                        <Loader loading={this.state.isLoading} />\r\n                                    ) : (\r\n                                        (this.state.olderDateSelected) ? (<p>Sorry, you must select a date after today, to book an appointment.</p>) : (\r\n                                            (!this.state.daysAvailable.includes(this.state.dayOfDate) && this.state.dayOfDate) ? (\r\n                                                <p>Sorry, you must select a day when the doctor is available, to book an appointment.</p>\r\n                                            ) : (this.state.leaveSelected) ? (<p>Sorry, the doctor is on a leave on this date, select another date to continue.</p>)\r\n                                             : (\r\n                                                ((this.state.todaySelected) ? (\r\n                                                    (this.state.todaySlotArray) ? (\r\n                                                        (this.state.todaySlotArray[this.state.dayOfDate]) ? (\r\n                                                            (this.state.busyArray.length>0) ? (this.state.todaySlotArray[this.state.dayOfDate].map((slot, index) => {\r\n                                                                if(this.state.busyArray.includes(slot))\r\n                                                                {\r\n                                                                    return(\r\n                                                                        <div className=\"slot-present\">\r\n                                                                            <button className=\"booked-slot_time\" style={{cursor: 'default'}}>\r\n                                                                                <span>\r\n                                                                                    {slot.toString()}\r\n                                                                                </span>\r\n                                                                            </button>\r\n                                                                        </div>\r\n                                                                    )\r\n                                                                }\r\n                                                                else{\r\n                                                                    return(\r\n                                                                        <div className=\"slot-present\">\r\n                                                                            <button className={(this.state.slotClicked != slot) ? `open-slot_time` : `selected-slot_time`} onClick={this.changeSlotSelect.bind(this,slot)}>\r\n                                                                                <span>\r\n                                                                                    {slot.toString()}\r\n                                                                                </span>\r\n                                                                            </button>\r\n                                                                        </div>\r\n                                                                    )\r\n                                                                }\r\n                                                            })) : (\r\n                                                               \r\n                                                                (this.state.dateSelected) ? (\r\n                                                                    this.state.todaySlotArray[this.state.dayOfDate].map((slot, index) => {\r\n                                                                       \r\n                                                                        return(\r\n                                                                            <div className=\"slot-present\">\r\n                                                                                <button className={(this.state.slotClicked != slot) ? `open-slot_time` : `selected-slot_time`} onClick={this.changeSlotSelect.bind(this,slot)}>\r\n                                                                                    <span>\r\n                                                                                        {slot.toString()}\r\n                                                                                    </span>\r\n                                                                                </button>\r\n                                                                            </div>\r\n                                                                        )\r\n                                                                       \r\n                                                                    })\r\n                                                                ) : (<div></div>)\r\n                                                            )\r\n                                                        ) : (<div></div>)\r\n                                                        \r\n        \r\n                                                        \r\n                                                    ) : (<div></div>)\r\n                                                ) : (\r\n                                                    (this.state.slotArray) ? (\r\n                                                        (this.state.slotArray[this.state.dayOfDate]) ? (\r\n                                                            (this.state.busyArray.length>0) ? (this.state.slotArray[this.state.dayOfDate].map((slot, index) => {\r\n                                                                if(this.state.busyArray.includes(slot))\r\n                                                                {\r\n                                                                    return(\r\n                                                                        <div className=\"slot-present\">\r\n                                                                            <button className=\"booked-slot_time\" style={{cursor: 'default'}}>\r\n                                                                                <span>\r\n                                                                                    {slot.toString()}\r\n                                                                                </span>\r\n                                                                            </button>\r\n                                                                        </div>\r\n                                                                    )\r\n                                                                }\r\n                                                                else{\r\n                                                                    return(\r\n                                                                        <div className=\"slot-present\">\r\n                                                                            <button className={(this.state.slotClicked != slot) ? `open-slot_time` : `selected-slot_time`} onClick={this.changeSlotSelect.bind(this,slot)}>\r\n                                                                                <span>\r\n                                                                                    {slot.toString()}\r\n                                                                                </span>\r\n                                                                            </button>\r\n                                                                        </div>\r\n                                                                    )\r\n                                                                }\r\n                                                            })) : (\r\n                                                               \r\n                                                                (this.state.dateSelected) ? (\r\n                                                                    this.state.slotArray[this.state.dayOfDate].map((slot, index) => {\r\n                                                                       \r\n                                                                        return(\r\n                                                                            <div className=\"slot-present\">\r\n                                                                                <button className={(this.state.slotClicked != slot) ? `open-slot_time` : `selected-slot_time`} onClick={this.changeSlotSelect.bind(this,slot)}>\r\n                                                                                    <span>\r\n                                                                                        {slot.toString()}\r\n                                                                                    </span>\r\n                                                                                </button>\r\n                                                                            </div>\r\n                                                                        )\r\n                                                                       \r\n                                                                    })\r\n                                                                ) : (<div></div>)\r\n                                                            )\r\n                                                        ) : (<div></div>)\r\n                                                        \r\n        \r\n                                                        \r\n                                                    ) : (<div></div>)\r\n                                                )\r\n                                                \r\n                                                )\r\n                                             )\r\n                                            \r\n                                            \r\n                                        )\r\n                                    )\r\n                                    \r\n                                }\r\n                            \r\n                                \r\n                               \r\n                            </div>\r\n                        </div>\r\n                        {/* {console.log(\"Appointment type is: \"+this.state.appointmentType)} */}\r\n                        <div>\r\n                        {\r\n                                    (this.state.appointmentMode == 'offline') ? (\r\n                                    <div>\r\n                                        <div className=\"chiller_cb pull-left\" style={{marginLeft: 0, marginTop: \"2vh\"}}>\r\n                                            <input id=\"myCheckbox2\" type=\"checkbox\" onChange={this.changeAppointmentType}/>\r\n                                            <label for=\"myCheckbox2\"> Tick if this is a follow-up appointment </label>\r\n                                            <span>\r\n                                                {/* ::before\r\n                                                ::after */}\r\n                                            </span>                                                \r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <button className=\"std-button\" onClick={this.toggleOfflineClick}>\r\n                                                Book Offline Appointment\r\n                                            </button>\r\n                                            \r\n                                        </div>\r\n                                    </div>) : (<div> </div>)\r\n                        }\r\n\r\n                        {\r\n                                    (this.state.appointmentMode == 'online') ? (\r\n                                        (this.state.dateSelected && this.state.slotClicked) ? (\r\n                                            <div>\r\n                                                <div className=\"chiller_cb pull-left\" style={{marginLeft: 0, marginTop: \"2vh\"}}>\r\n                                                    <input id=\"myCheckbox1\" type=\"checkbox\" onChange={this.changeAppointmentType}/>\r\n                                                    <label for=\"myCheckbox1\"> Tick if this is a follow-up appointment </label>\r\n                                                    <span>\r\n                                                        {/* ::before\r\n                                                        ::after */}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <button className=\"std-button\" onClick={this.toggleOnlineClick}>\r\n                                                        Book Online Slots\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div>\r\n                                                <p>Select a valid date and slot from the interactive section above.</p>\r\n                                            </div>\r\n                                        )\r\n                                    ) : (<div> </div>)\r\n                        }\r\n\r\n                       \r\n                        </div>\r\n                        \r\n                        \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <Modal isOpen={this.state.guideModalOpen} toggle={this.toggleGuideModal}>\r\n                    <ModalHeader toggle={this.toggleGuideModal}>Note</ModalHeader>\r\n                    <ModalBody>\r\n                        In this page, you must select one of Online or Offline consultancy sections. To select, click on either, and proceed with booking your slot. Incase you want to change your preference later, you can click on your respective preference to switch to it.\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                    <Button color=\"primary\" onClick={this.toggleGuideModal}>Okay</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n\r\n\r\n                <Modal isOpen={(this.state.payClick && !this.state.slotClicked) && !(this.state.payClick && this.state.payOfflineClick)} toggle={this.toggleErrorModal}>\r\n                    <ModalHeader toggle={this.toggleErrorModal}>Error</ModalHeader>\r\n                    <ModalBody>\r\n                        You must select a valid slot before you proceed with payment.\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                    <Button color=\"primary\" onClick={this.toggleErrorModal}>Okay</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n\r\n                <Modal isOpen={this.state.notFollowupModal} toggle={this.toggleNotFollowupModal}>\r\n                    <ModalHeader toggle={this.toggleNotFollowupModal}>Error</ModalHeader>\r\n                    <ModalBody>\r\n                        <p>Your appointment was not found to be a followup appointment, because of one of the following reasons:</p>\r\n                        <p>1. You do not have any appointments in our records.</p>\r\n                        <p>2. The request exceeded the maximum time limit for followups set by the doctor.</p>\r\n                        <p>3. The  request was set for <b>BEFORE</b> an already existing appointment.</p>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                    <Button color=\"primary\" onClick={this.toggleNotFollowupModal}>Okay</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n\r\n                <Modal isOpen={this.state.payOnlineClick && this.state.slotClicked} toggle={this.toggleOnlineClick}>\r\n                    <ModalHeader toggle={this.toggleOnlineClick}>Online Consultancy Payment</ModalHeader>\r\n                    <ModalBody>\r\n                       \r\n                            {\r\n                                (this.state.doctorFeeData) ? (\r\n                                    <div>\r\n                                        <p>\r\n                                            <b> Patient Name: </b> {this.state.dependentInfo.name}\r\n                                        </p>\r\n                                        <hr/>\r\n                                        <p>\r\n                                            <b> Appointment Mode: </b> Online\r\n                                        </p>\r\n                                        <hr/>\r\n                                        <p>\r\n                                            <b> Appointment Details: </b> {this.state.date.toString().slice(0,15)+\" \"+this.state.slotClicked}\r\n                                        </p>\r\n                                        <hr/>\r\n                                        <p>\r\n                                            <b> Appointment Fees: </b> {\r\n                                                (this.state.appointmentType==\"First Time\") ? (<span> Rs. {this.state.doctorFeeData[\"firstTime_online\"]} /-</span>) : (<span> Rs. {this.state.doctorFeeData[\"followup_online\"]} /- (follow up)</span>)\r\n                                            }\r\n                                        </p>\r\n                                    </div>\r\n                                ) : (<div></div>)\r\n                            }\r\n                            \r\n                        \r\n\r\n                        <div style={{textAlign: 'center', marginTop:'2em'}}>\r\n                            <button className=\"std-button primary\" onClick={this.handlePayButton}>Continue</button>\r\n                        </div>\r\n                    </ModalBody>\r\n                </Modal>\r\n\r\n                <Modal isOpen={this.state.payOfflineClick} toggle={this.toggleOfflineClick}>\r\n                <ModalHeader toggle={this.toggleOfflineClick}>Offline Consultancy Payment</ModalHeader>\r\n                    <ModalBody>\r\n                        \r\n                            {\r\n                                (this.state.doctorFeeData) ? (\r\n                                    <div>\r\n                                        <p>\r\n                                            <b> Patient Name: </b> {this.state.dependentInfo.name}\r\n                                        </p>\r\n                                        <hr/>\r\n                                        <p>\r\n                                            <b> Appointment Mode: </b> Offline\r\n                                        </p>\r\n                                        <hr/>\r\n                                        <p>\r\n                                            <b> Appointment Details: </b> {(new Date()).toString().slice(0,15)+\" \"+moment(new Date()).format('LT')}\r\n                                        </p>\r\n                                        <hr/>\r\n                                        <p>\r\n                                            <b> Appointment Fees: </b> {\r\n                                                (this.state.appointmentType==\"First Time\") ? (<span> Rs. {this.state.doctorFeeData[\"firstTime_offline\"]} /-</span>) : (<span> Rs. {this.state.doctorFeeData[\"followup_offline\"]} /- (follow up)</span>)\r\n                                            }\r\n                                        </p>\r\n                                    </div>\r\n                                ) : (<div></div>)\r\n                            }\r\n                            \r\n                            \r\n                        \r\n                        <div style={{textAlign: 'center', marginTop:'2em'}}>\r\n                            <button className=\"std-button primary\" onClick={this.handlePayButton}>Continue</button>\r\n                        </div>\r\n                    </ModalBody>\r\n                </Modal>\r\n\r\n                <Modal isOpen={this.state.viewDocSlotsModal} toggle={this.toggleDocSlotsModal}>\r\n                <ModalHeader toggle={this.toggleDocSlotsModal}>Doctor's operational timings</ModalHeader>\r\n                    <ModalBody>\r\n                        <div>\r\n                            <p>\r\n                                <b> The doctor operates on the following days: </b>\r\n                            </p>\r\n                            <hr/>\r\n\r\n                            <p>\r\n                                {\r\n                                    (this.state.dObjArray) ? (\r\n                                        this.state.dObjArray.map((obj, index) => {\r\n                                            return(\r\n                                                <div>\r\n                                                    <span><b>{Object.keys(obj)[0]}:</b>&emsp;</span>\r\n                                                        {\r\n                                                            // console.log(obj[Object.keys(obj)[0]]),\r\n                                                            (obj[Object.keys(obj)[0]]) ? (\r\n                                                                // console.log(\"entered hotzone\"),\r\n                                                                obj[Object.keys(obj)[0]].map((o,i) => {\r\n                                                                    return(\r\n                                                                        <span>\r\n                                                                            <span>{o.openTime}</span>\r\n                                                                            <span>&nbsp;to&nbsp;</span>\r\n                                                                            <span>{o.closeTime}</span>\r\n                                                                            <span>&nbsp;&nbsp;</span>\r\n                                                                        </span>\r\n                                                                    )\r\n                                                                })\r\n                                                            ) : (<div></div>)\r\n                                                        }\r\n                                                    <hr/>\r\n                                                </div>\r\n                                                \r\n                                            )\r\n                                        })\r\n                                    ) : (<div></div>)\r\n                                    \r\n                                }\r\n                                \r\n                            </p>\r\n                        </div>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <Button color=\"primary\" onClick={this.toggleDocSlotsModal}>Okay</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n\r\n                <Modal isOpen={this.state.privacyPolicyModal} toggle={this.togglePrivacyPolicyModal}>\r\n                            <ModalHeader toggle={this.togglePrivacyPolicyModal}>Privacy Statement</ModalHeader>\r\n                            <ModalBody>\r\n                            <p>\r\n                            <b>SECTION 1 - WHAT DO WE DO WITH YOUR INFORMATION?</b>\r\n                            <p> When you purchase our services, as part of the purchasing process, we collect the personal information you give us such as your name, address and email address. When you browse our store, we also automatically receive your computers internet protocol (IP) address in order to provide us with information that helps us learn about your browser and operating system. Email marketing (if applicable): With your permission, we may send you emails about our store, new products and other updates. </p>\r\n                            \r\n                            <br/>\r\n                            <b>SECTION 2 - CONSENT</b>\r\n                            <p>How do you get my consent? When you provide us with personal information to complete a transaction, verify your credit card, place an order, we imply that you consent to our collecting it and using it for that specific reason only. If we ask for your personal information for a secondary reason, like marketing, we will either ask you directly for your expressed consent, or provide you with an opportunity to say no.</p>\r\n                            \r\n                            <br/>\r\n                            <b>How do I withdraw my consent?</b>\r\n                            <p>If after you opt-in, you change your mind, you may withdraw your consent for us to contact you, for the continued collection, use or disclosure of your information, at anytime, by contacting us at sanjayathavale@mobilesurta.com or mailing us at: B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038</p>\r\n\r\n                            <br/>\r\n                            <b>SECTION 3 - DISCLOSURE</b>\r\n                            <p>We may disclose your personal information if we are required by law to do so or if you violate our Terms of Service.</p>\r\n\r\n                            <br/>\r\n                            <b>SECTION 4 - PAYMENT</b>\r\n                            <p>We use Razorpay for processing payments. We/Razorpay do not store your card data on their servers. The data is encrypted through the Payment Card Industry Data Security Standard (PCI-DSS) when processing payment. Your purchase transaction data is only used as long as is necessary to complete your purchase transaction. After that is complete, your purchase transaction information is not saved.</p>\r\n\r\n                            <br/>\r\n                            <b>SECTION 4 - PAYMENT</b>\r\n                            <p>We use Razorpay for processing payments. We/Razorpay do not store your card data on their servers. The data is encrypted through the Payment Card Industry Data Security Standard (PCI-DSS) when processing payment. Your purchase transaction data is only used as long as is necessary to complete your purchase transaction. After that is complete, your purchase transaction information is not saved. Our payment gateway adheres to the standards set by PCI-DSS as managed by the PCI Security Standards Council, which is a joint effort of brands like Visa, MasterCard, American Express and Discover. PCI-DSS requirements help ensure the secure handling of credit card information by our store and its service providers. For more insight, you may also want to read terms and conditions of razorpay on https://razorpay.com/.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 5 - THIRD-PARTY SERVICES</b>\r\n                            <p>In general, the third-party providers used by us will only collect, use and disclose your information to the extent necessary to allow them to perform the services they provide to us. However, certain third-party service providers, such as payment gateways and other payment transaction processors, have their own privacy policies in respect to the information we are required to provide to them for your purchase-related transactions. For these providers, we recommend that you read their privacy policies so you can understand the manner in which your personal information will be handled by these providers. In particular, remember that certain providers may be located in or have facilities that are located a different jurisdiction than either you or us. So if you elect to proceed with a transaction that involves the services of a third-party service provider, then your information may become subject to the laws of the jurisdiction(s) in which that service provider or its facilities are located. Once you leave our stores website or are redirected to a third-party website or application, you are no longer governed by this Privacy Policy or our websites Terms of Service. When you click on links on our store, they may direct you away from our site. We are not responsible for the privacy practices of other sites and encourage you to read their privacy statements.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 6 - SECURITY</b>\r\n                            <p>To protect your personal information, we take reasonable precautions and follow industry best practices to make sure it is not inappropriately lost, misused, accessed, disclosed, altered or destroyed.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 7 - COOKIES</b>\r\n                            <p>We use cookies to maintain session of your user. It is not used to personally identify you on other websites.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 8 - AGE OF CONSENT</b>\r\n                            <p>By using this site, you represent that you are at least the age of majority in your state or province of residence, or that you are the age of majority in your state or province of residence and you have given us your consent to allow any of your minor dependents to use this site.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 9 - CHANGES TO THIS PRIVACY POLICY</b>\r\n                            <p>We reserve the right to modify this privacy policy at any time, so please review it frequently. Changes and clarifications will take effect immediately upon their posting on the website. If we make material changes to this policy, we will notify you here that it has been updated, so that you are aware of what information we collect, how we use it, and under what circumstances, if any, we use and/or disclose it. If our store is acquired or merged with another company, your information may be transferred to the new owners so that we may continue to sell our services to you.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>QUESTIONS AND CONTACT INFORMATION</b>\r\n                            <p>If you would like to: access, correct, amend or delete any personal information we have about you, register a complaint, or simply want more information contact our Privacy Compliance Officer at sanjayathavale@mobilesutra.com or by mail at B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038</p>\r\n                            <p>Sanjay Athavale</p>\r\n                            <p>B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038</p>\r\n                            \r\n                            </p>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                            <Button color=\"primary\" onClick={this.togglePrivacyPolicyModal}>Okay</Button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n\r\n                        <Modal isOpen={this.state.termsModal} toggle={this.toggleTermsModal}>\r\n                            <ModalHeader toggle={this.toggleTermsModal}>Teleconsultancy Conditions</ModalHeader>\r\n                            <ModalBody>\r\n                            <p>I hereby agree and hence give consent that my personal health information may be shared for referral purposes as well as for Medical Insurance purposes. (reimbursement or cashless). It is understood and agreed that the medical information will not be shared with dispensing chemists or drug manufacturers, apart from working diagnosis and prescription part. I also hereby consent to use my clinical information for data collection, research, scientific publication, advertising and surveys without disclosing my identity in any manner and without breach of confidentiality. I have understood the implications of such partial or full disclosure of my information to other agencies, which is required in my own interest. While sharing the information to next caregiver or referral, the doctors have laid down the same standards of confidentiality, but in case of any breach by them, we will not hold any doctor liable in any manner. *ln case of children or insane person, consent provided by the patient's parent/guardian user. </p>\r\n                            <p><b>Please Note:</b></p>\r\n                            <p>\r\n                            Online/phone consultation is not a substitute for physical/in-person consultation. Your doctors response may be delayed and is dependant on their availability. Please visit your hospital or nearest medical centre if you need immediate or urgent help. \r\n                            </p>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                            <Button color=\"primary\" onClick={this.toggleTermsModal}>Okay</Button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n                        \r\n                        <Modal isOpen={this.state.cancellationRefundModal} toggle={this.toggleCancellationRefundModal}>\r\n                            <ModalHeader toggle={this.toggleCancellationRefundModal}>Cancellation Policy</ModalHeader>\r\n                            <ModalBody>\r\n                            <p>Currently, we do not provide a functionality to cancel booked appointments, but do provide a functionality to re-schedule these appointments, until before 1 day before the date of appointment, in the case of Online Appointments.</p>\r\n                            <p>Hence, there would be strictly no refunds, in regards to the transactions undertaken in the appointment booking process.</p>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                            <Button color=\"primary\" onClick={this.toggleCancellationRefundModal}>Okay</Button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n\r\n                {\r\n                    (this.state.allowedToRedirect) ? (\r\n                        <Redirect push\r\n                            to={{\r\n                                pathname: `/${this.state.handleDocId}/ConsultancyForm`,\r\n                            }} />\r\n                    ) : (<div></div>)\r\n                }\r\n                <div ref={this.buttonsRef}>\r\n                            \r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        </body>\r\n    );\r\n}\r\n}\r\n\r\nexport default Consultancy;","import React, { useCallback } from 'react'\r\nimport 'react-dropzone-uploader/dist/styles.css'\r\nimport Dropzone from 'react-dropzone-uploader'\r\nimport firebase from '../../Services/firebase';\r\n\r\nfunction FileDropzone(props) {\r\n    const getUploadParams = async ({ meta }) => {\r\n        \r\n        const url = 'https://httpbin.org/post'\r\n        return { url }\r\n    }\r\n\r\n    const handleChangeStatus = ({ meta }, status) => {\r\n        console.log(status, meta);\r\n    }   \r\n\r\n    const uploadingProcess = (allFiles) => {\r\n        props.viewIsUploading(5);\r\n        \r\n        \r\n        Promise.allSettled(allFiles.map((f, index) =>{\r\n\r\n            var uploadTask = firebase.storage().ref().child(`/imagesTemp/${props.keyString}/${f.file.name}`).put(f.file,f.meta)\r\n            .then(\r\n                (snapshot) => {\r\n                    console.log(index);\r\n                    snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n                    console.log('File available at', downloadURL);\r\n                    props.changeUrlValue(downloadURL);\r\n                    \r\n                    props.viewIsUploading(2);\r\n\r\n                    if(f.file.type.substring(0,5)==\"image\"){\r\n                        // props.changeUrlValue();\r\n                        return props.changeImageArray();\r\n                    }\r\n                    \r\n                    if(f.file.type.substring(0,5)==\"video\"){\r\n                        // props.changeUrlValue()\r\n                        return props.changeVideoArray();\r\n                    }\r\n                    \r\n                    });\r\n                 \r\n                }\r\n            ).then(\r\n                (snapshot) => {\r\n                    console.log(allFiles.length);\r\n                    console.log(\"entered here in then\");\r\n                    if(index == allFiles.length-1){\r\n                        props.changeIsUploading();\r\n                        props.toggleOpenUploadingModal();\r\n                    }\r\n                 }\r\n            ) \r\n        })\r\n        )\r\n        \r\n        \r\n        return changeValues(allFiles);\r\n    }\r\n\r\n    const handleSubmit = async (files, allFiles) => {\r\n        props.viewIsUploading(0);\r\n        props.changeIsUploading();\r\n        props.viewIsUploading(1);\r\n        \r\n        uploadingProcess(allFiles);\r\n    }\r\n\r\n    const changeValues = (allFiles) => {\r\n\r\n        allFiles.forEach(f => f.remove())\r\n        \r\n        props.viewIsUploading(4);\r\n    }\r\n\r\n    return (\r\n        <Dropzone\r\n            getUploadParams={getUploadParams}\r\n            onChangeStatus={handleChangeStatus}\r\n            onSubmit={handleSubmit}\r\n            accept=\"image/*,video/*\"\r\n            submitButtonContent={'Upload'}\r\n            inputContent={(files, extra) => (extra.reject ? 'Image or video files only' : 'Upload images/videos by click or drop')}\r\n            styles={{\r\n                dropzoneReject: { borderColor: 'red', backgroundColor: '#DAA' },\r\n                inputLabel: (files, extra) => (extra.reject ? { color: 'red' } : {}),\r\n                previewImage: {width: 150, height: 150, maxWidth:200, maxHeight:200},\r\n            }}\r\n        />\r\n    )\r\n\r\n}\r\n\r\nexport default FileDropzone;","import React, { Component } from 'react';\r\nimport Lottie from 'react-lottie';\r\n\r\n\r\n\r\nimport loadinganimation from '../Lottie/check-animation.gif';\r\n\r\n\r\nimport { Modal, Input, ModalBody, ModalHeader, ModalFooter, Button,Form, FormGroup, Label, FormText, Spinner } from 'reactstrap';\r\n\r\n\r\nconst Uploaded = props => {\r\n  const {\r\n    loading,\r\n    ...attributes\r\n  } = props;\r\n\r\n \r\n\r\n\r\n\r\n  return (\r\n    <Modal isOpen={props.loading}>\r\n        <ModalBody>\r\n            <div style={{textAlign:'center'}}>\r\n                <img src={loadinganimation} height={200} width={200} />\r\n                <p style={{fontWeight:'heavy', fontSize:20, fontFamily: 'Roboto'}}> Finished uploading! </p>\r\n            </div>\r\n                \r\n            {/* <Spinner type=\"grow\" color=\"primary\" />\r\n            <Spinner type=\"grow\" color=\"secondary\" />\r\n            <Spinner type=\"grow\" color=\"success\" />\r\n            <Spinner type=\"grow\" color=\"danger\" />\r\n            <Spinner type=\"grow\" color=\"warning\" />\r\n            <Spinner type=\"grow\" color=\"info\" /> */}\r\n            <ModalFooter>\r\n        <       Button color=\"primary\" onClick={props.toggleHasUploaded}>Okay</Button>\r\n            </ModalFooter>\r\n        </ModalBody>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default Uploaded;","import React, { Component } from 'react';\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport { Modal, Input, ModalBody, ModalHeader, ModalFooter, Button,Form, FormGroup, Label, FormText,\r\n    Collapse,\r\n    Navbar,\r\n    NavbarBrand,\r\n    NavbarToggler,\r\n    Nav,\r\n    NavItem,\r\n    NavLink,\r\n    NavbarText } from 'reactstrap';\r\n\r\nimport firebase from '../../Services/firebase';\r\nimport FileDropzone from '../../Assets/Dropzone/Dropzone';\r\nimport moment from \"moment\";\r\nimport Razorpay from 'razorpay';\r\nimport Carousel from 'react-multi-carousel';\r\nimport \"react-multi-carousel/lib/styles.css\";\r\n\r\nimport { Spinner } from 'reactstrap';\r\nimport Loader from '../../Assets/Loader/Loader';\r\nimport Uploaded from '../../Assets/Loader/Uploaded';\r\nimport ImageGallery from 'react-image-gallery';\r\n\r\nconst responsive = {\r\n    superLargeDesktop: {\r\n      // the naming can be any, depends on you.\r\n      breakpoint: { max: 4000, min: 3000 },\r\n      items: 5\r\n    },\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 3\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 2\r\n    }\r\n  };\r\n\r\nclass ConsultancyForm extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        console.log(props.location.state);\r\n        this.state = {\r\n            isLoading : false,\r\n            dataNotFilled : false,\r\n            dataNotFilledModal : false,\r\n            finalAnswersArray: [],\r\n            urlValue : '',\r\n            imagesArray : [],\r\n            videosArray : [],\r\n            diagnosisFormMedia: [],\r\n            isUploading: false,\r\n            hasUploaded: false,\r\n            animationSeen: false,\r\n            handleDocId : this.props.match.params.handle,\r\n            imageGalleryModal : false,\r\n            mediaItems : [],\r\n            sessionExpired: false,\r\n        };\r\n\r\n        // console.log(this.state.appointmentType);\r\n        // console.log(this.state.appointmentMode);\r\n    }\r\n\r\n    componentDidMount = async() => {\r\n        \r\n        this.setState({isLoading: true});\r\n        await this.setValuesFromLocalStorage();\r\n        this.fetchDoctorData(); \r\n        await this.getValueFromSessionStorage();       \r\n    }\r\n\r\n    componentDidUpdate = async() => {\r\n        await this.getValueFromSessionStorage();\r\n    }\r\n    \r\n    \r\n    getValueFromSessionStorage = async() => {\r\n        const sT = sessionStorage.getItem('loginTimestamp');\r\n        console.log(sT);\r\n        console.log(\"i check for session expiry\");\r\n        if(!sT){\r\n            await this.setState({ sessionExpired: true})\r\n            localStorage.removeItem('doctorId');\r\n        }\r\n        else{\r\n            let dateNowMoment = moment(new Date());\r\n            let timestampMoment = moment(parseInt(sT));\r\n            let addedMoment = timestampMoment.add(30, 'm');\r\n            console.log(dateNowMoment);\r\n            console.log(timestampMoment);\r\n            console.log(addedMoment);\r\n            if(addedMoment.isBefore(dateNowMoment)){\r\n                await this.setState({ sessionExpired: true});\r\n                localStorage.removeItem('doctorId');\r\n            }\r\n            else{\r\n                sessionStorage.setItem('sessionTimestamp', dateNowMoment);\r\n            }\r\n        }\r\n    }\r\n\r\n    setValuesFromLocalStorage = () => {\r\n        const dI = localStorage.getItem('doctorId');\r\n        const udn = localStorage.getItem('userDependentName');\r\n        const udi = localStorage.getItem('userDependentId');\r\n        const udr = localStorage.getItem('userDependentRelation');\r\n        const udg = localStorage.getItem('userDependentGender');\r\n        const uI = localStorage.getItem('userId');\r\n        const sS = localStorage.getItem('slotSelected');\r\n        const dS = localStorage.getItem('dateSelected');\r\n        const aM = localStorage.getItem('appointmentMode');\r\n        const aT = localStorage.getItem('appointmentType');\r\n        const lA1 = localStorage.getItem('lastAppointment');\r\n        const dpan = localStorage.getItem('doctorPaymentAlternativeOnline');\r\n        const dpaf = localStorage.getItem('doctorPaymentAlternativeOffline');\r\n        console.log(lA1);\r\n        let lA = \"\";\r\n        if(lA1!=\"undefined\"){\r\n            lA = JSON.parse(lA1);\r\n        }\r\n\r\n        this.setState({doctorId : dI});\r\n        this.setState({userId: uI});\r\n        this.setState({ dependentInfo: {\r\n            name : udn,\r\n            id: udi,\r\n            relation: udr,\r\n            gender: udg,\r\n        }});\r\n\r\n        console.log(udn);\r\n        console.log(udi);\r\n        console.log(udr);\r\n\r\n\r\n\r\n        this.setState({slotSelected : sS});\r\n        this.setState({dateSelected : new Date(dS)});\r\n        this.setState({appointmentMode : aM.substring(0,1).toUpperCase()+aM.substring(1)});\r\n        this.setState({appointmentType : aT});\r\n        this.setState({lastAppointment : lA });\r\n        this.setState({doctorPaymentAlternativeOnline : dpan});\r\n        this.setState({doctorPaymentAlternativeOffline : dpaf});\r\n\r\n    }\r\n\r\n    fetchDoctorData = async() => {\r\n        let dbref = firebase.database().ref(`doctors/${this.state.doctorId}`);\r\n        console.log(this.state.lastAppointment);\r\n        // console.log(this.state.dateSelected.toLocaleDateString(\"en-GB\"));\r\n\r\n        \r\n\r\n    \r\n\r\n        dbref.once(\"value\").then((snap) => {\r\n            let data = snap.val();\r\n            let quesArray = [];\r\n            let typeArray = [];\r\n            let ansArray = [];\r\n            console.log(data);\r\n            this.setState({doctorData : data});\r\n            this.setState({doctorName: data[\"name\"]});\r\n            for(var i=0;i<Object.keys(data[\"diagnosisFormData\"]).length;i++){\r\n                let tempArray = [];\r\n                quesArray.push(data[\"diagnosisFormData\"][i+1][\"ques\"]);\r\n                typeArray.push(data[\"diagnosisFormData\"][i+1][\"type\"]);\r\n\r\n                if(data[\"diagnosisFormData\"][i+1][\"type\"]==\"text\"){\r\n                    tempArray.push(0);\r\n                }\r\n                else{\r\n                    for(var j=0;j<data[\"diagnosisFormData\"][i+1][\"options\"].length-1;j++){\r\n                        tempArray.push(data[\"diagnosisFormData\"][i+1][\"options\"][j+1]);\r\n                    }\r\n                }\r\n                \r\n                ansArray.push(tempArray);\r\n            }\r\n            // console.log(quesArray);\r\n            // console.log(ansArray);\r\n            this.setState({ diagnosisFormMedia: data[\"diagnosisFormMedia\"]});\r\n            this.setState({ diagnosisFormQuestionData: quesArray});\r\n            this.setState({ diagnosisFormTypeData: typeArray});\r\n            this.setState({ diagnosisFormAnswerData : ansArray});\r\n\r\n            if(this.state.appointmentType == \"Follow up\"){\r\n                let previousFormData = [];\r\n                let previousFormObj = [];\r\n                console.log(typeof(this.state.lastAppointment));\r\n                let previousAppointmentDate = this.state.lastAppointment[\"date\"];\r\n                let previousAppointmentTime = this.state.lastAppointment[\"timeBegin\"];\r\n                console.log(this.state.lastAppointment[\"diagnosisForm\"][\"form\"]);\r\n                if(this.state.lastAppointment[\"diagnosisForm\"][\"form\"])\r\n                {\r\n                    previousFormObj = previousFormData.concat(this.state.lastAppointment[\"diagnosisForm\"][\"form\"]);\r\n                    previousFormData = this.state.lastAppointment[\"diagnosisForm\"][\"form\"];\r\n                    let previousAppointmentAddInfo = this.state.lastAppointment[\"diagnosisForm\"][\"additionalInfo\"];\r\n                    if(this.state.lastAppointment[\"media\"]){\r\n                        let previousAppointmentMediaObj = this.state.lastAppointment[\"media\"][\"images\"];\r\n                        let previousAppointmentMedia = [];\r\n                        for(let i=0;i<Object.keys(previousAppointmentMediaObj).length;i++){\r\n                            previousAppointmentMedia[i] = previousAppointmentMediaObj[i];\r\n                        }\r\n                        this.setState({previousAppointmentMedia});\r\n                    }\r\n                    previousFormData.shift();\r\n                    this.setState({previousAppointmentAddInfo})\r\n                    this.setState({previousFormData});\r\n                    this.setState({previousFormObj});\r\n                }\r\n                this.setState({ previousAppointmentDate});\r\n                this.setState({ previousAppointmentTime});\r\n            }\r\n\r\n            \r\n\r\n            let dateSelect = this.state.dateSelected;\r\n            console.log(dateSelect);\r\n            var options = {year: '2-digit', month: '2-digit', day: '2-digit' };\r\n            let formatDate = dateSelect.toLocaleDateString(\"en-GB\", options);\r\n            let formatDate1 = formatDate.replace(/\\//g,\"\");\r\n            let formatDate2 = formatDate.replace(/\\//g,\".\");\r\n\r\n            let formatTime = this.state.slotSelected.replace(/\\s/g, \"\");\r\n\r\n            ///////////////////////////\r\n\r\n            const dateNow = new Date();\r\n\r\n            let formatNowDate = dateNow.toLocaleDateString(\"en-GB\", options);\r\n            let formatNowDate1 = formatNowDate.replace(/\\//g,\"\");\r\n            let formatNowDate2 = formatNowDate.replace(/\\//g,\".\");\r\n\r\n            // let formatNowTime = dateNow.toLocaleTimeString('en-US');\r\n            // let formatNowTime1 = formatNowTime.replace(/\\s/g ,\"\");\r\n\r\n            let formatNowTime = dateNow.toLocaleTimeString('en-US');\r\n            let momNowTime = moment(dateNow);\r\n            let momNowTimeFormat = momNowTime.format('LT');\r\n            let formatNowTime1 = momNowTimeFormat.replace(/\\s/g ,\"\");\r\n            let formatNowTime2 = momNowTimeFormat.replace(/\\s/g ,\".\");\r\n            console.log(formatNowDate2+\" \"+formatNowTime1);\r\n            \r\n            let keyStr = \"APPMT-\"+this.state.userId+\"-\"+this.state.doctorId+\"-\"+formatDate1+\"-\"+formatTime+\"-d\"+this.state.dependentInfo.id;\r\n            \r\n            let paymentStr = \"PYMT-\"+this.state.userId+\"-\"+this.state.doctorId+\"-\"+formatNowDate1+\"-\"+formatNowTime1;\r\n\r\n            console.log(paymentStr);\r\n\r\n            this.setState({ paymentStr });\r\n            this.setState({ keyString: keyStr });\r\n\r\n        }).then(this.setState({isLoading: false}));\r\n    }\r\n\r\n    handleAnswerChange = (key) => (event) => {\r\n        // console.log(this.state.userName);\r\n        let ans = event.target.value;\r\n        this.setState({ [key]: ans});\r\n        console.log(key);\r\n        console.log(ans);\r\n\r\n        if(key.substring(0,4)==\"Answ\"){\r\n            let str = `${key.substring(4)}${ans}`;\r\n            let index = parseInt(`${key.substring(4)}`);\r\n            let finalAnswersArray = this.state.finalAnswersArray;\r\n            \r\n            finalAnswersArray[index-1] = str;\r\n            this.setState({ finalAnswersArray });\r\n        }\r\n        if(key.substring(0,4)==\"Resp\"){\r\n            let str = `${key.substring(4)}${ans}`;\r\n            let index = parseInt(`${key.substring(4)}`);\r\n            let finalAnswersArray = this.state.finalAnswersArray;\r\n\r\n            finalAnswersArray[index-1] = str;\r\n            this.setState({ finalAnswersArray });\r\n        }\r\n    }\r\n\r\n    handleFollowUpClick = async() => {\r\n        if(!(this.state.additionalInfo)){\r\n            //.log('entered');\r\n            await this.setState({ dataNotFilled : true });\r\n            await this.setState({ dataNotFilledModal : true });\r\n        }\r\n        else{\r\n            await this.setState({ dataNotFilled : false });\r\n        }\r\n        if(!this.state.dataNotFilled){\r\n            let updates = {};\r\n\r\n            let dateSelect = this.state.dateSelected;\r\n            var options = {year: '2-digit', month: '2-digit', day: '2-digit' };\r\n            let formatDate = dateSelect.toLocaleDateString(\"en-GB\", options);\r\n            let formatDate1 = formatDate.replace(/\\//g,\"\");\r\n            let formatDate2 = formatDate.replace(/\\//g,\".\");\r\n\r\n            let formatTime = this.state.slotSelected.replace(/\\s/g, \"\");\r\n\r\n            ///////////////////////////\r\n\r\n            const dateNow = new Date();\r\n\r\n            let formatNowDate = dateNow.toLocaleDateString(\"en-GB\", options);\r\n            let formatNowDate1 = formatNowDate.replace(/\\//g,\"\");\r\n            let formatNowDate2 = formatNowDate.replace(/\\//g,\".\");\r\n\r\n            let formatNowTime = dateNow.toLocaleTimeString('en-US');\r\n            let momNowTime = moment(dateNow);\r\n            let momNowTimeFormat = momNowTime.format('LT');\r\n            let formatNowTime1 = momNowTimeFormat.replace(/\\s/g ,\"\");\r\n            let formatNowTime2 = momNowTimeFormat.replace(/\\s/g ,\" \");\r\n\r\n            ///////////////////////////\r\n\r\n            console.log(\"entered follow up submit click\");\r\n\r\n            let keyStr = \"APPMT-\"+this.state.userId+\"-\"+this.state.doctorId+\"-\"+formatDate1+\"-\"+formatTime+\"-d\"+this.state.dependentInfo.id;\r\n            \r\n            console.log(this.state.previousFormObj);\r\n            console.log(this.state.previousAppointmentMedia);\r\n            console.log(moment(new Date()).format('DD.MM.YY h:m A'));\r\n            let bigFormObj = {\r\n                \"form\" : this.state.previousFormObj,\r\n                \"additionalInfo\" : this.state.previousAppointmentAddInfo+\"\\n\"+this.state.additionalInfo+\" (as of \"+moment(new Date()).format('DD.MM.YY hh:mm A')+\")\",\r\n            };\r\n            \r\n            let mediaObj = {};\r\n            if(this.state.previousAppointmentMedia){\r\n                mediaObj = {\r\n                    \"images\" : [...this.state.previousAppointmentMedia, this.state.imagesArray],\r\n                    \"video\" : this.state.videosArray\r\n                }\r\n            }else{\r\n                mediaObj = {\r\n                    \"images\" : this.state.imagesArray,\r\n                    \"video\" : this.state.videosArray\r\n                }\r\n            }\r\n\r\n            updates[`appointments/${this.state.keyString}/diagnosisForm`] = bigFormObj;\r\n            updates[`appointments/${this.state.keyString}/media`] = mediaObj;\r\n            await firebase.database().ref().update(updates);\r\n\r\n            console.log(\"even finished uploads\");\r\n\r\n            this.setState({hasUploaded: true});\r\n        }\r\n    }\r\n\r\n    handleSubmitClick = async() => {\r\n\r\n        let flag = true;\r\n        for(let i=0;i<this.state.diagnosisFormQuestionData.length;i++){\r\n            console.log(i+\" \"+this.state.finalAnswersArray[i]);\r\n            if(this.state.finalAnswersArray[i] == undefined){\r\n                this.state.finalAnswersArray[i] = false;\r\n            }\r\n            flag = flag && this.state.finalAnswersArray[i];\r\n            console.log(flag);\r\n        }\r\n        if(!(flag && this.state.additionalInfo)){\r\n            //.log('entered');\r\n            await this.setState({ dataNotFilled : true });\r\n            await this.setState({ dataNotFilledModal : true });\r\n        }\r\n        else{\r\n            await this.setState({ dataNotFilled : false });\r\n        }\r\n\r\n        console.log(this.state.dataNotFilled);\r\n        if(!this.state.dataNotFilled){\r\n\r\n            console.log(\"must not enter before everything filled\");\r\n            let updates = {};\r\n            let dateSelect = this.state.dateSelected;\r\n            var options = {year: '2-digit', month: '2-digit', day: '2-digit' };\r\n            let formatDate = dateSelect.toLocaleDateString(\"en-GB\", options);\r\n            let formatDate1 = formatDate.replace(/\\//g,\"\");\r\n            let formatDate2 = formatDate.replace(/\\//g,\".\");\r\n\r\n            let formatTime = this.state.slotSelected.replace(/\\s/g, \"\");\r\n\r\n            ///////////////////////////\r\n\r\n            const dateNow = new Date();\r\n\r\n            let formatNowDate = dateNow.toLocaleDateString(\"en-GB\", options);\r\n            let formatNowDate1 = formatNowDate.replace(/\\//g,\"\");\r\n            let formatNowDate2 = formatNowDate.replace(/\\//g,\".\");\r\n\r\n            let formatNowTime = dateNow.toLocaleTimeString('en-US');\r\n            let momNowTime = moment(dateNow);\r\n            let momNowTimeFormat = momNowTime.format('LT');\r\n            let formatNowTime1 = momNowTimeFormat.replace(/\\s/g ,\"\");\r\n            let formatNowTime2 = momNowTimeFormat.replace(/\\s/g ,\" \");\r\n\r\n            ///////////////////////////\r\n\r\n            console.log(\"entered submit click\");\r\n\r\n            let keyStr = \"APPMT-\"+this.state.userId+\"-\"+this.state.doctorId+\"-\"+formatDate1+\"-\"+formatTime+\"-d\"+this.state.dependentInfo.id;\r\n            \r\n            let formObj = {};\r\n            // console.log(this.state.diagnosisFormQuestionData);\r\n            if(this.state.diagnosisFormQuestionData){\r\n                for(var i=0;i<this.state.diagnosisFormQuestionData.length;i++){\r\n                    let answer = [];\r\n                    formObj[i+1] = {};\r\n                    // console.log(\"entered\");\r\n                    for(var j=0;j<this.state.finalAnswersArray.length;j++){\r\n                        // console.log(this.state.finalAnswersArray[j].substring(0,1)+\" \"+(i+1).toString());\r\n                        console.log(this.state.finalAnswersArray);\r\n                        if(this.state.finalAnswersArray[j].substring(0,1) == (i+1).toString()){\r\n                            console.log(j+this.state.finalAnswersArray[j]);\r\n                            answer.push(this.state.finalAnswersArray[j].substring(1));\r\n                        }\r\n                    }\r\n                    formObj[i+1][\"ques\"] = this.state.diagnosisFormQuestionData[i];\r\n                    formObj[i+1][\"ans\"] = answer[0];\r\n                }\r\n            }\r\n\r\n            let bigFormObj = {\r\n                \"form\" : formObj,\r\n                \"additionalInfo\" : this.state.additionalInfo+\" (as of \"+moment(new Date()).format('DD.MM.YY hh:mm A')+\")\",\r\n            };\r\n            \r\n            let mediaObj = {\r\n                \"images\" : this.state.imagesArray,\r\n                \"video\" : this.state.videosArray\r\n            }\r\n\r\n            updates[`appointments/${this.state.keyString}/diagnosisForm`] = bigFormObj;\r\n            updates[`appointments/${this.state.keyString}/media`] = mediaObj;\r\n            await firebase.database().ref().update(updates);\r\n\r\n            console.log(\"even finished uploads\");\r\n\r\n            this.setState({hasUploaded: true});\r\n        }\r\n    }\r\n\r\n    changeImageArray = () => {\r\n        this.setState((prevState) => {\r\n            const imagesArray = [...prevState.imagesArray, prevState.urlValue];\r\n            const mediaItems = [...prevState.mediaItems, { \"original\" : prevState.urlValue, \"thumbnail\" : prevState.urlValue}]\r\n            return{\r\n                imagesArray,\r\n                mediaItems\r\n            };\r\n        });\r\n    }\r\n\r\n\r\n    changeVideoArray = () => {\r\n        this.setState((prevState) => {\r\n            const videosArray = [...prevState.videosArray, prevState.urlValue];\r\n            return{\r\n                videosArray\r\n            };\r\n        });\r\n    }\r\n\r\n    changeUrlValue = (url) => {\r\n        this.setState({ urlValue: url });\r\n    }\r\n\r\n    changeIsUploading = () => {\r\n        this.setState(prevState=>{\r\n            return{\r\n                ...prevState,\r\n                isUploading: !prevState.isUploading,\r\n            }\r\n        });\r\n    }\r\n\r\n    viewIsUploading = (num) => {\r\n        console.log(this.state.isUploading+\" \"+num);\r\n    }\r\n\r\n    toggleHasUploaded = () => {\r\n        this.setState(prevState=>{\r\n            return{\r\n                ...prevState,\r\n                hasUploaded: !prevState.hasUploaded,\r\n            }\r\n        });\r\n        this.setState({animationSeen: true});\r\n    }\r\n\r\n    handleCarouselClick = () => {\r\n        console.log(\"carousel clicked\");\r\n        this.toggleImageGalleryModal();\r\n    }\r\n\r\n    toggleImageGalleryModal = () => {\r\n        this.setState(prevState=>{\r\n            return{\r\n                ...prevState,\r\n                imageGalleryModal: !prevState.imageGalleryModal,\r\n            }\r\n        });\r\n    }\r\n    \r\n    toggleErrorModal = () => {\r\n        this.setState(prevState=>{\r\n            return{\r\n                ...prevState,\r\n                dataNotFilledModal: !prevState.dataNotFilledModal,\r\n            }\r\n        });\r\n    }\r\n\r\n    toggleMediaErrorModal = () => {\r\n        this.setState(prevState=>{\r\n            return{\r\n                ...prevState,\r\n                mediaNotUploaded: !prevState.mediaNotUploaded,\r\n            }\r\n        });\r\n    }\r\n\r\n    toggleOpenUploadingModal = () => {\r\n        this.setState(prevState=>{\r\n            return{\r\n                ...prevState,\r\n                openUploadingModal: !prevState.openUploadingModal,\r\n            }\r\n        });\r\n    }\r\n\r\n    toggleNavbar = () => {\r\n        this.setState(prevState=>{\r\n          return{\r\n              ...prevState,\r\n              isNavbarOpen: !prevState.isNavbarOpen,\r\n          }\r\n        });\r\n    }\r\n\r\n\r\n    \r\n    render(){\r\n        return(\r\n        <body className=\"body\">\r\n        <div className=\"wrapper\">\r\n            <div className=\"container-fluid\">\r\n                <Navbar dark expand=\"md\" style={{backgroundColor:\"#4be4ac\"}}> \r\n                    <NavbarBrand href={`/${this.state.handleDocId}/`} style={{ color:'#ffffff', fontWeight:'600'}}>Teleconsultancy - Dr. {this.state.doctorName}</NavbarBrand>\r\n                    <NavbarToggler onClick={this.toggleNavbar} />\r\n                    <Collapse isOpen={this.state.isNavbarOpen} navbar>\r\n                    <Nav className=\"mr-auto\" navbar>\r\n                        <NavItem>\r\n                        <NavLink style={{color:'#ffffff'}} href={`/${this.state.handleDocId}/Appointments`}>My Appointments</NavLink>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                        <NavLink style={{color:'#ffffff'}} href={`/${this.state.handleDocId}/Prescriptions`}>My Prescriptions</NavLink>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                            <Link to={{pathname:`/${this.state.handleDocId}/`}}>\r\n                                <NavbarText style={{color:'#ffffff'}} onClick={()=>{localStorage.removeItem('doctorId')}}> Logout </NavbarText>\r\n                            </Link>\r\n                        </NavItem>\r\n                    </Nav>\r\n                    </Collapse>\r\n                </Navbar>\r\n                {\r\n                    (this.state.sessionExpired) ? (\r\n                        <div>\r\n                            <Redirect push\r\n                            to={{\r\n                                pathname: `/${this.state.handleDocId}/`,\r\n                            }} />\r\n                        </div>\r\n                    ) : (<div></div>)\r\n                }  \r\n                <div className=\"row\">\r\n\r\n                    <div class=\"col-md-12 col-sm-12 col-xs-12 Consultancy-box\">\r\n                        \r\n                        {\r\n                            (this.state.appointmentType==\"First Time\") ? (\r\n                                <h2>{this.state.appointmentMode} Consultancy</h2>\r\n                            ) : (<h2>{this.state.appointmentType} {this.state.appointmentMode} Consultancy</h2>)\r\n                        }\r\n\r\n\r\n                        <div class=\"consultancy-section\">\r\n                            <div className=\"row\">\r\n                                <div class=\"col-md-6 col-sm-12 col-xs-12\">\r\n                                    <div class=\"question-box\">\r\n                                    {\r\n                                        \r\n                                        <div>\r\n                                            {\r\n                                                (this.state.dependentInfo) ? (\r\n                                                        (this.state.appointmentType == \"Follow up\") ? (\r\n                                                            <h4>Hello {this.state.dependentInfo.name+\"! \"}Your previous answers are</h4>\r\n                                                        ) : (\r\n                                                            <h4>Hello {this.state.dependentInfo.name+\"! \"}Answer the general questions</h4>\r\n                                                        )\r\n                                                ) : (\r\n                                                    <div> </div>\r\n                                                )\r\n                                                \r\n                                            }\r\n\r\n                                            {\r\n                                                (this.state.appointmentType == \"Follow up\") ? (\r\n                                                    (this.state.diagnosisFormQuestionData) ? (\r\n                                                        this.state.diagnosisFormQuestionData.map((obj, index) => {\r\n        \r\n                                                               return(\r\n                                                                   <div class=\"question-set\">\r\n                                                                       <p>{obj}</p>\r\n                                                                       {\r\n                                                                           (this.state.previousFormData) ? (\r\n                                                                            //    this.state.diagnosisFormAnswerData[index].map((ans, ind) => {\r\n                                                                            //        return(\r\n                                                                            //        <div class=\"chiller_cb\">\r\n                                                                            //            <input id={`myCheckbox${index}${ind}`} type=\"radio\" name={`Resp${index+1}`} value={ans} onChange={this.handleAnswerChange(`Resp${index+1}`)}/>\r\n                                                                            //            <label for={`myCheckbox${index}${ind}`}>{ans}</label>\r\n                                                                            //            <span></span >\r\n                                                                            //        </div>\r\n                                                                            //        );\r\n                                                                            //    })\r\n                                                                            (this.state.previousFormData[index]) ? (\r\n                                                                                <p style={{fontWeight: 'bold', fontSize: 18}}><span style={{fontWeight: 'bolder'}}>Ans:</span> {this.state.previousFormData[index][\"ans\"]}</p>\r\n                                                                            ) : (<div></div>)\r\n                                                                           \r\n                                                                           ) : (<div style={{width: '100%', textAlign:'center', marginTop:'5vh'}}><Spinner style={{width:\"2rem\", height:\"2rem\"}} color=\"dark\" /></div>)\r\n                                                                       }\r\n                                                                   </div>\r\n                                                               )\r\n                                                           })\r\n                                                   ) : (<div style={{width: '100%', textAlign:'center', marginTop:'5vh'}}><Spinner style={{width:\"2rem\", height:\"2rem\"}} color=\"dark\" /></div>)\r\n                                                ) : (\r\n                                                    (this.state.diagnosisFormQuestionData) ? (\r\n                                                        this.state.diagnosisFormQuestionData.map((obj, index) => {\r\n        \r\n                                                               return(\r\n                                                                   <div class=\"question-set\">\r\n                                                                       <p>{obj}{\" \"}<sup style={{color:'red'}}>(required)</sup></p>\r\n                                                                       {\r\n                                                                           (this.state.diagnosisFormTypeData) ? (\r\n                                                                               (this.state.diagnosisFormTypeData[index] == \"text\") ? (\r\n                                                                                    <div>\r\n                                                                                        <textarea id={`myText${index}`} type=\"text\" name={`Answ${index+1}`} placeholder=\"Enter your response\" onChange={this.handleAnswerChange(`Answ${index+1}`)}></textarea>\r\n                                                                                    </div>\r\n                                                                               ) :(\r\n                                                                                (this.state.diagnosisFormAnswerData) ? (\r\n                                                                                    this.state.diagnosisFormAnswerData[index].map((ans, ind) => {\r\n                                                                                        return(\r\n                                                                                        <div class=\"chiller_cb\">\r\n                                                                                            <input id={`myCheckbox${index}${ind}`} type=\"radio\" name={`Resp${index+1}`} value={ans} onChange={this.handleAnswerChange(`Resp${index+1}`)}/>\r\n                                                                                            <label for={`myCheckbox${index}${ind}`}>{ans}</label>\r\n                                                                                            <span></span>\r\n                                                                                        </div>\r\n                                                                                        );\r\n                                                                                    })\r\n                                                                                ) : (<div style={{width: '100%', textAlign:'center', marginTop:'5vh'}}><Spinner style={{width:\"2rem\", height:\"2rem\"}} color=\"dark\" /></div>)\r\n                                                                               )\r\n                                                                            \r\n                                                                           ) : (<div style={{width: '100%', textAlign:'center', marginTop:'5vh'}}><Spinner style={{width:\"2rem\", height:\"2rem\"}} color=\"dark\" /></div>)\r\n                                                                           \r\n                                                                       }\r\n                                                                   </div>\r\n                                                               )\r\n                                                           })\r\n                                                   ) : (<div style={{width: '100%', textAlign:'center', marginTop:'5vh'}}><Spinner style={{width:\"2rem\", height:\"2rem\"}} color=\"dark\" /></div>)\r\n                                                )\r\n                                                \r\n                                            }\r\n                                        </div>\r\n                                    }\r\n                                    \r\n\r\n                                </div>\r\n\r\n                                </div>\r\n                                {\r\n                                     (this.state.isLoading || !this.state.diagnosisFormQuestionData || this.state.isUploading) ? \r\n                                     (<Loader loading={this.state.isLoading || this.state.isUploading || !this.state.diagnosisFormQuestionData} />) \r\n                                     : (<div></div>)\r\n                                }\r\n\r\n                                <div class=\"col-md-6 col-sm-12 col-xs-12\">\r\n                                    <div class=\"offlin-collection\">\r\n                                        <h4>Upload photos/videos </h4><br/>\r\n                                        <p>Upload some images of your infected eyes or take a video. Please see the demo video wich shows how to take pictures to send the doctor.</p>\r\n\r\n                                        <div class=\"demo-videobox\">\r\n                                            <iframe width=\"100%\" height=\"315\" src={this.state.diagnosisFormMedia.videoUrl} frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n                                        </div>\r\n                                        \r\n                                        \r\n                                       \r\n                                       \r\n\r\n                                       {\r\n                                           (this.state.appointmentType == 'Follow up') ? (\r\n                                               <div onClick={this.handleCarouselClick}>\r\n                                                    <Carousel responsive={responsive}>\r\n                                                        {\r\n                                                            (this.state.previousAppointmentMedia) ? (\r\n                                                                this.state.previousAppointmentMedia.map((imgUrl)=> {\r\n                                                                    return(\r\n                                                                        <div>\r\n                                                                            <img src={`${imgUrl}`}  width='125' height='100'/>\r\n                                                                        </div>\r\n                                                                    )\r\n                                                                })\r\n                                                            ) : (\r\n                                                                <div></div>\r\n                                                            )\r\n                                                        }\r\n                                                    </Carousel>\r\n                                                </div>\r\n                                           ) : (\r\n                                                <div>\r\n                                                    <Button color=\"success\" onClick={this.toggleOpenUploadingModal}> Upload Photos</Button>\r\n                                                    <br/><br/>\r\n                                                    <Carousel responsive={responsive} onClick={this.handleCarouselClick}>\r\n                                                    {\r\n                                                        (this.state.imagesArray) ? (\r\n                                                            this.state.imagesArray.map((imgUrl)=> {\r\n                                                                return(\r\n                                                                    <div>\r\n                                                                        <img src={`${imgUrl}`} width='125' height='100'/>\r\n                                                                    </div>\r\n                                                                )\r\n                                                            })\r\n                                                        ) : (\r\n                                                            <div></div>\r\n                                                        )\r\n                                                    }\r\n                                                    </Carousel>\r\n                                                </div>\r\n                                           )\r\n                                       }\r\n\r\n                                        <br/>\r\n                                        {\r\n                                            (this.state.appointmentType == 'Follow up') ? (\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-md-12\">\r\n                                                        <div class=\"form-group\">\r\n                                                            <label>Additional Information <sup style={{color:'red'}}>(required)</sup></label>\r\n                                                            <p style={{fontWeight: 'bold', fontSize: 18}}><span style={{fontWeight: 'bolder'}}>Ans:</span> {this.state.previousAppointmentAddInfo}</p>\r\n                                                            <textarea placeholder=\"Enter some symptoms, notes about the ailment.\" onChange={this.handleAnswerChange('additionalInfo')}></textarea>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            ) : (\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"col-md-12\">\r\n                                                        <div class=\"form-group\">\r\n                                                            <label>Additional Information <sup style={{color:'red'}}>(required)</sup></label>\r\n                                                            <textarea placeholder=\"Enter some symptoms, notes about the ailment.\" onChange={this.handleAnswerChange('additionalInfo')}></textarea>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>  \r\n    \r\n                                            )\r\n                                        }\r\n                                       \r\n                                        {/* {console.log(this.state.urlValue)}\r\n                                        {console.log(this.state.imagesArray)} */}\r\n\r\n                                        <div style={{width: '100%', textAlign:'center', marginTop:'3vmin'}}>\r\n                                            {\r\n                                                (this.state.appointmentType == \"Follow up\") ? (\r\n                                                    <button className=\"std-button primary\" onClick={this.handleFollowUpClick}>\r\n                                                    Submit\r\n                                                </button>\r\n                                                ) : (\r\n                                                    <button className=\"std-button primary\" onClick={this.handleSubmitClick}>\r\n                                                    Submit\r\n                                                </button>\r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    (this.state.hasUploaded) ? (<Uploaded toggleHasUploaded={this.toggleHasUploaded} loading={this.state.hasUploaded} />) : (<div> </div>)\r\n                }\r\n                \r\n                <Modal isOpen={this.state.dataNotFilledModal} toggle={this.toggleErrorModal}>\r\n                    <ModalHeader toggle={this.toggleErrorModal}>Error</ModalHeader>\r\n                    <ModalBody>\r\n                        Please fill out all required details in the form before submitting.\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                    <Button color=\"primary\" onClick={this.toggleErrorModal}>Okay</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n\r\n                <Modal isOpen={this.state.openUploadingModal}>\r\n                    <ModalHeader toggle={this.toggleOpenUploadingModal}>Upload Media</ModalHeader>\r\n                    <ModalBody>\r\n                        <FileDropzone \r\n                            keyString={this.state.keyString} \r\n                            changeImageArray={this.changeImageArray} \r\n                            changeVideoArray={this.changeVideoArray} \r\n                            changeUrlValue={this.changeUrlValue} \r\n                            changeIsUploading={this.changeIsUploading} \r\n                            viewIsUploading={this.viewIsUploading}\r\n                            toggleOpenUploadingModal={this.toggleOpenUploadingModal}\r\n                        />\r\n                    </ModalBody>\r\n                </Modal>\r\n\r\n                <Modal isOpen={this.state.mediaNotUploaded} toggle={this.toggleMediaErrorModal}>\r\n                    <ModalHeader toggle={this.toggleMediaErrorModal}>Error</ModalHeader>\r\n                    <ModalBody>\r\n                        Please finish uploading your files to the server before submitting.\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                    <Button color=\"primary\" onClick={this.toggleMediaErrorModal}>Okay</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n\r\n                <Modal isOpen={this.state.imageGalleryModal} toggle={this.toggleImageGalleryModal}>\r\n                    <div style={{width:'100%', height: '100%'}}>\r\n                        <ImageGallery items={this.state.mediaItems} />\r\n                    </div>\r\n                </Modal>\r\n                {\r\n                    (this.state.animationSeen) ? (<Redirect push to={{\r\n                        pathname : `/${this.state.handleDocId}/Thankyou`,\r\n                    }} />) : (<div></div>)\r\n                }\r\n            </div>\r\n        </div>\r\n        </body>\r\n    )\r\n    }\r\n\r\n}\r\n\r\nexport default ConsultancyForm;","import React, { Component } from 'react';\r\nimport firebase from '../../Services/firebase';\r\nimport { Modal, Input, ModalBody, ModalHeader, ModalFooter, Button,Form, FormGroup, Label, FormText,\r\n    Collapse,\r\n    Navbar,\r\n    NavbarBrand,\r\n    NavbarToggler,\r\n    Nav,\r\n    NavItem,\r\n    NavLink,\r\nNavbarText } from 'reactstrap';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\n\r\nimport loadinganimation from '../../Assets/Lottie/staysafe.gif';\r\n\r\n\r\n\r\nclass ThankYou extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        // console.log(props.location.state.userNotFound);\r\n\r\n        this.state = {\r\n            handleDocId : this.props.match.params.handle,\r\n            sessionExpired: false,\r\n        }\r\n    }\r\n\r\n    toggleNavbar = () => {\r\n        this.setState(prevState=>{\r\n          return{\r\n              ...prevState,\r\n              isNavbarOpen: !prevState.isNavbarOpen,\r\n          }\r\n        });\r\n    }\r\n\r\n    componentDidMount = async() => {\r\n        let dbDoctors = firebase.database().ref(`doctors/${this.state.doctorId}/name`);\r\n\r\n        await dbDoctors.once(\"value\", (snap) =>{\r\n            // console.log(snap.val());\r\n            this.setState({ doctorName : snap.val()});\r\n        });\r\n        await this.getValueFromSessionStorage();\r\n    }\r\n\r\n    componentDidUpdate = async() => {\r\n        await this.getValueFromSessionStorage();\r\n    }\r\n    \r\n    \r\n    getValueFromSessionStorage = async() => {\r\n        const sT = sessionStorage.getItem('loginTimestamp');\r\n        console.log(sT);\r\n        console.log(\"i check for session expiry\");\r\n        if(!sT){\r\n            await this.setState({ sessionExpired: true})\r\n            localStorage.removeItem('doctorId');\r\n        }\r\n        else{\r\n            let dateNowMoment = moment(new Date());\r\n            let timestampMoment = moment(parseInt(sT));\r\n            let addedMoment = timestampMoment.add(30, 'm');\r\n            console.log(dateNowMoment);\r\n            console.log(timestampMoment);\r\n            console.log(addedMoment);\r\n            if(addedMoment.isBefore(dateNowMoment)){\r\n                await this.setState({ sessionExpired: true});\r\n                localStorage.removeItem('doctorId');\r\n            }\r\n            else{\r\n                sessionStorage.setItem('sessionTimestamp', dateNowMoment);\r\n            }\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        \r\n        return (\r\n            <body className=\"body\">\r\n                <div className=\"wrapper\">\r\n                    <Navbar dark expand=\"md\" style={{backgroundColor:\"#4be4ac\"}}>\r\n                        <NavbarBrand href={`/${this.state.handleDocId}/`} style={{ color:'#ffffff', fontWeight:'600'}}>Teleconsultancy - Dr. {this.state.doctorName}</NavbarBrand>\r\n                        <NavbarToggler onClick={this.toggleNavbar} />\r\n                        <Collapse isOpen={this.state.isNavbarOpen} navbar>\r\n                        <Nav className=\"mr-auto\" navbar>\r\n                            <NavItem>\r\n                            <NavLink style={{color:'#ffffff'}} href={`/${this.state.handleDocId}/Appointments`}>My Appointments</NavLink>\r\n                            </NavItem>\r\n                            <NavItem>\r\n                            <NavLink style={{color:'#ffffff'}} href={`/${this.state.handleDocId}/Prescriptions`}>My Prescriptions</NavLink>\r\n                            </NavItem>\r\n                            <NavItem>\r\n                                <Link to={{pathname:`/${this.state.handleDocId}/`}}>\r\n                                    <NavbarText style={{color:'#ffffff'}} onClick={()=>{localStorage.removeItem('doctorId')}}> Logout </NavbarText>\r\n                                </Link>\r\n                            </NavItem>\r\n                        </Nav>\r\n                        </Collapse>\r\n                    </Navbar>\r\n                    {\r\n                        (this.state.sessionExpired) ? (\r\n                            <div>\r\n                                <Redirect push\r\n                                to={{\r\n                                    pathname: `/${this.state.handleDocId}/`,\r\n                                }} />\r\n                            </div>\r\n                        ) : (<div></div>)\r\n                    } \r\n                    \r\n                    <div className=\"row\">\r\n                        <div style={{flexDirection : 'column', textAlign: 'center', justifyContent:'center', width:'100%'}}> \r\n                            <img src={loadinganimation} height={250} width={250}/>\r\n                            <p>Thank you for using our website. Proceed to the home section by clicking below.</p>\r\n                            <Link to={`/${this.state.handleDocId}/`}>\r\n                                <button className=\"std-button\">Back to Home</button>\r\n                            </Link>\r\n                        </div>\r\n    \r\n                    </div>\r\n                    \r\n    \r\n                </div> \r\n                \r\n            </body>\r\n        );\r\n    \r\n    }\r\n    }\r\n    \r\n    export default ThankYou;","import React, { Component } from 'react';\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport { Modal, Input, ModalBody, ModalHeader, ModalFooter, Button,Form, FormGroup, Label, FormText,\r\n    Collapse,\r\n    Navbar,\r\n    NavbarBrand,\r\n    NavbarToggler,\r\n    Nav,\r\n    NavItem,\r\n    NavLink,\r\n    NavbarText,\r\n    UncontrolledDropdown, \r\n    DropdownToggle,\r\n    DropdownMenu,\r\n    DropdownItem,\r\n    Badge } from 'reactstrap';\r\n\r\nimport { Table, Thead, Tbody, Tr, Th, Td } from 'react-super-responsive-table'\r\nimport 'react-super-responsive-table/dist/SuperResponsiveTableStyle.css'\r\n\r\nimport firebase from '../../Services/firebase';\r\nimport moment from 'moment';\r\n\r\nimport Loader from '../../Assets/Loader/Loader';\r\n\r\nimport { Document, Page } from 'react-pdf';\r\nimport { pdfjs } from 'react-pdf';\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;     \r\n\r\nclass Prescription extends Component {\r\nconstructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        doctorId: this.props.match.params.handle, \r\n        prescription: [],\r\n        isFetching: false,\r\n        paymentModalOpen : false,\r\n        pdfPaymentOpenModal: false,\r\n        pdfNonPaymentOpenModal: false,\r\n        preDetailsData:[],\r\n        prescriptionList:[],\r\n        prescriptionTrue:[],\r\n        prescriptionFalse:[],\r\n        prescriptionListTrue:[],\r\n        prescriptionListFalse:[],\r\n        appointmentData : {},\r\n        numPages : null,\r\n        pageNumber : 1,\r\n        sessionExpired: false,\r\n        emptyData: false,\r\n        privacyPolicyModal : false,\r\n        termsModal : false,\r\n        cancellationRefundModal: false,\r\n        receiptOpenModal: false,\r\n     };\r\n}\r\n\r\ncomponentDidMount = async() => {\r\n    this.setState({ isFetching: true});\r\n\r\n    const script = document.createElement(\"script\");\r\n\r\n    script.src = \"https://checkout.razorpay.com/v1/checkout.js\";\r\n    script.async = true;\r\n\r\n    document.body.appendChild(script);\r\n\r\n    await this.setValuesFromLocalStorage();\r\n    await this.getValueFromSessionStorage();\r\n\r\n    let dbDoctors = firebase.database().ref(`doctors/${this.state.doctorId}/name`);\r\n\r\n    await dbDoctors.once(\"value\", (snap) =>{\r\n        // console.log(snap.val());\r\n        this.setState({ doctorName : snap.val()});\r\n    });\r\n\r\n//    let dbrefPrescription = firebase.database().ref(`/prescriptions/PRSCTN-8529469097-9767427053-150520-030000-d00`);\r\n    let dbrefPrescription = firebase.database().ref(`prescriptions`);\r\n    dbrefPrescription.orderByChild(\"patientId\").equalTo(this.state.userId).on(\"value\", async(snap) => {\r\n        //working--\r\n        console.log(snap.val());\r\n        if(snap.val()!=null){\r\n            console.log(snap.val());\r\n            this.setState({ prescription : [] });\r\n            snap.forEach(snap => {\r\n                if(snap.val().doctorId == this.state.doctorId){\r\n                    this.state.prescription.push(snap.val())   \r\n                }\r\n                console.log(this.state.prescription);\r\n            })\r\n            this.setState({\r\n                prescriptionList: this.state.prescription\r\n            })\r\n            \r\n            await this.setState({ emptyData: false});\r\n        }\r\n        else{\r\n            console.log(\"entered alterer\");\r\n            await this.setState({ emptyData: true});\r\n        }\r\n        \r\n        //--working\r\n        \r\n        \r\n        \r\n    console.log(\"prescription\",this.state.prescription);\r\n    console.log(\"prescriptionList\",this.state.prescriptionList);\r\n  });\r\n\r\n    let dbRefAppoint = firebase.database().ref(`appointments`);\r\n    await dbRefAppoint.orderByChild(\"patientId\").equalTo(this.state.userId).on(\"value\", async(s) => {\r\n        let data = s.val();    \r\n        console.log(data);\r\n        if(data){\r\n            let disKeys = Object.keys(data);\r\n            let appointmentObj = {};\r\n            for(let i=0;i<disKeys.length;i++){\r\n                if(data[disKeys[i]][\"doctorId\"] == this.state.doctorId){\r\n                    appointmentObj[disKeys[i]] = data[disKeys[i]];\r\n                }\r\n            }\r\n            console.log(appointmentObj);\r\n            await this.setState({ appointmentObj });\r\n            await this.setState({ emptyData: false});\r\n            await this.setState({ isFetching: false });\r\n        }\r\n        else{\r\n            await this.setState({ emptyData: true});\r\n            await this.setState({ isFetching: false });\r\n        }\r\n        \r\n    });\r\n\r\n\r\n\r\n}\r\n\r\ncomponentDidUpdate = async() => {\r\n    await this.getValueFromSessionStorage();\r\n}\r\n\r\n\r\ngetValueFromSessionStorage = async() => {\r\n    const sT = sessionStorage.getItem('loginTimestamp');\r\n    // console.log(sT);\r\n    // console.log(\"i check for session expiry\");\r\n    if(!sT){\r\n        await this.setState({ sessionExpired: true})\r\n        localStorage.removeItem('doctorId');\r\n    }\r\n    else{\r\n        let dateNowMoment = moment(new Date());\r\n        let timestampMoment = moment(parseInt(sT));\r\n        let addedMoment = timestampMoment.add(30, 'm');\r\n        // console.log(dateNowMoment);\r\n        // console.log(timestampMoment);\r\n        // console.log(addedMoment);\r\n        if(addedMoment.isBefore(dateNowMoment)){\r\n            await this.setState({ sessionExpired: true});\r\n            localStorage.removeItem('doctorId');\r\n        }\r\n        else{\r\n            sessionStorage.setItem('sessionTimestamp', dateNowMoment);\r\n        }\r\n    }\r\n}\r\n\r\nsetValuesFromLocalStorage = () => {\r\n    const uI = localStorage.getItem('userId');\r\n    const udn = localStorage.getItem('userDependentName');\r\n    const udi = localStorage.getItem('userDependentId');\r\n    const udr = localStorage.getItem('userDependentRelation');\r\n    const dpan = localStorage.getItem('doctorPaymentAlternativeOnline');\r\n    const dpaf = localStorage.getItem('doctorPaymentAlternativeOffline');\r\n\r\n    this.setState({userId: uI});\r\n    this.setState({ dependentInfo: {\r\n        name : udn,\r\n        id: udi,\r\n        relation: udr,\r\n    }});\r\n\r\n    this.setState({doctorPaymentAlternativeOnline : dpan});\r\n    this.setState({doctorPaymentAlternativeOffline : dpaf});\r\n    return;\r\n}\r\n\r\nfetchAppointmentDetails = async(aId) => {\r\n    this.setState({ isFetching : true });\r\n    let dbref= firebase.database().ref(`appointments/${aId}`);\r\n    await dbref.once(\"value\", (snap) => {\r\n        let data= snap.val();\r\n        console.log(data);\r\n        this.setState({ appointmentData : data });\r\n        this.setState({ isFetching: false });\r\n        this.togglePaymentModal();\r\n    });\r\n}\r\n\r\nfetchReceiptDetails = async(aId, pObj) => {\r\n    this.setState({ isFetching : true });\r\n    let dbref= firebase.database().ref(`appointments/${aId}`);\r\n    await dbref.once(\"value\", (snap) => {\r\n        let data= snap.val();\r\n        console.log(data);\r\n        this.setState({ appointmentData : data });\r\n        if(pObj.reciepturl){\r\n            this.setState({ receiptUrl: pObj.reciepturl });\r\n        }\r\n        this.setState({ hasPaid : data.hasPaid })\r\n        this.setState({ isFetching: false });\r\n        if(data.hasPaid){\r\n            this.toggleReceiptOpenModal();\r\n        }\r\n    });\r\n}\r\n\r\nfetchAppointmentDetails2 = async(aId, pObj) => {\r\n    this.setState({ isFetching : true });\r\n    let dbref= firebase.database().ref(`appointments/${aId}`);\r\n    await dbref.once(\"value\", (snap) => {\r\n        let data= snap.val();\r\n        console.log(data);\r\n        this.setState({ appointmentData : data });\r\n        if(pObj.reciepturl){\r\n            this.setState({ receiptUrl: pObj.reciepturl });\r\n        }\r\n        this.setState({ pdfLink : pObj.printableFile });\r\n        this.setState({ hasPaid : data.hasPaid })\r\n        this.setState({ isFetching: false });\r\n        if(data.hasPaid){\r\n            this.togglePdfNonPaymentOpenModal();\r\n        }\r\n        else{\r\n            this.togglePdfPaymentOpenModal();\r\n        }\r\n    });\r\n}\r\n\r\n\r\nhandlePaymentClick = async() => {\r\n    const dateNow = new Date();\r\n\r\n    var options = {year: '2-digit', month: '2-digit', day: '2-digit' };\r\n\r\n    ////////////////////////////////////////\r\n\r\n    let formatNowDate = dateNow.toLocaleDateString(\"en-GB\", options);\r\n    let formatNowDate1 = formatNowDate.replace(/\\//g,\"\");\r\n    let formatNowDate2 = formatNowDate.replace(/\\//g,\".\");\r\n\r\n    let formatNowTime = dateNow.toLocaleTimeString('en-US');\r\n    let momNowTime = moment(dateNow);\r\n    let momNowTimeFormat = momNowTime.format('LT');\r\n    let formatNowTime1 = momNowTimeFormat.replace(/\\s/g ,\"\");\r\n    let formatNowTime2 = momNowTimeFormat.replace(/\\s/g ,\" \");\r\n\r\n    let paymentStr = \"PYMT-\"+this.state.userId+\"-\"+this.state.doctorId+\"-\"+formatNowDate1+\"-\"+formatNowTime1;\r\n    let prescriptionStr = \"PRSCTN-\"+this.state.appointmentData[\"id\"].substring(6);\r\n\r\n    let appmtStr = this.state.appointmentData[\"id\"];\r\n\r\n    var updates = {};\r\n\r\n    var options = {\r\n        \"key\": \"rzp_live_GyQtumhJW1szIn\", // Enter the Key ID generated from the Dashboard\r\n        \"amount\": parseInt(this.state.appointmentData[\"fee\"])*100, // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise\r\n        \"currency\": \"INR\",\r\n        \"name\": this.state.doctorName,\r\n        \"description\": \"Payment for Prescription\",\r\n        \"image\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAADaCAMAAABqzqVhAAABaFBMVEX///9NTU1zc3NWVlb6+vptbW1ISEhwcHD//v9QUFBDQ0OTk5PIyMj///37//9TU1Pg4OBeXl6rq6tZWVm+vr709PTQ0NB6enq3t7fs7OxAQEDu7u7ugEpkZGT0fUXwyrD0ez70ejaioqLZ2dmGhobnoHiOjo6bm5uAgID++e2SkpL84tGwsLDz//////jjjVvqg0L7eEfmiFf26NLoeEz/9vDqez3puJc1NTX//ez/8eHqjGn///Prh1T22sX0dj33377z06/uvJDutYv8r3L5oFfhlE/owJzwoGzxjULcpW/0hC/ffSrasYrj2tLs07rgk1TVwaL0tnrhwIjpp3Tr3MPlsnv9uIr8oWz4m0jmdwvooV+Ha1Xj4sNpdX3scyPbe1SHe2HuwKz5llXchj3hy7mnc1TrsZCjf2v/6N3hvZrdiW98dGmQgnZ6VEN5Tj5VVGLvooXnvK3mqYTsmHj00Mv9czbgeF6j/5u5AAAXZklEQVR4nO1di3/a2JXWBekiCb0ACRAgHuIhsEEQY+MYG5NkZprJtFl3u8l0djvbTD0z9Wam223qTPrv772SEOLlSFjYTqsv+QVbSIo+nXPP/c7VvUcEESFChAgRIkSIECFChAgRIkSIECFChAgRIvyrgSze9xXcDZKPpfu+hDtBG9Tv+xLuBG3wr2HP3Iwneb/XsWvEGJunTKmI6ydKVvH+onLpblZZ3oUSVeuzXZC4RiyXzN7RpYUJOTOPMYoRLxQKrMYt7aPFrY5F0TKtAkylWLb96XU0+ULL+iRjaSLHUt0s14JwiWgmY5lYEkWoS4pSb7OJFZs/dBQzGcs4JKt1C0nr8mUAFmnEU7Ptzg1osfqdXmQYaLGy9UmJ8ZwTYpJs3rsHKWoWzz04Y6fGNWdXrvWpWDYLbXo6A2bxpc62vXuQjMWKpKA62xSDdgslNaASnwZIyu4dszAzMw0JMt49FEBhnqpIuZtyDj2ObaSpFKWrn0DXmrYbW5HV3GtNQK8AUqBFkGMNd0vK2ZcSmQIQYQEuOPrDhMqkrIvWRNcFdSh7diiyCWtjwd1Yhw37kwU51C2RcqbwCRBtsFYY3YNu/59l9zzfq4Uc/sjNjdwtdK3PHHD2k+KFh9+lcrZ15ILbWSgs5fleKuCwVEzN/brFWuJCmrt6mk3fwZUGRHFvQQgodtCUYM7dlGI8YVR6jHnWC43ZBlKLWyGrNW+WdXZ+8EOBEissdvMGi92QzKTcvlDPeHiSXWw9pesKRAlYpNSCG6HRTVroih4EuvPAaaPOWG7ahi4T8sbe3/FwA85vVxc+MIWktOWGttzZxQqYYfqxz6DJMThiFRno3g1SKzywVFyBGa21vDEPcdwspv1qG4tfmk26G7hZ267r7bbxIPI2GYIVnioDg+sZ2dOGbYcgii1QgOhv+yGIwT2orbS+rrFuz49gfmuy0FISRQpqslrMNtjUAyCqaKGrtEbB6qjabMO+g/kC9QD0bh3Ew73ddUbDHxzrsjPuUQcWs1mHXpqNhXpmww7Ujfk4hALD/R/8ox4rIGh2KMyFOx4gpe1EYK4z0M/347hpFrTT6TawCaoZGH7sJ+OeRnlPPPMsZStvzc5NOKiFn19ocxl4T36rAifQ1zNOp2c8Dj+/MObt08ndifrdjh7pzlhXFqQceab41j7+IblOUod2zl4vJG86IHTk7LFLDqZ2kw0LPI8/0nbrILm400M3WPmmw0KHZil3GVKIZnYHI5GIp4A/dQhyhhGD0G4UErOSMewWMWzPPJvDDFsw/MyCFwTLoEQWRXQW5JxgvjQOvHvoKMp22TamORt0DhXCcCzQ9o9qvT5r+Wo8dceD2BJMGGzD8iGjEHJCbAqEIFw86SHP5Re/0e/+6YTOAjvypdmwFTbf+/Hp8Nmz4bMhLSx8UcyId5+1NKCWl9RsLvyMiRc6zz77/ItfPT9Z4tktbJPs3RZpgPWt47xhgud7wy+/f/GC79GmdzupMfcylFLMtxrpsP5nnqdnjZHmO1/98Otf/+blCbFgT5l1hi1ISTZ2/FQt29C0xi5Ga0zT5cnz/3Yx/O2r4cV4IQ6RFDInqXJ6TkRutFPTkkkWxDOQbYQeDuiOhyf6VXh20TNnfagNlCno7ThbgHGqla/v9KFEko1li0WOYsV82DH238du0KFpJIaGHRppIi/PHABQpFrd7M5jbtYWBgSZZthcSBO6eJomBJoef/UEGQ+pIHsjL2DZt0CTSDfSWfVOVF/DFXhSm2X0UCIB8s3O+IR4/bunPf5IdYjRYZx5ayiZhHs7yXwmnHxTEMzhV//x/LPfv/rs89++9s2QVIs7M63CNDy/qXooEY+nCf7J17//3ZffvPjVU1Pwx1NKaplMIr2brqVeTGzzpI4XaH5lG2qUONzQGKgtvv7i82++Hzw9I5cE0AboTEFMUAxL7aJvkQpUbqtR2h7R6wnL6KFQg0GbPCGYz/7ziy9e1F6d9ATz4+dDeaCYR92KmmR3keSjvpNhttCXpLq/Fm87iCHiSdDm8YsXA6R//usPiOjHT5iHM0WtszsZRKlrAATMi0iu9cdvD0ZrUJr0mz+emMhR+f/++un4ePRq/PQlaqAfP2WKnbkrSYHdyAUdBGsT2QSV+OO3h49Ka1Ge9lGARc0XGXb45jnqMnFTpjF186zHr7Rq55xgHg27heUJkiFBikFW9x3QdS0WiyF7ltejNCp/VzFRUoIk/MmrJ5bIQ9GXR3rvp7FwtoGn7Bk6ye5uVCyfYVM+dbxOIZpU4k8/H/bX4KBUHVXLg4qla3nzlxPS7lNMc9zpPLvojJX1fYyXp8yuTu29HeanUxuw4EshcMiaiYReV47MziqOjirvJoNBtXSOPBd3Pj3T4Xn2+uXvPv/81dfj9aetw/lD5YZIsaHKBRV4bMhpfgbdlASypjVOhztJ/K+t52h7C1Ky5mWpNHpxembxc7wUtUq69/TVH77/4mSDZPBMdEwzDGiHxhOfSF+YFOHr1HnktYnNYh+1SZM/LpWqhxdLMZY/+uz7F29+eLIp9MosZRHN5qA73hkCJMqokykt8HE51Da7m79GduN7ZrNcrjZNj+WQPDJ/fPnsN988e3m06dA0G9e5fBuiJDHwVW1GXWQBBeZXrLR89SwqNucN8gn1IcJZr1I9rB50PIkm5tkRzK9e9zqbvaaejEMIY1y4Sl6R2yKTaWWds0r+hmuzVCzR2PDdTPzx9Lj0qDQZC8KCjyKXvjjh6c0SkGyJgJLDz1dUMaGxkLLHvDh/EwU4xHNvw3e8A6HXOSiPSmM7UM2/JgT+jF9V/y6KBW3OkgwnD8boFupktgFZpi2rdargS8xjnhvVp8PTFE4wz7c0QXsTT+zFPLE8Fu+Fd1hBwlMZwlnqI9uTDLtagQXA51OGDTyLkiSp++PhcDx8i/6eH4zKpQr67QQPLCBhZO2EiNI30VwEk+NaqVioXlzXc22finIdz2wLxw/220MHk4NJdVAuTfDPrypHOE0LfknpDANZthUmT9Lz78ewylOiWCaOwPy5OrBRLZfQn3IZ/1yb9it8T/BtRYyi3ADIxUQ3Rt4DVnjKUMQsRfFvf54+smElLejvo3L5sITE7lXH13CCjWKaYlmYasj1sCawJrd5erPMU2YxSRBPaan/8aj56qhctkU9suzopUlvSsdWzi+yTEy3ZDxFfXRvP1Di2wwLLfGUsDVBjlMVRTkau3iL49B5Zzw8vy4NytVBhRf8ua7KiO68D50NZeRaFTf19zdhiSeFaDK2qPIOEx31R+XJW6GH2D3tlwfT/ljYmGAvQC7MFVoxnIcDJLXN3IdFnlmIrGlfGR7hc/vPo8loWhqiDoUXiIvDQXn6kyn448mGPpJAymCLEelFni0mLrrezzs6gaCFI+y3QywBTeHsp+lo2u8IvJ9gJLHbONlNIGNUBiQDj5Qu8CRTYhysMcCMJ5J9SOcNkUGRE/viSTQKS8nKbX2X3MtAAMWczgV6iLPAU0Ud57qpBR6eKPM+O0Wi4cInTyU/l7WKStRz2q0fbCn1fCsFC6xI7flPEhZ4SiAurptuOedpqfr3g2m1EkgpkGq2uxfLwHr3cUjzRVXZoGDB/1qLgDytVtuslmoVv8KWlDg9l2LQNbGptkRKIQ6IKdmd2ZPA0xKC8FRSkC2gZHEvb2mFexN+AXnSQXmS7ZjOSfe/NsAPT/oWPB8KfPHsnfzcP/x56Px2rzyVRq7daCUNXU9387L/xu6HJ0+Tf4r95S9ObNuGp1LnuHCmZRRTKMtgUSbLol708Q0DlUvww1MgyFwiRm3Ns2iIBRSMEqFIQDUHWlw9m83HQC7v/9758luex6O82/KUNDbV0I0cYI0Q4pHOOkYk9eXqHTfBV7xF9tyep6JBw3r8WadCWOKsMu56CjKW8f9Ydfc80+7sTTV1+/mqWc/DsXyAx6o750lS88Ut+dsvPsvPaxwgzuHGoVvxVD2LTiW4aUjcN2TPrZID3Lad85Q8a8KL4NbZqATnp2hA/7nPHdtzZUFxUJCUm/BkYYCZ8DvnqXgWE8oBGtQmZKFoRx8ZBEnxdh9v54sfFC2M9QFdyGpG2kixIEhQu4P+MzVbpBRG/4mQjQEk+5hgM2635ulz3ITASxXZlJFPtyEMa1qYynFBZzHfAU9CbYnIAIC626V1i9iCp9mclqaVlUVIN0Hl8nL9XpPtLXieNUsHh5UbH/A+PATnSRD/+9e//p9M+JuD+1CwDc828zfgn2fY7lrkdJ0LPGq4FU8xDnzHFF1r5cNcrN3NsChn9zt30cXueQL8mLeth7ScxYCins0aLBNwWD8AT/dCA/Ekitl0G9kAZBJGgHGrDciyml1zMOgqTzxPyhXXm3nGtudpHS91M4wIH99aKLRnmtZgg3lunYrFZtU1N/OUEolYzDVGcJ4EvlVMunvbhQ9KZjZqohaCpbIkIkDNbs1GnumF2XFb8STI+O3X4BdF1/eogFM2DUR0Njl2E08J34w5s+14hjFLXsm4d9sIWMe0riEOzoDjBp5qOxFLUPMYsiXPeggL4WOuT3BB75qBWijVsIu9IJ4r7kBmc4vm3JantFxVbwsYboVaFaW1ZDHrPxopmEaCaqTzeZ2JxzP5Rehta5mAN1JuyZMLYTRhbkUlRem5eIH1P4Sr5jCTBIWAZ4JRi8CRNkYtzMsLwFP1XEYuhKL7EsA+oUj5FiVClOq1gtzvYpLCZBBXEdkztgKKSi80Wv881UI8p9urXkkjjKknpBbLphsaUn6ZoDMxMLgWNmcCz5LKUMtIGEsayz9PpaUBtsAkkl2dYrUwlF8LwgLUGt0tF36TEtdNpw3MM72I/KowDdI+FUk2EgxbKMBwFsVzlCHfeo6D1a98fLegcYhUs7L8kKpwbtRDi9gy3j4cIJ7xzMedIsesnTX26UDBk1I/6mDW7LhP+/0zqGNhPirOOOTd4qfyMoD1SCPHFT9iUFJDN+Ph1WoOBAXzpG7smsgGEoc7KOp4t0jDeJzRblgRVs+hW8GEoGzuGZiGCCgj3V2DtJ4DeOrqXVc52wGUGMALHhiwFgxe8+GWdvykQe4BawHLJogw9wBKM4eBbBtZk1kPCGI7WOh4X5Bk3UiuwjD0/AOYYhohQoQIESJEiBAhQoQIEf7JYdUf4j+2zl5YKlP06QHX4BY+Wk+A5+n7rYt7a8yqRty8F/8A7KmuG4JWnPo2Nw1WWjW3rZoRuJ7CjfYShLMTPlyLkquLKtdsmiPLrnmVRR1axY9uWIyAqyYQQue8cnx1dXV5PrYKjG+clsoLlf7lmmK6t4C8+lY0o3BDNRcZxFcN2gUi3ihtXg6CixWOj/uT6rRWG40OT6/3cRm4Te2UF5q1d2aos5DTYLnUR50Vb6h+s54ntB5+ScwNPM0fv6t9KJcOTt+fTqq16uTSFAhzE0+++SF0nsuPKzUmME81Zz0JXOC56CU9szKola4vxh2TPBqfH09qVllRfqnguFUkDdeEa5YxT3q2lXD3s0pazqrGBWjCiCez8BqtNIwv8lSKiueaZWjxJJV1c/gW7EmiA93r740PHv1wgUyIa8gjH94/GB2MewLf65DmfHkHf9bBRWwEgXxXbnYE0ySIM7zBxFVReKt+Lq43b3ZOOiaOZx3/xbcQT9H7akSJiYsenpKR0FJazHBNbvHMtihNy82rkKvtFXtmk1QqpeXcCkmVUbkiuKFFEM4PD8+RVY7evR/PeZJX/XNaOLr6sjkZHDSb796f4/o2l9dvheHzV19eIqZCT3h72Tzt968rR72/N/d9u3YaaDHGM28xx2QazIwnaTAAYgBmti5ahhmpBSDaDACTdAyWZ5fap9oAzoFxu/XzV7VRp+f2JjQtXDw/QSSGo9q54JZwPuq/ORaEox/elKflWvXNtPpcwAUOp5cXBx9qb34+Q47QQS4/RaiVm+cHby4D8ExJzLxgUB5AWQcOTzIHYErnslxagyBnc5JBKgdArsvl9+IAxIrOUZkFnqoGIJXO1jk9A4D11hbhqnZwNCdE4yqMAmL7tjzy8jytHiOvff200h+d/vJj5aKDXPaoX/5yUju9Ot5HPMfN8nRy/bzyvFmq9ku1ywB+m0LdwuwV5moKJAhjxhPZLekIAB0460tRHGJS9gyKYhI6NWmXeJIJwDgFrpQWxNPpaKHyqIorgmGhQFtVGO1AMiwhnvycZ+2YsMqvN6dNkxCs6rmdg0G59BMuqYqa5vW01LSqAgv778vlUSB7kijE2u+0xswkl2cWgPnEat3pG2UgZiTPRm4Nzzz0zA3aA/j9KfS4XytdvTUtRYdbGW8RXc+Tpi2eVrzFPEelK6dC8Plh7apj7W4KnX55dByMp8QyLZsZXn8449lmMp4dKXur7O1vkeEsIbTEM+V9ia+Swm+RonsXB7XaoN+8Pq5cvB6emLaCXeRJz+xJODzxRszzYGzvfdac9sd24Xl0gkqpHJAnfhcch3Ubg8WRw1PNLCgIGVjzVGXo7W7zwHr3+SJPCS6sDElDjSTIHj+8QhGkWq3VpuXDSf94yPvniX7GpWPpk8n0UrDFBW/2OsF5khqDZKsBrLlLDk9kXO/lqozlo07/6UCC1sZFnjJcmHxQB1j1om6TONqvXL17f9qfjKrV0eTyDMfbUnVN++TpZrUpuDzLV4L1+iRhv1x6Tdgej9rq0aQasH3iJctArzPWDNwZTxlAr/JRMtYi30U9pMatCLbIMw0yhgct0fEA7HuImnkyHl5cD6qjCjKNX55WxytclA/3nVfSoJ224EkSSZDRnLfq3cwTet9er4pr7NkFcdYL6HTPWMzg6uO4jrNw/l3t9Eigl3gerOWJwo3Ds1rap2/DExerEUVnZuF6v5XENX5bhxazZb/N5GUvnNMI1rshedo0UeNCHerhfg/xLLs8ed7lySOe/CrP/dHo3LEnaq+dbXgSHJxVJlgfh/LAqm2J4q3kPTq+Jg6tWaFG71++7dFuBoJs9bRc2u8Jw0n5whk7QCnN+aR6heMM6leq16atnrw8O5PapVPF0USSGfU3wXkS+my2sqdfmccTkrJVL4q3noLkGmgTKzwJbaVmBX3U/PC+Ny8cStO9qze4KnenjxLNnh1YekfNas3heY14Cpane3ki+pOhXTkX9bGVwP3nIjw6Yd4P6oxd5hLFofkk9SQA63SCDJl5ZmDP0DZf1gYXc9knnO0f4gyTFo5HpfMzK4KaZ8elctnmKVxVTzsoP0Xw8OSF/cn0+sQ6hcAPg+uE9TwxjYbdGItJxqP7ErbnKsnZjVjWfTnAOG80UnRbSdD731W/q3RmQ5ZHTyelwTl25OF3tX7lDLVdfvzZqDQpH1uiUKgg+gRuyTwutOrwNHvm1eHgeoybujBsIt13HETfbuRJtiGTSSIdb6QYONPxUMvB+B5Xz+opMNu4rOOLFASaIXP5VgbYRVMEvjKZjvpXl+f7++eXV/3yh0Ocr6CgdDkZofx7+Pr4tFo6/nJ6bA2RCeODWv/5k+OfL3ChuNqlHaqQaBy/K09P//7LL79cTUrvJ+Xn/u0J48s8k8DNy5BOwkBpmJuXsSm1jXMyvNmY5WXOuAmYVfxUDCspQ3+cQld0zxx+VfpQGwwGpcGoVhv1z008/Ef3+Mrp9ANKtD5MJ5VO882xdVd6ZuUfjz4cTj98hVrtwfSYn/HkO8ejD6PBaPCheo3uhX+edWZl4SjneWWQmk4wgKHmL5KWNOSqXAxll5l58i3FLf8lkw03cKndtpbR2l3nQDwOxqMM+fDRo+mjw3+8e4KTT+sdJchGlebk8PD0eB9J1vfnvEPoyde/+qF/NeRNoYLybCtS494X3a+rSfnRo2bF7B2/fxLmkODa1blKsHmltkTgzbPOcDg8sRI0GrFE7Y7GycvZEYo+PZyfWAbCkQgPlZgEflmWiQdBZ10s7pvQWc54a5Do/oezg4FeO6a1bpiL37A9QoQIESJEiBAhQoQIESJEiBAhQoQIESI8ePw/yaepuOUzIQUAAAAASUVORK5CYII=\",\r\n        // \"order_id\": `${this.state.paymentStr}`, //This is a sample Order ID. Pass the `id` obtained in the response of Step 1\r\n        \"handler\": async(response) => {\r\n            let updates={};\r\n            updates[`payments/${paymentStr}/paymentIdRP`] = response.razorpay_payment_id;\r\n            updates[`prescriptions/${prescriptionStr}/hasPaid`] = true;\r\n            updates[`prescriptions/${prescriptionStr}/recieptId`] = paymentStr;\r\n            updates[`appointments/${appmtStr}/hasPaid`] = true;\r\n            await firebase.database().ref().update(updates);\r\n            this.setState({ razorPayResp : response.razorpay_payment_id });\r\n            this.setState({hasPaid: true});\r\n            this.togglePaymentModal();\r\n        },\r\n        \"notes\": {\r\n            \"address\": \"Razorpay Corporate Office\"\r\n        },\r\n        \"theme\": {\r\n            \"color\": \"#4be4ac\"\r\n        }\r\n    };\r\n\r\n    let paymentObj = {\r\n        \"amount\" : this.state.appointmentData[\"fee\"],\r\n        \"appointmentId\" : this.state.appointmentData[\"id\"],\r\n        \"date\" : formatNowDate2,\r\n        \"doctorId\" : this.state.doctorId,\r\n        \"dependentInfo\" : this.state.dependentInfo,\r\n        \"id\" : paymentStr,\r\n        \"patientId\" : this.state.userId,\r\n        \"time\" : formatNowTime2,\r\n        \"type\" : \"Prescription Payment\"\r\n    }\r\n\r\n    updates[`payments/${paymentStr}`] = paymentObj;\r\n    \r\n    var rzp1 = new window.Razorpay(options);\r\n    await rzp1.open();\r\n}\r\n\r\ntogglePaymentModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            paymentModalOpen: !prevState.paymentModalOpen,\r\n        }\r\n    });\r\n}\r\n\r\ntogglePdfPaymentOpenModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            pdfPaymentOpenModal: !prevState.pdfPaymentOpenModal,\r\n        }\r\n    });\r\n}\r\n\r\ntogglePdfNonPaymentOpenModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            pdfNonPaymentOpenModal: !prevState.pdfNonPaymentOpenModal,\r\n        }\r\n    });  \r\n}\r\n\r\ntoggleReceiptOpenModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            receiptOpenModal: !prevState.receiptOpenModal,\r\n        }\r\n    });\r\n}\r\n\r\ntoggleNavbar = () => {\r\n    this.setState(prevState=>{\r\n      return{\r\n          ...prevState,\r\n          isNavbarOpen: !prevState.isNavbarOpen,\r\n      }\r\n    });\r\n}\r\n\r\ntogglePrivacyPolicyModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            privacyPolicyModal: !prevState.privacyPolicyModal,\r\n        }\r\n    });\r\n}\r\n\r\ntoggleTermsModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            termsModal: !prevState.termsModal,\r\n        }\r\n    });\r\n}\r\n\r\ntoggleCancellationRefundModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            cancellationRefundModal: !prevState.cancellationRefundModal,\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\nrender() {\r\n\r\n    \r\n    let preDetailsData = this.state.prescriptionList.map((prescriptionListElement,index) => {\r\n        \r\n            return (\r\n            <Tr key={prescriptionListElement.id}>\r\n                <Td className=\"td\">{prescriptionListElement.date}</Td>\r\n                <Td className=\"td\">{prescriptionListElement.dependentInfo.name}</Td>\r\n                <Td className=\"td\">{prescriptionListElement.mode}</Td>\r\n                \r\n                {\r\n                    (this.state.appointmentObj) ? (\r\n                        \r\n                        <Td className=\"td\">\r\n                            {this.state.appointmentObj[prescriptionListElement.appointmentId][\"visitType\"]}\r\n                            {console.log(this.state.appointmentObj)}\r\n                            {console.log(prescriptionListElement.appointmentId)}\r\n                            {console.log(this.state.appointmentObj[prescriptionListElement.appointmentId])}\r\n                            {console.log(this.state.appointmentObj[prescriptionListElement.appointmentId][\"visitType\"])}\r\n                        </Td>\r\n                    ) : (\r\n                        <Td className=\"td\"></Td>\r\n                    )\r\n                }\r\n\r\n                {\r\n                    (this.state.appointmentObj) ? (\r\n                        \r\n                        <Td className=\"td\">\r\n                            {this.state.appointmentObj[prescriptionListElement.appointmentId][\"fee\"]}\r\n                        </Td>\r\n                    ) : (\r\n                        <Td className=\"td\"></Td>\r\n                    )\r\n                }\r\n                \r\n                \r\n\r\n                <Td className=\"td\">\r\n                    <button className=\"std-button\" style={{height: 30}} onClick={this.fetchAppointmentDetails2.bind(this, prescriptionListElement.appointmentId, prescriptionListElement)}>\r\n                        View\r\n                    </button>\r\n                </Td>\r\n                {/* <td className=\"td\">{\r\n                     (prescriptionListElement.hasPaid) ? (\r\n                        <a href={prescriptionListElement.printableFile} target=\"_blank\">Download</a>\r\n                     ) : (\r\n                        <button className=\"std-button\" style={{height: 30}} onClick={this.fetchAppointmentDetails2.bind(this, prescriptionListElement.appointmentId, prescriptionListElement)}>\r\n                            Pay to Download\r\n                        </button>\r\n                     )\r\n                     }\r\n                </td> */}\r\n                {\r\n                    (this.state.receiptUrl) ? (\r\n                        <Td>\r\n                            <button className=\"std-button\" style={{height: 30}} onClick={this.fetchReceiptDetails.bind(this, prescriptionListElement.appointmentId, prescriptionListElement)}>\r\n                                View\r\n                            </button>\r\n                        </Td>\r\n                    ) : (\r\n                        <Td>\r\n                            <p>N/A</p>\r\n                        </Td>\r\n                    )\r\n\r\n                }\r\n            </Tr> \r\n            )\r\n    });\r\n      \r\n\r\n\r\n    return (\r\n      \r\n       <body className=\"body\">\r\n            <div className=\"wrapper\">\r\n             <div className=\"container-fluid\">\r\n                 <Navbar dark expand=\"md\" style={{backgroundColor:\"#4be4ac\"}}>\r\n                    <NavbarBrand href={`/${this.state.doctorId}/`} style={{ color:'#ffffff', fontWeight:'600'}}>Teleconsultancy - Dr. {this.state.doctorName}</NavbarBrand>\r\n                    <NavbarToggler onClick={this.toggleNavbar} />\r\n                    <Collapse isOpen={this.state.isNavbarOpen} navbar>\r\n                    <Nav className=\"mr-auto\" navbar>\r\n                        <NavItem>\r\n                        <NavLink style={{color:'#ffffff'}} href={`/${this.state.doctorId}/Appointments`}>My Appointments</NavLink>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                        <NavLink style={{color:'#ffffff'}} href={`/${this.state.doctorId}/Prescriptions`}>My Prescriptions</NavLink>\r\n                        </NavItem>\r\n                        <UncontrolledDropdown nav inNavbar>\r\n                            <DropdownToggle color=\"success\" style={{color:'#ffffff'}} nav caret>\r\n                                Important Info <Badge color=\"danger\">3</Badge>\r\n                            </DropdownToggle>\r\n                            <DropdownMenu className=\"bg-nav\" right>\r\n                                <DropdownItem className=\"bg-nav-option\" style={{color:'#fff'}} onClick={this.togglePrivacyPolicyModal}> \r\n                                    Privacy Policy\r\n                                </DropdownItem>\r\n                                <DropdownItem className=\"bg-nav-option\" style={{color:'#fff'}} onClick={this.toggleTermsModal}>\r\n                                    Terms and Conditions\r\n                                </DropdownItem>\r\n                                <DropdownItem className=\"bg-nav-option\" style={{color:'#fff'}} onClick={this.toggleCancellationRefundModal}>\r\n                                    Refund Policy\r\n                                </DropdownItem>\r\n                            </DropdownMenu>\r\n                        </UncontrolledDropdown>\r\n                        <NavItem>\r\n                            <Link to={{pathname:`/${this.state.doctorId}/`}}>\r\n                                <NavbarText style={{color:'#ffffff'}} onClick={()=>{localStorage.removeItem('doctorId')}}> Logout </NavbarText>\r\n                            </Link>\r\n                        </NavItem>\r\n                        \r\n                    </Nav>\r\n                    </Collapse>\r\n                </Navbar>\r\n                {\r\n                    (this.state.sessionExpired) ? (\r\n                        <div>\r\n                            <Redirect push\r\n                            to={{\r\n                                pathname: `/${this.state.doctorId}/`,\r\n                            }} />\r\n                        </div>\r\n                    ) : (<div></div>)\r\n                }  \r\n                <div className=\"row\">\r\n\r\n                        {\r\n                            (this.state.isFetching) ? (<Loader loading={this.state.isFetching}/>) : (\r\n                                <div className=\" col-md-12 col-sm-12 col-xs-12 Consultancy-box margin-box-table\">\r\n                                    <text className=\"Prescription-heading-title\">\r\n                                        Prescription Received\r\n                                    </text>\r\n                                    <br/>\r\n                                    <br/>\r\n                                    {\r\n                                        \r\n                                        (this.state.emptyData) ? (\r\n                                            \r\n                                            <div style={{display:'flex', flexDirection:'row', width:'100%', height:'100%', alignContent:'center', justifyContent:'center'}}>\r\n                                                {console.log(this.state.emptyData)}\r\n                                                <text style={{fontWeight:'300', fontSize:24, textAlign:'center'}}>You do not currently have any prescriptions!</text>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <Table className=\"table\">\r\n                                                {console.log(this.state.emptyData)}\r\n                                        <Thead className=\"Prescription-heading\">\r\n                                            <Tr>\r\n                                                <Th className=\"th\" scope=\"col\"> Date </Th>\r\n                                                <Th className=\"th\" scope=\"col\"> Patient Name </Th>\r\n                                                <Th className=\"th\" scope=\"col\"> Mode </Th>\r\n                                                <Th className=\"th\" scope=\"col\"> Type </Th>\r\n                                                <Th className=\"th\" scope=\"col\"> Fee </Th>\r\n                                                <Th className=\"th\" scope=\"col\"> Prescription </Th>\r\n                                                <Th className=\"th\" scope=\"col\"> Receipt </Th>\r\n                                            </Tr>\r\n                                        </Thead>\r\n                                        <Tbody>\r\n                                            {preDetailsData}\r\n                                        </Tbody>\r\n                                    </Table>\r\n                                        )\r\n                                    }\r\n                                    \r\n                                </div>\r\n                            )\r\n                        }\r\n\r\n                    \r\n                </div>\r\n                        <Modal isOpen={this.state.paymentModalOpen} toggle={this.togglePaymentModal}>\r\n                            <ModalHeader toggle={this.togglePaymentModal}>Online Consultancy Payment</ModalHeader>\r\n                            <ModalBody>\r\n                                {\r\n                                    (this.state.appointmentData) ? (\r\n                                        <div>\r\n                                            <p>\r\n                                                {\r\n                                                    (this.state.appointmentData[\"dependentInfo\"]) ? (\r\n                                                        <div>\r\n                                                            <b> Patient Name: </b> <span>{this.state.appointmentData[\"dependentInfo\"][\"name\"]}</span>\r\n                                                        </div>\r\n                                                    ) : (\r\n                                                        <div>\r\n                                                            <b> Patient Name: </b> <span>{this.state.appointmentData[\"name\"]}</span>\r\n                                                        </div>\r\n                                                    )\r\n                                                }\r\n                                                \r\n                                            </p>\r\n                                            <hr/>\r\n                                            <p>\r\n                                                <b> Appointment Mode: </b> {this.state.appointmentData[\"mode\"]}\r\n                                            </p>\r\n                                            <hr/>\r\n                                            <p>\r\n                                                <b> Appointment Details: </b> {this.state.appointmentData[\"date\"]+\" \"+this.state.appointmentData[\"timeBegin\"]}\r\n                                            </p>\r\n                                            <hr/>\r\n                                            <p>\r\n                                                <b> Appointment Fees: </b> {this.state.appointmentData[\"fee\"]}\r\n                                            </p>\r\n                                        </div>\r\n                                    ) : (<div></div>)\r\n                                }\r\n                                \r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                                <Button color=\"secondary\" onClick={this.togglePaymentModal}>Cancel</Button>\r\n                                <Button color=\"primary\" onClick={this.handlePaymentClick}>Pay Now</Button>\r\n                            </ModalFooter>\r\n                        </Modal>   \r\n\r\n                        <Modal isOpen={this.state.pdfPaymentOpenModal} toggle={this.togglePdfPaymentOpenModal}>\r\n                            <div style={{display:'flex'}}>\r\n                                <div style={{}} class={`${(this.state.hasPaid) ? \"hideButton\" : \"showPrescriptionButton\"}`}>\r\n                                    <button style={{border: '0.75px solid black'}} className=\"std-button\" onClick={this.togglePaymentModal}>\r\n                                        Pay to View\r\n                                    </button>\r\n                                </div>\r\n                                <div style={{display:'flex', position: 'absolute', textAlign: 'center', width:\"100%\", alignSelf:'flex-end', justifyContent:'center', paddingBottom:'2vh'}} className={`showButton`}>\r\n                                    <Button style={{border: '0.75px solid black', alignSelf:'flex-end'}} color=\"danger\" onClick={this.togglePdfPaymentOpenModal}>\r\n                                        Close\r\n                                    </Button>\r\n                                </div>\r\n                                <div style={{height: '80vh', width:'100%'}} className={` ${this.state.hasPaid ? '' : 'blurEffectCalendar'}`}>\r\n                                    {console.log(this.state.pdfLink)}\r\n                                    <iframe style={{width:'100%', height:'100%'}} src={this.state.pdfLink} />\r\n                                </div>\r\n                            </div>\r\n                        </Modal>\r\n                        <Modal isOpen={this.state.pdfNonPaymentOpenModal} toggle={this.togglePdfNonPaymentOpenModal}>\r\n                            <div style={{display:'flex'}}>\r\n                                <div style={{display:'flex', position: 'absolute', textAlign: 'center', width:\"100%\", alignSelf:'flex-end', justifyContent:'center', paddingBottom:'2vh'}} className={`showButton`}>\r\n                                    <Button style={{border: '0.75px solid black', alignSelf:'flex-end'}} color=\"danger\" onClick={this.togglePdfNonPaymentOpenModal}>\r\n                                        Close\r\n                                    </Button>\r\n                                </div>\r\n                                <div style={{height: '80vh', width:'100%'}} className={` ${this.state.hasPaid ? '' : 'blurEffectCalendar'}`}>\r\n                                    {console.log(this.state.pdfLink)}\r\n                                    <iframe style={{width:'100%', height:'100%'}} src={this.state.pdfLink} />\r\n                                </div>\r\n                            </div>\r\n                        </Modal>\r\n\r\n                        <Modal isOpen={this.state.receiptOpenModal} toggle={this.toggleReceiptOpenModal}>\r\n                            <div style={{display:'flex'}}>\r\n                                <div style={{display:'flex', position: 'absolute', textAlign: 'center', width:\"100%\", alignSelf:'flex-end', justifyContent:'center', paddingBottom:'2vh'}} className={`showButton`}>\r\n                                    <Button style={{border: '0.75px solid black', alignSelf:'flex-end'}} color=\"danger\" onClick={this.toggleReceiptOpenModal}>\r\n                                        Close\r\n                                    </Button>\r\n                                </div>\r\n                                <div style={{height: '80vh', width:'100%'}} className={` ${this.state.hasPaid ? '' : 'blurEffectCalendar'}`}>\r\n                                    {console.log(this.state.pdfLink)}\r\n                                    <iframe style={{width:'100%', height:'100%'}} src={this.state.pdfLink} />\r\n                                </div>\r\n                            </div>\r\n                        </Modal>\r\n\r\n                        <Modal isOpen={this.state.privacyPolicyModal} toggle={this.togglePrivacyPolicyModal}>\r\n                            <ModalHeader toggle={this.togglePrivacyPolicyModal}>Privacy Statement</ModalHeader>\r\n                            <ModalBody>\r\n                            <p>\r\n                            <b>SECTION 1 - WHAT DO WE DO WITH YOUR INFORMATION?</b>\r\n                            <p> When you purchase our services, as part of the purchasing process, we collect the personal information you give us such as your name, address and email address. When you browse our store, we also automatically receive your computers internet protocol (IP) address in order to provide us with information that helps us learn about your browser and operating system. Email marketing (if applicable): With your permission, we may send you emails about our store, new products and other updates. </p>\r\n                            \r\n                            <br/>\r\n                            <b>SECTION 2 - CONSENT</b>\r\n                            <p>How do you get my consent? When you provide us with personal information to complete a transaction, verify your credit card, place an order, we imply that you consent to our collecting it and using it for that specific reason only. If we ask for your personal information for a secondary reason, like marketing, we will either ask you directly for your expressed consent, or provide you with an opportunity to say no.</p>\r\n                            \r\n                            <br/>\r\n                            <b>How do I withdraw my consent?</b>\r\n                            <p>If after you opt-in, you change your mind, you may withdraw your consent for us to contact you, for the continued collection, use or disclosure of your information, at anytime, by contacting us at sanjayathavale@mobilesurta.com or mailing us at: B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038</p>\r\n\r\n                            <br/>\r\n                            <b>SECTION 3 - DISCLOSURE</b>\r\n                            <p>We may disclose your personal information if we are required by law to do so or if you violate our Terms of Service.</p>\r\n\r\n                            <br/>\r\n                            <b>SECTION 4 - PAYMENT</b>\r\n                            <p>We use Razorpay for processing payments. We/Razorpay do not store your card data on their servers. The data is encrypted through the Payment Card Industry Data Security Standard (PCI-DSS) when processing payment. Your purchase transaction data is only used as long as is necessary to complete your purchase transaction. After that is complete, your purchase transaction information is not saved.</p>\r\n\r\n                            <br/>\r\n                            <b>SECTION 4 - PAYMENT</b>\r\n                            <p>We use Razorpay for processing payments. We/Razorpay do not store your card data on their servers. The data is encrypted through the Payment Card Industry Data Security Standard (PCI-DSS) when processing payment. Your purchase transaction data is only used as long as is necessary to complete your purchase transaction. After that is complete, your purchase transaction information is not saved. Our payment gateway adheres to the standards set by PCI-DSS as managed by the PCI Security Standards Council, which is a joint effort of brands like Visa, MasterCard, American Express and Discover. PCI-DSS requirements help ensure the secure handling of credit card information by our store and its service providers. For more insight, you may also want to read terms and conditions of razorpay on https://razorpay.com/.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 5 - THIRD-PARTY SERVICES</b>\r\n                            <p>In general, the third-party providers used by us will only collect, use and disclose your information to the extent necessary to allow them to perform the services they provide to us. However, certain third-party service providers, such as payment gateways and other payment transaction processors, have their own privacy policies in respect to the information we are required to provide to them for your purchase-related transactions. For these providers, we recommend that you read their privacy policies so you can understand the manner in which your personal information will be handled by these providers. In particular, remember that certain providers may be located in or have facilities that are located a different jurisdiction than either you or us. So if you elect to proceed with a transaction that involves the services of a third-party service provider, then your information may become subject to the laws of the jurisdiction(s) in which that service provider or its facilities are located. Once you leave our stores website or are redirected to a third-party website or application, you are no longer governed by this Privacy Policy or our websites Terms of Service. When you click on links on our store, they may direct you away from our site. We are not responsible for the privacy practices of other sites and encourage you to read their privacy statements.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 6 - SECURITY</b>\r\n                            <p>To protect your personal information, we take reasonable precautions and follow industry best practices to make sure it is not inappropriately lost, misused, accessed, disclosed, altered or destroyed.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 7 - COOKIES</b>\r\n                            <p>We use cookies to maintain session of your user. It is not used to personally identify you on other websites.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 8 - AGE OF CONSENT</b>\r\n                            <p>By using this site, you represent that you are at least the age of majority in your state or province of residence, or that you are the age of majority in your state or province of residence and you have given us your consent to allow any of your minor dependents to use this site.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>SECTION 9 - CHANGES TO THIS PRIVACY POLICY</b>\r\n                            <p>We reserve the right to modify this privacy policy at any time, so please review it frequently. Changes and clarifications will take effect immediately upon their posting on the website. If we make material changes to this policy, we will notify you here that it has been updated, so that you are aware of what information we collect, how we use it, and under what circumstances, if any, we use and/or disclose it. If our store is acquired or merged with another company, your information may be transferred to the new owners so that we may continue to sell our services to you.</p>\r\n\r\n                            <br/>\r\n\r\n                            <b>QUESTIONS AND CONTACT INFORMATION</b>\r\n                            <p>If you would like to: access, correct, amend or delete any personal information we have about you, register a complaint, or simply want more information contact our Privacy Compliance Officer at sanjayathavale@mobilesutra.com or by mail at B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038</p>\r\n                            <p>Sanjay Athavale</p>\r\n                            <p>B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038</p>\r\n                            \r\n                            </p>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                            <Button color=\"primary\" onClick={this.togglePrivacyPolicyModal}>Okay</Button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n\r\n                        <Modal isOpen={this.state.termsModal} toggle={this.toggleTermsModal}>\r\n                            <ModalHeader toggle={this.toggleTermsModal}>Teleconsultancy Conditions</ModalHeader>\r\n                            <ModalBody>\r\n                            <p>I hereby agree and hence give consent that my personal health information may be shared for referral purposes as well as for Medical Insurance purposes. (reimbursement or cashless). It is understood and agreed that the medical information will not be shared with dispensing chemists or drug manufacturers, apart from working diagnosis and prescription part. I also hereby consent to use my clinical information for data collection, research, scientific publication, advertising and surveys without disclosing my identity in any manner and without breach of confidentiality. I have understood the implications of such partial or full disclosure of my information to other agencies, which is required in my own interest. While sharing the information to next caregiver or referral, the doctors have laid down the same standards of confidentiality, but in case of any breach by them, we will not hold any doctor liable in any manner. *ln case of children or insane person, consent provided by the patient's parent/guardian user. </p>\r\n                            <p><b>Please Note:</b></p>\r\n                            <p>\r\n                            Online/phone consultation is not a substitute for physical/in-person consultation. Your doctors response may be delayed and is dependant on their availability. Please visit your hospital or nearest medical centre if you need immediate or urgent help. \r\n                            </p>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                            <Button color=\"primary\" onClick={this.toggleTermsModal}>Okay</Button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n                        \r\n                        <Modal isOpen={this.state.cancellationRefundModal} toggle={this.toggleCancellationRefundModal}>\r\n                            <ModalHeader toggle={this.toggleCancellationRefundModal}>Cancellation Policy</ModalHeader>\r\n                            <ModalBody>\r\n                            <p>Currently, we do not provide a functionality to cancel booked appointments, but do provide a functionality to re-schedule these appointments, until before 1 day before the date of appointment, in the case of Online Appointments.</p>\r\n                            <p>Hence, there would be strictly no refunds, in regards to the transactions undertaken in the appointment booking process.</p>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                            <Button color=\"primary\" onClick={this.toggleCancellationRefundModal}>Okay</Button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n            </div>\r\n            </div>\r\n        </body>\r\n    );\r\n}\r\n}\r\n\r\nexport default Prescription;\r\n\r\n{/* <Document\r\n                                file={{url : this.state.pdfLink}}\r\n                                onLoadSuccess={this.onDocumentLoadSuccess}\r\n                            >\r\n                                <Page pageNumber={this.state.pageNumber} />\r\n                            </Document>\r\n                            <p>Page {this.state.pageNumber} of {this.state.numPages}</p> */}","import React, { Component } from 'react';\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport { Modal, Input, ModalBody, ModalHeader, ModalFooter, Button,Form, FormGroup, Label, FormText,\r\n    Collapse,\r\n    Navbar,\r\n    NavbarBrand,\r\n    NavbarToggler,\r\n    Nav,\r\n    NavItem,\r\n    NavLink,\r\n    NavbarText} from 'reactstrap';\r\n\r\nimport Calendar from 'react-calendar';\r\n\r\nimport { Table, Thead, Tbody, Tr, Th, Td } from 'react-super-responsive-table'\r\nimport 'react-super-responsive-table/dist/SuperResponsiveTableStyle.css'\r\n\r\nimport firebase from '../../Services/firebase';\r\n\r\nimport moment from 'moment';\r\n\r\nimport Loader from '../../Assets/Loader/Loader';\r\nimport '../../Assets/Calendar/Calendar.css';\r\n\r\nclass Appointments extends Component {\r\nconstructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        doctorId: this.props.match.params.handle,\r\n        date: new Date(), \r\n        appointment: [],\r\n        busyArray : [],\r\n        slotArray: [],\r\n        daysAvailable: [],\r\n        isFetching: false,\r\n        rescheduleModal : false,\r\n        preDetailsData:[],\r\n        appointmentsList:[],\r\n        doctorIdList : [],\r\n        doctorIdList1 : [],\r\n        appointmentData : {},\r\n        sessionExpired: false,\r\n        emptyData: false,\r\n        rescheduleModal: false,\r\n     };\r\n}\r\n\r\ncomponentDidMount = async() => {\r\n    this.setState({ isFetching: true});\r\n    await this.setValuesFromLocalStorage();\r\n\r\n//    let dbrefPrescription = firebase.database().ref(`/prescriptions/PRSCTN-8529469097-9767427053-150520-030000-d00`);\r\n    let dbrefAppointment = firebase.database().ref(`appointments`);\r\n    await dbrefAppointment.orderByChild(\"patientId\").equalTo(this.state.userId).once(\"value\", async(snap) => {\r\n        //working--\r\n        console.log(\"value\"+snap.val());\r\n        this.setState({ appointment : [] });\r\n        this.setState({ doctorIdList : [] });\r\n        if(snap.val()){\r\n            snap.forEach(snap => {\r\n                if(snap.val().doctorId == this.state.doctorId)\r\n                    this.state.appointment.push(snap.val());\r\n                    this.state.doctorIdList.push(snap.val().doctorId);\r\n                //  console.log(this.state.prescription);\r\n            })\r\n            this.state.appointment.sort((ele1,ele2) => {\r\n                let d1 = moment(ele1.date, \"DD-MM-YY\");\r\n                let d2 = moment(ele2.date, \"DD-MM-YY\");\r\n    \r\n                if(d1>d2) return 1;\r\n                if(d1<d2) return -1;\r\n            })\r\n            this.setState({\r\n                appointmentsList: this.state.appointment,\r\n                doctorIdList1 : this.state.doctorIdList,\r\n                emptyData: false,\r\n            })\r\n        }\r\n        else{\r\n            this.setState({ emptyData: true});\r\n        }\r\n        \r\n        \r\n        //--working\r\n        \r\n        \r\n    console.log(\"appointment\",this.state.appointment);\r\n    console.log(\"appointmentsList\",this.state.appointmentsList);\r\n    console.log(\"doctors list: \"+this.state.doctorIdList1);\r\n  });\r\n \r\n  await this.fetchDoctorData();\r\n  await this.getValueFromSessionStorage();\r\n\r\n  this.setState({ isFetching: false });\r\n}\r\n\r\ncomponentDidUpdate = async() => {\r\n    await this.getValueFromSessionStorage();\r\n}\r\n\r\n\r\ngetValueFromSessionStorage = async() => {\r\n    const sT = sessionStorage.getItem('loginTimestamp');\r\n    console.log(sT);\r\n    console.log(\"i check for session expiry\");\r\n    if(!sT){\r\n        await this.setState({ sessionExpired: true})\r\n        localStorage.removeItem('doctorId');\r\n    }\r\n    else{\r\n        let dateNowMoment = moment(new Date());\r\n        let timestampMoment = moment(parseInt(sT));\r\n        let addedMoment = timestampMoment.add(30, 'm');\r\n        if(addedMoment.isBefore(dateNowMoment)){\r\n            await this.setState({ sessionExpired: true});\r\n            localStorage.removeItem('doctorId');\r\n        }\r\n        else{\r\n            sessionStorage.setItem('sessionTimestamp', dateNowMoment);\r\n        }\r\n    }\r\n}\r\n\r\nfetchDoctorData = async() => {\r\n    // let doctorIdNameMapping ={};\r\n    let dbDoctors = firebase.database().ref(`doctors/${this.state.doctorId}/name`);\r\n\r\n    await dbDoctors.once(\"value\", (snap) =>{\r\n        // console.log(snap.val());\r\n        this.setState({ doctorName : snap.val()});\r\n    });\r\n    \r\n    // console.log(doctorIdNameMapping);\r\n    // this.setState({ doctorIdNameMapping });\r\n}\r\n\r\nsetValuesFromLocalStorage = () => {\r\n    const uI = localStorage.getItem('userId');\r\n    const udn = localStorage.getItem('userDependentName');\r\n    const udi = localStorage.getItem('userDependentId');\r\n    const udr = localStorage.getItem('userDependentRelation');\r\n\r\n    this.setState({userId: uI});\r\n    this.setState({ dependentInfo: {\r\n        name : udn,\r\n        id: udi,\r\n        relation: udr,\r\n    }});\r\n\r\n    return;\r\n}\r\n\r\nhandleEditClick = async(appointmentObj) => {\r\n    await this.setState({appointmentChosen: appointmentObj});\r\n    await this.setState({isFetching: true});\r\n    await this.fetchDoctorAppointmentData();\r\n    this.toggleRescheduleModal();\r\n}\r\n\r\n\r\nfetchDoctorAppointmentData = async() => { \r\n    console.log('in doctor fetcher'+ this.state.doctorId);\r\n    let dbref = firebase.database().ref(`doctors/${this.state.doctorId}/`);\r\n    await dbref.once(\"value\").then((snap) => {\r\n        let data = snap.val();\r\n        // console.log(data[\"days\"]);\r\n        // let dArray = Array.from(data[\"days\"]);\r\n        this.setState({doctorData : data});\r\n        this.setState({doctorFeeData: data[\"consultancyFee\"]});\r\n        let leaveDatesObj = data[\"slotDetails\"][\"unavailableDates\"];\r\n        let dObject = data[\"slotDetails\"][\"timeSlotsTemp\"];\r\n        let dObjKeys = Object.keys(dObject);\r\n        let dObjArray = [];\r\n        console.log(leaveDatesObj);\r\n\r\n        for(let i=0;i<dObjKeys.length;i++){\r\n            // dObjTemp.push(dObject[dObjKeys[i]]);\r\n            let temp = Object.keys(dObject[dObjKeys[i]]);\r\n            let dObjTemp = [];\r\n            for(let j=0;j<temp.length;j++){\r\n                dObjTemp.push(dObject[dObjKeys[i]][temp[j]]);\r\n            }\r\n            let key = dObjKeys[i];\r\n            let obj={};\r\n            obj[key] = dObjTemp;\r\n            dObjArray.push(obj);\r\n        }\r\n\r\n        const sorter = {\r\n            // \"sunday\": 0, // << if sunday is first day of week\r\n            \"Mon\": 1,\r\n            \"Tue\": 2,\r\n            \"Wed\": 3,\r\n            \"Thu\": 4,\r\n            \"Fri\": 5,\r\n            \"Sat\": 6,\r\n            \"Sun\": 7\r\n          }\r\n\r\n          dObjArray.sort(function sortByDay(a, b) {\r\n            //console.log(a);\r\n            let day1 = Object.keys(a)[0];\r\n            let day2 = Object.keys(b)[0];\r\n            return sorter[day1] - sorter[day2];\r\n          });\r\n\r\n\r\n        console.log(dObjArray);\r\n        this.setState({ daysAvailable : dObjKeys });\r\n        this.setState({ daysObject: dObject });\r\n        this.setState({ dObjArray });\r\n\r\n\r\n        if(leaveDatesObj){\r\n\r\n            console.log(leaveDatesObj);\r\n            console.log(\"entered leave dates\");\r\n            let leaveDateArray = [];\r\n\r\n            for(let i=1;i<leaveDatesObj.length;i++){\r\n                let startDateMoment = moment(leaveDatesObj[i].From, 'DD-MM-YY');\r\n                let endDateMoment = moment(leaveDatesObj[i].To, 'DD-MM-YY');\r\n                let tempMom = startDateMoment;\r\n\r\n                while(!tempMom.isAfter(endDateMoment)){\r\n                    console.log(tempMom.format('DD-MM-YY'));\r\n                    leaveDateArray.push(tempMom.format('DD-MM-YY'));\r\n                    tempMom.add(1,'d');\r\n                }\r\n            }\r\n\r\n            console.log(leaveDateArray);\r\n            this.setState({ leaveDateArray });\r\n        }\r\n        \r\n        // let dfArray = [];\r\n        // for( var i=0;i<dObjKeys.length;i++){\r\n        //     dfArray.push(dObject[dObjKeys[i]]);\r\n        // }\r\n        // console.log(dfArray);\r\n        // this.setState({slotBeginTime: data[\"slotDetails\"][\"timeSlot\"][\"001\"][\"openTime\"]});\r\n        // this.setState({slotCloseTime: data[\"slotDetails\"][\"timeSlot\"][\"001\"][\"closeTime\"]});\r\n    });\r\n   await this.setAvailableSlots();\r\n   \r\n}\r\n\r\nsetAvailableSlots = () => {\r\n    // console.log(this.state.slotBeginTime);\r\n    // console.log(this.state.slotCloseTime);\r\n\r\n    let daySlotArray = {};\r\n    for(let i=0;i<this.state.daysAvailable.length;i++){\r\n        \r\n        let innerObject = this.state.daysObject[this.state.daysAvailable[i]];\r\n        let innerObjectKeys = Object.keys(innerObject);\r\n        let timeSlotArray = [];\r\n        for(let j=0;j<innerObjectKeys.length;j++){\r\n            let timingObject = innerObject[innerObjectKeys[j]];\r\n            let slotBeginTime = timingObject[\"openTime\"];\r\n            let slotCloseTime = timingObject[\"closeTime\"];\r\n            let timeDuration = parseInt(timingObject[\"timeAlloted\"].toString().substring(0,2),10);\r\n            var timeBegin = moment(slotBeginTime, 'LT', true);\r\n            var timeEnd = moment(slotCloseTime, 'LT', true);\r\n            var tempDate = timeBegin;\r\n            while(tempDate < timeEnd ){\r\n                timeSlotArray.push(tempDate.format('LT'));\r\n                tempDate= moment(tempDate).add(timeDuration,'m');\r\n            }\r\n        }\r\n        let key = this.state.daysAvailable[i];\r\n        daySlotArray[key] = timeSlotArray;\r\n    }\r\n    // console.log(timeSlotArray);\r\n    // console.log(daySlotArray);\r\n    this.setState({slotArray: daySlotArray});\r\n    this.setState({isFetching : false });\r\n    // console.log(timeBegin.format('LT')+\" \"+timeEnd.format('LT'));\r\n}\r\n\r\n\r\nonCalendarChange = async(date) => {\r\n    let momentToday = moment(new Date()).format('DD-MM-YY');\r\n    \r\n    let dateTodaySelected = moment(date).format('DD-MM-YY');\r\n    let timeTodaySelected = moment(new Date()).format('LT');\r\n\r\n    if(dateTodaySelected == momentToday){\r\n        this.setState({todaySelected : true});\r\n        let dayToday = new Date().toString().substring(0,3);\r\n        console.log(dayToday);\r\n\r\n        let todaySlotArray ={\r\n            [dayToday] : this.state.slotArray[dayToday]\r\n        }; \r\n\r\n        let todaySlotArrayFiltered = todaySlotArray[dayToday].filter((time) => {\r\n            return moment(time, 'LT') > moment(timeTodaySelected, 'LT');\r\n        })\r\n        console.log(todaySlotArrayFiltered);\r\n        \r\n        todaySlotArray = {\r\n            [dayToday] : todaySlotArrayFiltered\r\n        }\r\n\r\n        console.log(todaySlotArray);\r\n        console.log(this.state.slotArray);\r\n        console.log(this.state.busyArray);\r\n        await this.setState({todaySlotArray});\r\n    }else{\r\n        this.setState({todaySelected: false});\r\n    }\r\n    \r\n    if(this.state.leaveDateArray){\r\n        if(this.state.leaveDateArray.includes(dateTodaySelected)){\r\n            console.log(\"detected leave day\");\r\n            this.setState({leaveSelected: true});\r\n        }\r\n        else{\r\n            this.setState({leaveSelected: false});\r\n        }\r\n    }\r\n    else{\r\n        this.setState({leaveSelected: false});\r\n    }\r\n   \r\n\r\n    if(date< new Date() && dateTodaySelected != momentToday){\r\n        this.setState({ olderDateSelected: true});\r\n    }\r\n    else{\r\n        this.setState({ olderDateSelected: false});\r\n    }\r\n\r\n    this.setState({ slotClicked: ''});\r\n    this.setState({ date });\r\n    this.setState({ dateSelected: true});\r\n    this.setState({ dayOfDate : date.toString().substr(0,3)});\r\n    await this.fetchCalendarSlots(date);\r\n}\r\n\r\nfetchCalendarSlots = async(date) => {\r\n\r\n    let dateSelect = date;\r\n    var options = {year: '2-digit', month: '2-digit', day: '2-digit' };\r\n\r\n    let formatDate = dateSelect.toLocaleDateString(\"en-GB\", options);\r\n    formatDate = formatDate.replace(/\\//g,\"\");\r\n    // console.log(formatDate);\r\n    this.setState({ isFetching : true });\r\n    let dbref = firebase.database().ref(`doctors/${this.state.doctorId}/slotDetails/busySlots/${formatDate}`);\r\n    await dbref.once(\"value\").then((snap) => {\r\n        let data = snap.val();\r\n        if(data){\r\n            let disKeys = Object.keys(data);\r\n            let busyArray = [];\r\n            let tempObject= {};\r\n            for(var i=0; i<disKeys.length;i++){\r\n                tempObject[i] = data[disKeys[i]];\r\n            }\r\n            let disKeys2 = Object.keys(tempObject);\r\n            for(var i=0;i<disKeys2.length;i++){\r\n                var time = moment(tempObject[i][\"timeBegin\"], 'LT');\r\n                // console.log(\"req time becomes: \"+ time.format('LT'));\r\n                busyArray.push(time.format('LT'));\r\n                // console.log(busyArray);\r\n            }\r\n            // console.log(busyArray);\r\n            this.setState({ busyArray });\r\n        }\r\n        else{\r\n            this.setState({ busyArray: []});\r\n        }\r\n        this.setState({ isFetching : false });\r\n    });\r\n}\r\n\r\nchangeSlotSelect = (slot) => {\r\n    // console.log(slot);\r\n    var t = moment(slot, 'LT');\r\n    this.setState({ slotClicked : t.format('LT')});\r\n}\r\n\r\n\r\ntoggleNavbar = () => {\r\n    this.setState(prevState=>{\r\n      return{\r\n          ...prevState,\r\n          isNavbarOpen: !prevState.isNavbarOpen,\r\n      }\r\n    });\r\n  }\r\n\r\ntoggleRescheduleModal = () => {\r\n    this.setState(prevState=>{\r\n        return{\r\n            ...prevState,\r\n            rescheduleModal: !prevState.rescheduleModal,\r\n        }\r\n    });\r\n}\r\n\r\nrender() {\r\n\r\n    \r\n    let preDetailsData = this.state.appointmentsList.map((appointmentsListElement,index) => {\r\n        \r\n            return (\r\n            <Tr key={appointmentsListElement.id}>\r\n                <Td className=\"td\">{appointmentsListElement.date}</Td>\r\n                <Td className=\"td\">{appointmentsListElement.timeBegin}</Td>\r\n                <Td className=\"td\">{appointmentsListElement.dependentInfo.name}</Td>\r\n                {/* <Td className=\"td\">{\r\n                    (this.state.doctorIdNameMapping) ? (\r\n                        this.state.doctorIdNameMapping[appointmentsListElement.doctorId]\r\n                    ) : (\r\n                        <p>Rekt</p>\r\n                    )\r\n                }</Td> */}\r\n                <Td className=\"td\">{appointmentsListElement.mode}</Td>\r\n                <Td className=\"td\">{appointmentsListElement.visitType}</Td>\r\n                <Td className=\"td\">\r\n                    <button className=\"std-button\" style={{height: 30}} onClick={this.handleEditClick.bind(this,appointmentsListElement)}>\r\n                        Edit\r\n                    </button>\r\n                </Td>\r\n            </Tr> \r\n            )\r\n    });\r\n      \r\n\r\n\r\n    return (\r\n      \r\n       <body className=\"body\">\r\n            <div className=\"wrapper\">\r\n             <div className=\"container-fluid\">\r\n\r\n                <Navbar dark expand=\"md\" style={{backgroundColor:\"#4be4ac\"}}>\r\n                    <NavbarBrand href={`/${this.state.doctorId}/`} style={{ color:'#ffffff', fontWeight:'600'}}>Teleconsultancy - Dr. {this.state.doctorName}</NavbarBrand>\r\n                    <NavbarToggler onClick={this.toggleNavbar} />\r\n                    <Collapse isOpen={this.state.isNavbarOpen} navbar>\r\n                    <Nav className=\"mr-auto\" navbar>\r\n                        <NavItem>\r\n                        <NavLink style={{color:'#ffffff'}} href={`/${this.state.doctorId}/Appointments`}>My Appointments</NavLink>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                        <NavLink style={{color:'#ffffff'}} href={`/${this.state.doctorId}/Prescriptions`}>My Prescriptions</NavLink>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                            <Link to={{pathname:`/${this.state.doctorId}/`}}>\r\n                                <NavbarText style={{color:'#ffffff'}} onClick={()=>{localStorage.removeItem('doctorId')}}> Logout </NavbarText>\r\n                            </Link>\r\n                        </NavItem>\r\n                    </Nav>\r\n                    </Collapse>\r\n                </Navbar>\r\n                {\r\n                    (this.state.sessionExpired) ? (\r\n                        <div>\r\n                            <Redirect push\r\n                            to={{\r\n                                pathname: `/${this.state.doctorId}/`,\r\n                            }} />\r\n                        </div>\r\n                    ) : (<div></div>)\r\n                }  \r\n                <div className=\"row\">\r\n                   \r\n                        {\r\n                            (this.state.isFetching) ? (<Loader loading={this.state.isFetching}/>) : (\r\n                                <div className=\" col-md-12 col-sm-12 col-xs-12 Consultancy-box margin-box-table\">\r\n                                    <div style={{width: '100%', display:'flex', justifyContent:'space-between'}}>\r\n                                        <text className=\"Prescription-heading-title\" style={{fontSize:22}}>\r\n                                            My Appointments\r\n                                        </text>\r\n                                        <text className=\"Prescription-heading-title\" style={{fontSize:17, alignSelf:'center', marginLeft: '3%', marginRight:'3%', fontWeight: 400, textAlign: 'right'}}>\r\n                                            Doctor Name: Dr. {this.state.doctorName}\r\n                                        </text>\r\n                                    </div>\r\n                                    \r\n                                    <br/>\r\n                                    <br/>\r\n                                    {\r\n                                        (this.state.emptyData) ? (\r\n                                            <div style={{display:'flex', flexDirection:'row', width:'100%', height:'100%', alignContent:'center', justifyContent:'center'}}>\r\n                                                <text  style={{fontWeight:'300', fontSize:24, textAlign:'center'}}>You do not currently have any appointments!</text>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <Table class=\"table\">\r\n                                                <Thead className=\"Prescription-heading\">\r\n                                                    <Tr>\r\n                                            \r\n                                                        <Th className=\"th\" scope=\"col\"> Date </Th>\r\n                                                        <Th className=\"th\" scope=\"col\"> Time </Th>\r\n                                                        <Th className=\"th\" scope=\"col\"> Patient Name </Th>\r\n                                                        {/* <Th className=\"th\" scope=\"col\"> Doctor Name </Th> */}\r\n                                                        <Th className=\"th\" scope=\"col\"> Mode </Th>\r\n                                                        <Th className=\"th\" scope=\"col\"> Type </Th>\r\n                                                        <Th className=\"th\" scope=\"col\"> Action </Th>\r\n\r\n                                                    </Tr>\r\n                                                </Thead>\r\n                                                <Tbody>\r\n                                                    {preDetailsData}\r\n                                                </Tbody>\r\n                                            </Table>\r\n                                        )\r\n                                    }\r\n                                    \r\n                                </div>\r\n                            )\r\n                        }\r\n\r\n                    \r\n                </div>\r\n\r\n                <Modal isOpen={this.state.rescheduleModal} toggle={this.toggleRescheduleModal}>\r\n                    <ModalHeader toggle={this.toggleRescheduleModal}>Online Consultancy Payment</ModalHeader>\r\n                    <ModalBody>\r\n                        {\r\n                            (this.state.appointmentChosen) ? (\r\n                                <div>\r\n                                    <div>\r\n                                        <p>\r\n                                        <Calendar \r\n                                            onChange={this.onCalendarChange}\r\n                                            value={this.state.date}\r\n                                        />\r\n                                        </p>\r\n                                    </div>\r\n                                    <div style={{textAlign: 'center', margin:'1.5vh 0vh'}}>\r\n                                        <button className=\"std-button\" onClick={this.toggleDocSlotsModal}>\r\n                                            View Doctor's Slots\r\n                                        </button>\r\n                                    </div>\r\n                            \r\n                            \r\n                                <div className=\"slot-info\">\r\n                                    <div className=\"row\">\r\n                                    \r\n                                        <div className=\"row\">\r\n                                            <div className=\"slots-margins\">\r\n                                                <span className=\"slots selected-slot\">\r\n                                                </span>\r\n                                                Selected\r\n                                            </div>\r\n                                            <div>\r\n                                                <span className=\"slots booked-slot\">\r\n                                                </span>\r\n                                                Booked\r\n                                            </div>\r\n                                            <div>\r\n                                                <span className=\"slots open-slot\">\r\n                                                </span>\r\n                                                Available\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"slots-row\">\r\n                                \r\n                                {\r\n                                    (this.state.isLoading) ? (\r\n                                        <Loader loading={this.state.isLoading} />\r\n                                    ) : (\r\n                                        (this.state.olderDateSelected) ? (<p>Sorry, you must select a date after today, to book an appointment.</p>) : (\r\n                                            (!this.state.daysAvailable.includes(this.state.dayOfDate) && this.state.dayOfDate) ? (\r\n                                                <p>Sorry, you must select a day when the doctor is available, to book an appointment.</p>\r\n                                            ) : (this.state.leaveSelected) ? (<p>Sorry, the doctor is on a leave on this date, select another date to continue.</p>)\r\n                                             : (\r\n                                                ((this.state.todaySelected) ? (\r\n                                                    (this.state.todaySlotArray) ? (\r\n                                                        (this.state.todaySlotArray[this.state.dayOfDate]) ? (\r\n                                                            (this.state.busyArray.length>0) ? (this.state.todaySlotArray[this.state.dayOfDate].map((slot, index) => {\r\n                                                                if(this.state.busyArray.includes(slot))\r\n                                                                {\r\n                                                                    return(\r\n                                                                        <div className=\"slot-present\">\r\n                                                                            <button className=\"booked-slot_time\" style={{cursor: 'default'}}>\r\n                                                                                <span>\r\n                                                                                    {slot.toString()}\r\n                                                                                </span>\r\n                                                                            </button>\r\n                                                                        </div>\r\n                                                                    )\r\n                                                                }\r\n                                                                else{\r\n                                                                    return(\r\n                                                                        <div className=\"slot-present\">\r\n                                                                            <button className={(this.state.slotClicked != slot) ? `open-slot_time` : `selected-slot_time`} onClick={this.changeSlotSelect.bind(this,slot)}>\r\n                                                                                <span>\r\n                                                                                    {slot.toString()}\r\n                                                                                </span>\r\n                                                                            </button>\r\n                                                                        </div>\r\n                                                                    )\r\n                                                                }\r\n                                                            })) : (\r\n                                                               \r\n                                                                (this.state.dateSelected) ? (\r\n                                                                    this.state.todaySlotArray[this.state.dayOfDate].map((slot, index) => {\r\n                                                                       \r\n                                                                        return(\r\n                                                                            <div className=\"slot-present\">\r\n                                                                                <button className={(this.state.slotClicked != slot) ? `open-slot_time` : `selected-slot_time`} onClick={this.changeSlotSelect.bind(this,slot)}>\r\n                                                                                    <span>\r\n                                                                                        {slot.toString()}\r\n                                                                                    </span>\r\n                                                                                </button>\r\n                                                                            </div>\r\n                                                                        )\r\n                                                                       \r\n                                                                    })\r\n                                                                ) : (<div></div>)\r\n                                                            )\r\n                                                        ) : (<div></div>)\r\n                                                        \r\n        \r\n                                                        \r\n                                                    ) : (<div></div>)\r\n                                                ) : (\r\n                                                    (this.state.slotArray) ? (\r\n                                                        (this.state.slotArray[this.state.dayOfDate]) ? (\r\n                                                            (this.state.busyArray.length>0) ? (this.state.slotArray[this.state.dayOfDate].map((slot, index) => {\r\n                                                                if(this.state.busyArray.includes(slot))\r\n                                                                {\r\n                                                                    return(\r\n                                                                        <div className=\"slot-present\">\r\n                                                                            <button className=\"booked-slot_time\" style={{cursor: 'default'}}>\r\n                                                                                <span>\r\n                                                                                    {slot.toString()}\r\n                                                                                </span>\r\n                                                                            </button>\r\n                                                                        </div>\r\n                                                                    )\r\n                                                                }\r\n                                                                else{\r\n                                                                    return(\r\n                                                                        <div className=\"slot-present\">\r\n                                                                            <button className={(this.state.slotClicked != slot) ? `open-slot_time` : `selected-slot_time`} onClick={this.changeSlotSelect.bind(this,slot)}>\r\n                                                                                <span>\r\n                                                                                    {slot.toString()}\r\n                                                                                </span>\r\n                                                                            </button>\r\n                                                                        </div>\r\n                                                                    )\r\n                                                                }\r\n                                                            })) : (\r\n                                                               \r\n                                                                (this.state.dateSelected) ? (\r\n                                                                    this.state.slotArray[this.state.dayOfDate].map((slot, index) => {\r\n                                                                       \r\n                                                                        return(\r\n                                                                            <div className=\"slot-present\">\r\n                                                                                <button className={(this.state.slotClicked != slot) ? `open-slot_time` : `selected-slot_time`} onClick={this.changeSlotSelect.bind(this,slot)}>\r\n                                                                                    <span>\r\n                                                                                        {slot.toString()}\r\n                                                                                    </span>\r\n                                                                                </button>\r\n                                                                            </div>\r\n                                                                        )\r\n                                                                       \r\n                                                                    })\r\n                                                                ) : (<div></div>)\r\n                                                            )\r\n                                                        ) : (<div></div>)\r\n                                                        \r\n        \r\n                                                        \r\n                                                    ) : (<div></div>)\r\n                                                )\r\n                                                \r\n                                                )\r\n                                             )\r\n                                            \r\n                                            \r\n                                        )\r\n                                    )\r\n                                    \r\n                                }\r\n                            \r\n                                \r\n                               \r\n                            </div>\r\n                            </div>\r\n                            ) : (\r\n                                <div></div>\r\n                            )\r\n                             \r\n                        }\r\n                        \r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <Button color=\"primary\" onClick={this.handlePaymentClick}>Reschedule</Button>\r\n                    </ModalFooter>\r\n                </Modal>   \r\n                       \r\n            </div>\r\n            </div>\r\n        </body>\r\n    );\r\n}\r\n}\r\n\r\nexport default Appointments;","import React, { Component } from 'react';\r\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\r\nimport HomePage from './Components/HomePage/HomePage';\r\nimport Login from './Components/Login/Login';\r\nimport Register from './Components/Register/Register';\r\nimport LoginFor from './Components/LoginFor/LoginFor';\r\nimport Consultancy from './Components/Consultancy/Consultancy'\r\nimport ConsultancyForm from './Components/Consultancy/ConsultancyForm';\r\nimport ThankYou from './Components/ThankYou/ThankYou';\r\nimport Prescriptions from './Components/Prescriptions/Prescriptions';\r\nimport Appointments from './Components/Appointments/Appointments';\r\n\r\nimport { createBrowserHistory } from 'history';\r\n\r\nconst history = createBrowserHistory();\r\n\r\nconst Routes = () => (\r\n    <Router history={history}>\r\n        <Switch>\r\n            <Route exact path='/' component={HomePage}/>\r\n            <Route exact path='/:handle/' component={Login}/>\r\n            <Route exact path='/:handle/Register' component={Register} />\r\n            <Route exact path='/:handle/Consultancy' component={Consultancy} />\r\n            <Route exact path='/:handle/ConsultancyForm' component={ConsultancyForm} />\r\n            <Route exact path='/:handle/Thankyou' component={ThankYou} />\r\n            <Route exact path=\"/:handle/Prescriptions\" component={Prescriptions} />\r\n            <Route exact path=\"/:handle/Appointments\" component={Appointments} />\r\n        </Switch>\r\n    </Router>\r\n\r\n\r\n);\r\n\r\nexport default Routes;","import React, { Component } from 'react'\r\n\r\nimport './App.css';\r\n\r\nimport Routes from './Routes';\r\n\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {  };\r\n  }\r\n  render() {\r\n    return (\r\n       <Routes />\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}