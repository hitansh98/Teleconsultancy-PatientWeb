(this.webpackJsonpdoctorpatient=this.webpackJsonpdoctorpatient||[]).push([[0],{180:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=180},335:function(e,t,a){e.exports=a.p+"static/media/gray-clock.c11959d4.svg"},336:function(e,t,a){},432:function(e,t,a){e.exports=a.p+"static/media/loading-animation.336ce58e.gif"},435:function(e,t,a){e.exports=a.p+"static/media/check-animation.c30af253.gif"},437:function(e,t,a){e.exports=a.p+"static/media/staysafe.9da927ee.gif"},439:function(e,t,a){e.exports=a(960)},446:function(e,t,a){},447:function(e,t,a){},650:function(e,t,a){e.exports=a.p+"static/media/v-consultancy.0451ba19.svg"},651:function(e,t,a){e.exports=a.p+"static/media/o-consultancy.2a556b52.svg"},676:function(e,t){},678:function(e,t){},689:function(e,t){},691:function(e,t){},716:function(e,t){},718:function(e,t){},719:function(e,t){},725:function(e,t){},727:function(e,t){},745:function(e,t){},748:function(e,t){},764:function(e,t){},767:function(e,t){},773:function(e,t){},775:function(e,t){},798:function(e,t){},930:function(e,t){},932:function(e,t){},933:function(e,t){},934:function(e,t){},935:function(e,t){},960:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(84),s=a.n(r),l=(a(444),a(445),a(446),a(30)),i=a(31),c=a(33),d=a(32),m=(a(447),a(34)),u=a(28),p=a(8),h=a(6),g=a.n(h),f=a(11),y=a(256);y.initializeApp({apiKey:"AIzaSyAKLBA1ZtdsJFfo6WHpqCK4YxvyH0_QA2k",authDomain:"teleconsultancy-r34ct.firebaseapp.com",databaseURL:"https://teleconsultancy-r34ct.firebaseio.com",projectId:"teleconsultancy-r34ct",storageBucket:"teleconsultancy-r34ct.appspot.com",messagingSenderId:"925316916399",appId:"1:925316916399:web:7f84c1c0044f749afbe05a",measurementId:"G-QN5CRXN2HM"});var E=y,b=a(430),v=a(314),S=a(315),w=a(316),I=a(122),O=a(39),D=a(189),k=(a(333),a(432)),C=a.n(k),N=function(e){e.loading,Object(D.a)(e,["loading"]);return o.a.createElement(b.a,{isOpen:e.loading},o.a.createElement(S.a,null,o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("img",{src:C.a,height:200,width:200}),o.a.createElement("p",{style:{fontWeight:"heavy",fontSize:20,fontFamily:"Roboto"}}," Loading ... "))))},M=a(10),x=a.n(M),T=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),n.togglePrivacyPolicyModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{privacyPolicyModal:!e.privacyPolicyModal})}))},n.toggleTermsModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{termsModal:!e.termsModal})}))},n.toggleCancellationRefundModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{cancellationRefundModal:!e.cancellationRefundModal})}))},n.toggleButton=function(){n.setState({goToDoctor:!0})},n.state={privacyPolicyModal:!1,termsModal:!1,cancellationRefundModal:!1,goToDoctor:!1},e.location.state&&e.location.state.userLoggedInFromRegister&&(n.state.userLoggedInFromRegister=!0),n}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("body",{className:"landingBody"},o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row",style:{alignContent:"center",height:"100vh"}},o.a.createElement("div",{className:"col-md-6 col-sm-7 col-xs-12 landingIntro"},o.a.createElement("div",{className:"landingLeftBox"},o.a.createElement("div",{className:"landingWelcome"},o.a.createElement("p",{className:"landingHeading",style:{marginLeft:"1.0rem"}},"Teleconsultancy Application")),o.a.createElement("div",null,o.a.createElement("p",{className:"landingSubheading",style:{marginLeft:"1.0rem",marginRight:"1.0rem"}},"We are on a mission to make quality healthcare affordable and accessible for a billion Indians. We empower people with the information and care that they can trust to make better healthcare decisions every day.")),o.a.createElement("hr",{style:{marginTop:"2.0rem",borderColor:"white"}}),o.a.createElement("div",{className:"landingInfoPage"},o.a.createElement("div",null,o.a.createElement("p",{className:"landingHeading",style:{fontSize:22,margin:0}},"Learn more about us")),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",flexWrap:"wrap"}},o.a.createElement("div",{className:"col-md-6 col-sm-12 col-xs-12",style:{padding:0,paddingLeft:"1.0rem",paddingRight:"1.0rem",paddingTop:"1.6rem"}},o.a.createElement("p",{className:"landingSubheading",style:{textAlign:"left",margin:0}},o.a.createElement("span",{className:"links",onClick:this.togglePrivacyPolicyModal},"Privacy Policy")),o.a.createElement("p",{className:"landingSubheading",style:{textAlign:"left",margin:0}},o.a.createElement("span",{className:"links",onClick:this.toggleTermsModal},"Terms ","&"," Conditions")),o.a.createElement("p",{className:"landingSubheading",style:{textAlign:"left",margin:0}},o.a.createElement("span",{className:"links",onClick:this.toggleCancellationRefundModal},"Refunds and Cancellations"))),o.a.createElement("div",{className:"col-md-6 col-sm-12 col-xs-12",style:{marginTop:"1.2rem",padding:0,paddingLeft:"1.0rem",paddingRight:"1.0rem"}},o.a.createElement("p",{className:"landingSubheading",style:{textAlign:"left",fontWeight:600,fontSize:18,margin:0}},"Contact Us:"),o.a.createElement("p",{className:"landingSubheading",style:{textAlign:"left",margin:0}},"sanjayathavale@mobilesurta.com"),o.a.createElement("p",{className:"landingSubheading",style:{textAlign:"left",margin:0}},"B-2, Patil Gardens, Kothrud, Pune"))),o.a.createElement(b.a,{isOpen:this.state.privacyPolicyModal,toggle:this.togglePrivacyPolicyModal},o.a.createElement(v.a,{toggle:this.togglePrivacyPolicyModal},"Privacy Statement"),o.a.createElement(S.a,null,o.a.createElement("p",null,o.a.createElement("b",null,"SECTION 1 - WHAT DO WE DO WITH YOUR INFORMATION?"),o.a.createElement("p",null," When you purchase our services, as part of the purchasing process, we collect the personal information you give us such as your name, address and email address. When you browse our store, we also automatically receive your computer\u2019s internet protocol (IP) address in order to provide us with information that helps us learn about your browser and operating system. Email marketing (if applicable): With your permission, we may send you emails about our store, new products and other updates. "),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 2 - CONSENT"),o.a.createElement("p",null,"How do you get my consent? When you provide us with personal information to complete a transaction, verify your credit card, place an order, we imply that you consent to our collecting it and using it for that specific reason only. If we ask for your personal information for a secondary reason, like marketing, we will either ask you directly for your expressed consent, or provide you with an opportunity to say no."),o.a.createElement("br",null),o.a.createElement("b",null,"How do I withdraw my consent?"),o.a.createElement("p",null,"If after you opt-in, you change your mind, you may withdraw your consent for us to contact you, for the continued collection, use or disclosure of your information, at anytime, by contacting us at sanjayathavale@mobilesurta.com or mailing us at: B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038"),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 3 - DISCLOSURE"),o.a.createElement("p",null,"We may disclose your personal information if we are required by law to do so or if you violate our Terms of Service."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 4 - PAYMENT"),o.a.createElement("p",null,"We use Razorpay for processing payments. We/Razorpay do not store your card data on their servers. The data is encrypted through the Payment Card Industry Data Security Standard (PCI-DSS) when processing payment. Your purchase transaction data is only used as long as is necessary to complete your purchase transaction. After that is complete, your purchase transaction information is not saved."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 4 - PAYMENT"),o.a.createElement("p",null,"We use Razorpay for processing payments. We/Razorpay do not store your card data on their servers. The data is encrypted through the Payment Card Industry Data Security Standard (PCI-DSS) when processing payment. Your purchase transaction data is only used as long as is necessary to complete your purchase transaction. After that is complete, your purchase transaction information is not saved. Our payment gateway adheres to the standards set by PCI-DSS as managed by the PCI Security Standards Council, which is a joint effort of brands like Visa, MasterCard, American Express and Discover. PCI-DSS requirements help ensure the secure handling of credit card information by our store and its service providers. For more insight, you may also want to read terms and conditions of razorpay on https://razorpay.com/."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 5 - THIRD-PARTY SERVICES"),o.a.createElement("p",null,"In general, the third-party providers used by us will only collect, use and disclose your information to the extent necessary to allow them to perform the services they provide to us. However, certain third-party service providers, such as payment gateways and other payment transaction processors, have their own privacy policies in respect to the information we are required to provide to them for your purchase-related transactions. For these providers, we recommend that you read their privacy policies so you can understand the manner in which your personal information will be handled by these providers. In particular, remember that certain providers may be located in or have facilities that are located a different jurisdiction than either you or us. So if you elect to proceed with a transaction that involves the services of a third-party service provider, then your information may become subject to the laws of the jurisdiction(s) in which that service provider or its facilities are located. Once you leave our store\u2019s website or are redirected to a third-party website or application, you are no longer governed by this Privacy Policy or our website\u2019s Terms of Service. When you click on links on our store, they may direct you away from our site. We are not responsible for the privacy practices of other sites and encourage you to read their privacy statements."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 6 - SECURITY"),o.a.createElement("p",null,"To protect your personal information, we take reasonable precautions and follow industry best practices to make sure it is not inappropriately lost, misused, accessed, disclosed, altered or destroyed."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 7 - COOKIES"),o.a.createElement("p",null,"We use cookies to maintain session of your user. It is not used to personally identify you on other websites."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 8 - AGE OF CONSENT"),o.a.createElement("p",null,"By using this site, you represent that you are at least the age of majority in your state or province of residence, or that you are the age of majority in your state or province of residence and you have given us your consent to allow any of your minor dependents to use this site."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 9 - CHANGES TO THIS PRIVACY POLICY"),o.a.createElement("p",null,"We reserve the right to modify this privacy policy at any time, so please review it frequently. Changes and clarifications will take effect immediately upon their posting on the website. If we make material changes to this policy, we will notify you here that it has been updated, so that you are aware of what information we collect, how we use it, and under what circumstances, if any, we use and/or disclose it. If our store is acquired or merged with another company, your information may be transferred to the new owners so that we may continue to sell our services to you."),o.a.createElement("br",null),o.a.createElement("b",null,"QUESTIONS AND CONTACT INFORMATION"),o.a.createElement("p",null,"If you would like to: access, correct, amend or delete any personal information we have about you, register a complaint, or simply want more information contact our Privacy Compliance Officer at sanjayathavale@mobilesutra.com or by mail at B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038"),o.a.createElement("p",null,"Sanjay Athavale"),o.a.createElement("p",null,"B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038"))),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.togglePrivacyPolicyModal},"Okay"))),o.a.createElement(b.a,{isOpen:this.state.termsModal,toggle:this.toggleTermsModal},o.a.createElement(v.a,{toggle:this.toggleTermsModal},"Teleconsultancy Conditions"),o.a.createElement(S.a,null,o.a.createElement("p",null,"I hereby agree and hence give consent that my personal health information may be shared for referral purposes as well as for Medical Insurance purposes. (reimbursement or cashless). It is understood and agreed that the medical information will not be shared with dispensing chemists or drug manufacturers, apart from working diagnosis and prescription part. I also hereby consent to use my clinical information for data collection, research, scientific publication, advertising and surveys without disclosing my identity in any manner and without breach of confidentiality. I have understood the implications of such partial or full disclosure of my information to other agencies, which is required in my own interest. While sharing the information to next caregiver or referral, the doctors have laid down the same standards of confidentiality, but in case of any breach by them, we will not hold any doctor liable in any manner. *ln case of children or insane person, consent provided by the patient's parent/guardian user. "),o.a.createElement("p",null,o.a.createElement("b",null,"Please Note:")),o.a.createElement("p",null,"Online/phone consultation is not a substitute for physical/in-person consultation. Your doctors response may be delayed and is dependant on their availability. Please visit your hospital or nearest medical centre if you need immediate or urgent help.")),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleTermsModal},"Okay"))),o.a.createElement(b.a,{isOpen:this.state.cancellationRefundModal,toggle:this.toggleCancellationRefundModal},o.a.createElement(v.a,{toggle:this.toggleCancellationRefundModal},"Cancellation Policy"),o.a.createElement(S.a,null,o.a.createElement("p",null,"Currently, we do not provide a functionality to cancel booked appointments, but do provide a functionality to re-schedule these appointments, until before 1 day before the date of appointment, in the case of Online Appointments."),o.a.createElement("p",null,"Hence, there would be strictly no refunds, in regards to the transactions undertaken in the appointment booking process.")),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleCancellationRefundModal},"Okay"))),o.a.createElement("div",{style:{textAlign:"center",marginTop:"2.0rem"}},o.a.createElement(I.a,{color:"success",className:"landingButton",onClick:this.toggleButton},"Jump to Doctor"))),this.state.goToDoctor?o.a.createElement(u.a,{push:!0,to:{pathname:"/9767427053/"}}):o.a.createElement("div",null)))))))}}]),a}(n.Component),A=a(35),P=a(291),F=a(292),j=a(294),L=a(185),R=a(295),z=a(296),U=a(297),W=a(293),B=a(148),G=a(313),Y=a(319),q=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isFetching:!0}),t=E.database().ref("doctors/".concat(a.state.doctorId)),e.next=4,t.once("value",function(){var e=Object(f.a)(g.a.mark((function e(t){var n,o,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.val(),a.setState({doctorData:n}),a.setState({doctorName:n.name}),o=n.consultancyFee.FeeCollect_Mode_online,r=n.consultancyFee.FeeCollect_Mode_offline,a.setState({doctorPaymentAlternativeOnline:o}),a.setState({doctorPaymentAlternativeOffline:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.next=6,a.fetchSessionStorageItems();case 6:return e.next=8,a.fetchSlotDetails();case 8:E.auth().onAuthStateChanged((function(e){e?console.log("USER LOGGED IN"):console.log("USER NOT LOGGED IN")}));case 9:case"end":return e.stop()}}),e)}))),a.fetchSessionStorageItems=Object(f.a)(g.a.mark((function e(){var t,n,o,r,s,l,i,c,d,m,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("doctorId"),a.state.handleDocId!=t){e.next=17;break}if(n=sessionStorage.getItem("userLoggedIn"),o=sessionStorage.getItem("userChosen"),r=sessionStorage.getItem("userPhone"),s=sessionStorage.getItem("patientsData"),l=sessionStorage.getItem("userDependentName"),i=sessionStorage.getItem("userCommunicationMode"),"undefined"==n||"undefined"==o||"undefined"==r||"undefined"==s||"undefined"===l||"undefined"===i){e.next=17;break}return a.setState({userLoggedIn:n}),a.setState({userCommunicationMode:i}),"WhatsApp"==i&&"undefined"!==(c=sessionStorage.getItem("userWhatsapp"))&&a.setState({userWhatsapp:c}),a.setState({userPhone:r}),a.setState({userDependentName:l}),e.next=16,a.setState({patientsData:JSON.parse(s)});case 16:s&&(d=JSON.parse(s),m=d.dependents,u=[],m&&(u=Object.keys(m).map((function(e){return m[e]}))),a.setState({dependentsData:u}));case 17:case"end":return e.stop()}}),e)}))),a.fetchSlotDetails=Object(f.a)(g.a.mark((function e(){var t,n,o,r,s,l,i,c,d,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("in doctor fetcher"+a.state.doctorId),console.log(a.state.doctorData),t=a.state.doctorData.slotDetails.timeSlotsTemp,console.log(t),t){for(n=Object.keys(t),o=[],r=0;r<n.length;r++){for(s=Object.keys(t[n[r]]),l=[],i=0;i<s.length;i++)l.push(t[n[r]][s[i]]);c=n[r],(d={})[c]=l,o.push(d)}m={Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6,Sun:7},o.sort((function(e,t){var a=Object.keys(e)[0],n=Object.keys(t)[0];return m[a]-m[n]})),console.log(o),a.setState({dObjArray:o})}a.setState({isFetching:!1});case 6:case"end":return e.stop()}}),e)}))),a.handleTextChange=function(e){return function(t){a.setState(Object(A.a)({},e,t.target.value))}},a.handleSubmit=Object(f.a)(g.a.mark((function e(){var t,n,o,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("self"!=a.state.userChosen){e.next=3;break}return e.next=3,a.setState({userDependentTitle:"Male"==a.state.userDependentGender?"Mr.":"Mrs."});case 3:if("other"!=a.state.userChosen){e.next=30;break}if(console.log(a.state.userDependentAgree+" "+a.state.userDependentNameEntry+" "+a.state.userDependentRelationEntry+" "+a.state.userDependentGenderEntry+" "+a.state.userDependentBirthdateEntry),!a.state.userDependentAgree){e.next=28;break}if(!(a.state.userDependentNameEntry&&a.state.userDependentRelationEntry&&a.state.userDependentGenderEntry&&a.state.userDependentBirthdateEntry)){e.next=24;break}return t={},e.next=10,a.setState({userDependentBirthdate:a.state.userDependentBirthdateEntry,userDependentName:a.state.userDependentNameEntry,userDependentRelation:a.state.userDependentRelationEntry,userDependentGender:a.state.userDependentGenderEntry});case 10:return a.state.userDependentNameEntry,n=0,a.state.patientsData.dependents&&(n=Object.keys(a.state.patientsData.dependents).length),n++,o={name:a.state.userDependentName,relation:a.state.userDependentRelation,title:a.state.userDependentTitle,gender:a.state.userDependentGender,birthdate:a.state.userDependentBirthdate},r="d"+n,e.next=18,a.setState((function(e){return{patientsData:Object(p.a)(Object(p.a)({},e.patientsData),{},{dependents:Object(p.a)(Object(p.a)({},e.patientsData.dependents),{},Object(A.a)({},r,o))})}}));case 18:return t["patients/".concat(a.state.userPhone,"/dependents/d").concat(n)]=o,e.next=21,E.database().ref().update(t);case 21:sessionStorage.setItem("patientsData",JSON.stringify(a.state.patientsData)),e.next=26;break;case 24:return document.getElementById("data-not-found").innerHTML="Please enter required data",e.abrupt("return");case 26:e.next=30;break;case 28:return document.getElementById("data-not-found").innerHTML="Please agree to the aforementioned conditions",e.abrupt("return");case 30:localStorage.setItem("userDependentName",a.state.userDependentTitle+" "+a.state.userDependentName),localStorage.setItem("userDependentId",a.state.userChosenId),localStorage.setItem("userDependentRelation",a.state.userDependentRelation),localStorage.setItem("userDependentGender",a.state.userDependentGender),localStorage.setItem("userDependentBirthdate",a.state.userDependentBirthdate),localStorage.setItem("userId",a.state.userPhone),localStorage.setItem("doctorPaymentAlternativeOnline",a.state.doctorPaymentAlternativeOnline),localStorage.setItem("doctorPaymentAlternativeOffline",a.state.doctorPaymentAlternativeOffline),a.setState({dataSubmitted:!0});case 39:case"end":return e.stop()}}),e)}))),a.handleSelectChange=function(e){return function(){var t=Object(f.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("title"==e&&a.setState({userDependentTitle:n.target.value}),"gender"!=e){t.next=4;break}return t.next=4,a.setState({userDependentGenderEntry:n.target.value});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a.handleDate=function(e){console.log(e.target.value),a.setState({userDependentBirthdateEntry:e.target.value})},a.handleLogout=function(){localStorage.removeItem("doctorId"),window.location.reload()},a.choosePerson=function(e){if(console.log(a.state.patientsData.name),a.setState({userChosen:e.target.value}),"self"==e.target.value)a.setState({userChosenId:"0"}),a.setState({userDependentName:a.state.patientsData.name}),a.setState({userDependentGender:a.state.patientsData.gender}),a.setState({userDependentBirthdate:a.state.patientsData.birthdate}),a.setState({userDependentRelation:"self"}),a.setState({userDependentId:"0"});else if("other"==e.target.value){var t=0;a.state.patientsData.dependents&&(t=Object.keys(a.state.patientsData.dependents).length),t++,a.setState({userChosenId:t.toString()}),a.setState({userDependentId:t.toString()})}else{var n=e.target.value.toString().substring(6),o="d"+n,r=a.state.patientsData.dependents[o];a.setState({userChosenId:n}),a.setState({userDependentId:n}),a.setState({userDependentName:r.name}),a.setState({userDependentTitle:r.title}),a.setState({userDependentRelation:r.relation}),a.setState({userDependentGender:r.gender})}},a.verifyOtp=Object(f.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a.state.patientsData),t=a.state.patientsData.dependents,n=[],t&&(n=Object.keys(t).map((function(e){return t[e]}))),a.setState({dependentsData:n}),console.log("about to enter spnac"),a.submitPhoneNumberAuthCode();case 7:case"end":return e.stop()}}),e)}))),a.verifyUser=function(){a.setState({userVerified:!0})},a.sendOtp=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isVerifying:!0}),e.next=3,E.database().ref("/patients/".concat(a.state.userPhone)).once("value").then(function(){var e=Object(f.a)(g.a.mark((function e(t){var n,o,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.val()){e.next=5;break}return a.setState({userNotFound:!0}),a.setState({isVerifying:!1}),e.abrupt("return");case 5:return e.next=7,a.submitPhoneNumberAuth();case 7:return a.setState({patientsData:n}),(o=n.notifications)&&(r=o.filter((function(e){return null!=e&&e.doctorId==a.state.handleDocId&&0==e.isSeen})),console.log(r),a.setState({notificationData:r})),a.setState({userDependentName:n.name}),a.setState({isVerifying:!1}),a.verifyUser(),console.log("finished in sendOtp"),e.abrupt("return");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),a.submitPhoneNumberAuth=function(){a.setState({isLoading:!0}),console.log("entered reqd fn");var e="+91"+a.state.userPhone,t=new E.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(e){this.submitPhoneNumberAuth()}});E.auth().signInWithPhoneNumber(e,t).then((function(e){window.confirmationResult=e,a.setState({isLoading:!1}),console.log(window.confirmationResult),a.setState({confResult:window.confirmationResult})})).catch((function(e){console.log("i am the spna error :"+e)}))},a.submitPhoneNumberAuthCode=function(){var e=a.state.userOtp;a.state.confResult&&a.state.confResult.confirm(e).then((function(e){var t=e.user;console.log(t),document.getElementById("patient-not-found").innerHTML="",a.setState({userLoggedIn:!0}),console.log(a.state.notificationData),a.state.notificationData&&a.state.notificationData.length>0&&a.setState({userNotificationModal:!0}),localStorage.setItem("doctorId",a.state.doctorId),sessionStorage.setItem("userLoggedIn",!0),sessionStorage.setItem("userChosen","self"),sessionStorage.setItem("userDependentName",a.state.userDependentName),sessionStorage.setItem("userCommunicationMode",a.state.patientsData.communicationMode),"WhatsApp"==a.state.patientsData.communicationMode&&sessionStorage.setItem("userWhatsapp",a.state.patientsData.userWhatsapp),sessionStorage.setItem("userPhone",a.state.userPhone),sessionStorage.setItem("patientsData",JSON.stringify(a.state.patientsData)),sessionStorage.setItem("loginTimestamp",x()(new Date).valueOf())})).then(console.log(a.state.userLoggedIn),console.log(a.state.userChosen)).catch((function(e){console.log("i am the spnac error :"+e),document.getElementById("patient-not-found").innerHTML="Incorrect OTP. Please try again."}))},a.setNotificationsSeen=function(){for(var e=a.state.notificationData,t={},n=0;n<e.length;n++)t["patients/".concat(a.state.userPhone,"/notifications/").concat(e[n].id,"/isSeen")]=!0;E.database().ref().update(t)},a.handleUserNotificationButton=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.toggleUserNotificationModal();case 2:return e.next=4,a.setState({goToPrescriptions:!0});case 4:case"end":return e.stop()}}),e)}))),a.toggleUserLoggedInFromRegisterModal=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{userLoggedInFromRegister:!e.userLoggedInFromRegister})}))},a.toggleSlotPopover=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{slotPopoverOpen:!e.slotPopoverOpen})}))},a.toggleNavbar=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{isNavbarOpen:!e.isNavbarOpen})}))},a.toggleUserDependentAgree=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{userDependentAgree:!e.userDependentAgree})}))},a.toggleUserNotificationModal=function(){a.setState((function(e){return 1==e.userNotificationModal&&a.setNotificationsSeen(),Object(p.a)(Object(p.a)({},e),{},{userNotificationModal:!e.userNotificationModal})}))},a.state={doctorId:a.props.match.params.handle,toggleSwitch:!1,userDependentTitle:"Mr.",dataSubmitted:!1,userChosenId:"0",userDependentRelation:"self",isLoading:!1,handleDocId:a.props.match.params.handle,slotPopoverOpen:!1,userDependentAgree:!1,userNotificationModal:!1},e.location.state&&e.location.state.userLoggedInFromRegister&&(a.state.userLoggedInFromRegister=!0),a}return Object(i.a)(n,[{key:"handleToggleArrow",value:function(){this.setState({toggleSwitch:!this.state.toggleSwitch})}},{key:"render",value:function(){var e=this;return o.a.createElement("body",{className:"body"},o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement(P.a,{dark:!0,light:!0,expand:"md",style:{backgroundColor:"#4be4ac"}},o.a.createElement(F.a,{href:"/".concat(this.state.handleDocId,"/"),style:{color:"#ffffff",fontWeight:"600"}},"Teleconsultancy - Dr. ",this.state.doctorName),this.state.userLoggedIn?o.a.createElement(j.a,{onClick:this.toggleNavbar}):o.a.createElement("div",null),this.state.userLoggedIn?o.a.createElement(L.a,{isOpen:this.state.isNavbarOpen,navbar:!0},o.a.createElement(R.a,{className:"mr-auto",navbar:!0},o.a.createElement(z.a,null,o.a.createElement(U.a,{style:{color:"#ffffff"},href:"/".concat(this.state.handleDocId,"/Appointments")},"My Appointments")),o.a.createElement(z.a,null,o.a.createElement(U.a,{style:{color:"#ffffff"},href:"/".concat(this.state.handleDocId,"/Prescriptions")},"My Prescriptions")),o.a.createElement(z.a,null,o.a.createElement(m.b,{to:{pathname:"/".concat(this.state.handleDocId,"/")}},o.a.createElement(W.a,{style:{color:"#ffffff"},onClick:this.handleLogout}," Logout "))))):o.a.createElement("div",null)),o.a.createElement(b.a,{isOpen:this.state.userLoggedInFromRegister,toggle:this.toggleUserLoggedInFromRegisterModal},o.a.createElement(v.a,{toggle:this.toggleUserLoggedInFromRegisterModal},"Welcome, Hello there!"),o.a.createElement(S.a,null,"Alright, so now that you have registered, let's log you in to your account!"),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleUserLoggedInFromRegisterModal},"Let's go!"))),o.a.createElement(b.a,{isOpen:this.state.userNotificationModal,toggle:this.toggleUserNotificationModal},o.a.createElement(v.a,{toggle:this.toggleUserNotificationModal},"New Updates Found!"),o.a.createElement(S.a,null,"You have the following new notifications:",this.state.notificationData?this.state.notificationData.map((function(e,t){return o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("b",null,t+1,"."),e.notification))})):o.a.createElement("div",null)),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.handleUserNotificationButton},"Go to My Prescriptions."))),this.state.isLoading?o.a.createElement(N,{loading:this.state.isLoading}):o.a.createElement("div",{className:"row"},this.state.isFetching?o.a.createElement(N,{loading:this.state.isFetching}):this.state.doctorData?this.state.toggleSwitch?o.a.createElement("div",null," "):o.a.createElement("div",{className:"col-md-7 col-sm-12 col-xs-12 profile-box"},o.a.createElement("div",{className:"left-box"},o.a.createElement("div",{className:"welcome-box profile-box"},o.a.createElement("p",{className:"heading"},"Welcome to the",o.a.createElement("span",{className:"bold"}," Dr. "+this.state.doctorData.name,"'s consultancy")),o.a.createElement("p",null,this.state.doctorData.description.doctorIntro)),o.a.createElement("div",{className:"profile-box"},o.a.createElement("div",{className:"profile-section"},o.a.createElement("div",{className:"img-box"},o.a.createElement("img",{className:"img-box",src:this.state.doctorData.avatar})),o.a.createElement("div",{className:"timings",id:"SlotPopover",style:{cursor:"pointer"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",textAlign:"right",justifyContent:"center",marginRight:"3vmin"}},o.a.createElement("div",{className:"small-img-box-pull-left"},o.a.createElement("img",{className:"grey-clock-style",src:a(335)})),o.a.createElement("p",{style:{paddingTop:"1vh"}},"Timings")),o.a.createElement(B.a,{isOpen:this.state.slotPopoverOpen,target:"SlotPopover",trigger:"legacy",placement:"left",toggle:this.toggleSlotPopover},o.a.createElement(G.a,null,o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("b",null," The doctor operates on the following days: ")),o.a.createElement("p",null,this.state.dObjArray?this.state.dObjArray.map((function(e,t){return o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("b",null,Object.keys(e)[0],":"),"\u2003"),(console.log(e[Object.keys(e)[0]]),e[Object.keys(e)[0]]?e[Object.keys(e)[0]].map((function(t,a){return e[Object.keys(e)[0]].length<2?o.a.createElement("span",null,o.a.createElement("span",null,t.openTime),o.a.createElement("span",null,"\xa0to\xa0"),o.a.createElement("span",null,t.closeTime)):a!=e[Object.keys(e)[0]].length-1?o.a.createElement("span",null,o.a.createElement("span",null,t.openTime),o.a.createElement("span",null,"\xa0to\xa0"),o.a.createElement("span",null,t.closeTime),o.a.createElement("span",null,",\xa0")):o.a.createElement("span",null,o.a.createElement("span",null,t.openTime),o.a.createElement("span",null,"\xa0to\xa0"),o.a.createElement("span",null,t.closeTime))})):o.a.createElement("div",null)),o.a.createElement("hr",null))})):o.a.createElement("div",null)))))),o.a.createElement("div",{className:"pro-description"},o.a.createElement("p",null,o.a.createElement("span",{className:"bold"},"Dr. "+this.state.doctorData.name),o.a.createElement("br",null),this.state.doctorData.description.hospitalName)))),console.log(this.state.patientsData),o.a.createElement("div",{className:"profile-box"},o.a.createElement("div",{className:"pro-description"},o.a.createElement("p",null,o.a.createElement("span",{className:"bold"},"Education and experience"),o.a.createElement("br",null),this.state.doctorData.description.education))))):o.a.createElement("div",null),o.a.createElement("div",{className:"col-sm-12 xol-xs-12 ".concat(this.state.toggleSwitch?"col-md-12":"col-md-5"),style:{padding:0}},o.a.createElement("div",{className:"login-section text-center"},o.a.createElement("h1",{className:"main-heading"},"Patient Login"),this.state.userLoggedIn?o.a.createElement("p",null,"I want to consult the doctor for"):o.a.createElement("p",null,"If you are already registered patient login with your register mobile number"),o.a.createElement("div",{className:"form-group"},this.state.userLoggedIn?o.a.createElement("div",{class:"patient-dependents"},o.a.createElement("div",{class:"patient-box"},o.a.createElement("div",{class:"chiller_cb"},o.a.createElement("input",{id:"myCheckbox1",type:"radio",name:"for-radio",value:"self",onInput:this.choosePerson}),o.a.createElement("label",{for:"myCheckbox1"},"For Me"),o.a.createElement("span",null)),console.log("after the fetches: "+this.state.dependentsData),this.state.dependentsData?this.state.dependentsData.map((function(t,a){return o.a.createElement("div",{class:"chiller_cb"},o.a.createElement("input",{id:"myCheckbox".concat(a+2),type:"radio",name:"for-radio",value:"person".concat(a+1),onInput:e.choosePerson}),o.a.createElement("label",{for:"myCheckbox".concat(a+2)},"For ".concat(t.title," ").concat(t.name)),o.a.createElement("span",null))})):o.a.createElement("div",null),o.a.createElement("div",{class:"chiller_cb"},o.a.createElement("input",{id:"myCheckboxOther",type:"radio",name:"for-radio",value:"other",onInput:this.choosePerson}),o.a.createElement("label",{for:"myCheckboxOther"},"For Other"),o.a.createElement("span",null))),"other"==this.state.userChosen?o.a.createElement("div",{class:"detail-box"},o.a.createElement("h3",null,"Enter other details"),o.a.createElement("div",null,o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-md-3 col-sm-3 col-xs-12"},o.a.createElement("div",{class:"form-group"},o.a.createElement("select",{class:"form-control",id:"exampleFormControlSelect1",onChange:this.handleSelectChange("title")},o.a.createElement("option",{value:"Mr."},"Mr."),o.a.createElement("option",{value:"Mrs."},"Mrs."),o.a.createElement("option",{value:"Miss."},"Miss."),o.a.createElement("option",{value:"Mst."},"Mst.")))),o.a.createElement("div",{class:"col-md-4 col-sm-4 col-xs-12"},o.a.createElement("div",{class:"form-group"},o.a.createElement("input",{type:"text",name:"dependent-name",class:"std-input",placeholder:"Name",onChange:this.handleTextChange("userDependentNameEntry")}))),o.a.createElement("div",{class:"col-md-5 col-sm-5 col-xs-12"},o.a.createElement("div",{class:"form-group"},o.a.createElement("input",{type:"text",name:"dependent-relation",class:"std-input",placeholder:"Relation with person",onChange:this.handleTextChange("userDependentRelationEntry")}))),o.a.createElement("div",{class:"col-md-5 col-sm-5 col-xs-12"},o.a.createElement("div",{class:"form-group"},o.a.createElement("select",{class:"form-control",id:"exampleFormControlSelect1",onChange:this.handleSelectChange("gender")},o.a.createElement("option",null,"Select your gender"),o.a.createElement("option",{value:"Male"},"Male"),o.a.createElement("option",{value:"Female"},"Female"),o.a.createElement("option",{value:"Other"},"Other")))),o.a.createElement("div",{class:"col-md-5 col-sm-5 col-xs-12"},o.a.createElement("div",{class:"form-group"},o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement("label",{for:"dependent-dob",style:{display:"flex",margin:0,color:"#909090",fontSize:12}},"Enter your Birth Date"),o.a.createElement("input",{type:"date",id:"dependent-dob",name:"dependent-dob",onChange:this.handleDate,className:"std-input",placeholder:"Enter Date of Birth"})))),o.a.createElement("div",{className:"chiller_cb long"},o.a.createElement("input",{id:"myAgreeCheckbox",type:"checkbox",onChange:this.toggleUserDependentAgree}),o.a.createElement("label",{for:"myAgreeCheckbox",style:{marginRight:"1rem"}},"I agree to take responsibility of all my dependents' actions, and agree to pose as guardian to these dependents if any one (but not limited to one) is under the legal age of 18."),o.a.createElement("span",null))))):o.a.createElement("div",null),o.a.createElement("p",{id:"data-not-found"})):this.state.userVerified?o.a.createElement("div",null," ",o.a.createElement("input",{type:"number",pattern:"\\d*",name:"phone number",className:"std-input",placeholder:"Enter the OTP",onChange:this.handleTextChange("userOtp")}),o.a.createElement("p",{id:"patient-not-found"})," "):o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement("input",{type:"number",pattern:"\\d*",inputMode:"numeric",className:"std-input",placeholder:"Enter Your Phone Number",onChange:this.handleTextChange("userPhone")}),this.state.isVerifying?o.a.createElement(Y.a,{style:{margin:"1.3% 3%",width:"2rem",height:"2rem"},color:"dark"}):o.a.createElement("div",null)),o.a.createElement("p",{id:"patient-not-found"}))),o.a.createElement("div",{className:"form-group"},this.state.userLoggedIn?o.a.createElement("button",{className:"".concat(this.state.userChosen?"std-button":"std-button-disabled"),onClick:this.handleSubmit,disabled:!this.state.userChosen},"Submit"):this.state.userVerified?o.a.createElement("button",{className:"std-button",onClick:this.verifyOtp},"Submit OTP"):o.a.createElement("button",{className:"std-button",onClick:this.sendOtp},"Get OTP")),this.state.userLoggedIn?o.a.createElement("div",null):o.a.createElement("div",null,o.a.createElement("hr",null),o.a.createElement("p",null,"If you are not registered patient, please click on the \xa0",o.a.createElement("b",null,"Register"),"\xa0 to register your number"),o.a.createElement("div",{className:"form-group"},o.a.createElement(m.b,{to:"/".concat(this.state.handleDocId,"/Register")},o.a.createElement("button",{className:"std-button"},"Register"))),o.a.createElement("span",{className:"".concat(this.state.toggleSwitch?"toggle-button-rotate":"toggle-button-regi"),onClick:this.handleToggleArrow.bind(this)}))),this.state.dataSubmitted?o.a.createElement(u.a,{push:!0,to:{pathname:"/".concat(this.state.handleDocId,"/Consultancy")}}):o.a.createElement("div",null),this.state.goToPrescriptions?o.a.createElement(u.a,{push:!0,to:{pathname:"/".concat(this.state.handleDocId,"/Prescriptions")}}):o.a.createElement("div",null))),o.a.createElement("div",{id:"recaptcha-container"}),this.state.userNotFound?o.a.createElement(u.a,{push:!0,to:{pathname:"/".concat(this.state.handleDocId,"/Register"),state:{userNotFound:this.state.userNotFound}}}):o.a.createElement("div",null))))}}]),n}(n.Component),H=a(317),V=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isFetching:!0}),t=E.database().ref("doctors/".concat(a.state.doctorId)),e.next=4,t.once("value",function(){var e=Object(f.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.val(),a.setState({doctorData:n}),a.setState({doctorName:n.name});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.next=6,a.fetchSlotDetails();case 6:case"end":return e.stop()}}),e)}))),a.fetchSlotDetails=Object(f.a)(g.a.mark((function e(){var t,n,o,r,s,l,i,c,d,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("in doctor fetcher"+a.state.doctorId),console.log(a.state.doctorData),t=a.state.doctorData.slotDetails.timeSlotsTemp,n=Object.keys(t),o=[],r=0;r<n.length;r++){for(s=Object.keys(t[n[r]]),l=[],i=0;i<s.length;i++)l.push(t[n[r]][s[i]]);c=n[r],(d={})[c]=l,o.push(d)}m={Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6,Sun:7},o.sort((function(e,t){var a=Object.keys(e)[0],n=Object.keys(t)[0];return m[a]-m[n]})),console.log(o),a.setState({dObjArray:o}),a.setState({isFetching:!1});case 11:case"end":return e.stop()}}),e)}))),a.handleInvalidSubmit=function(){document.getElementById("errors-in-form").innerHTML="Please fix errors in form"},a.handleInvalidWhatsapp=function(){document.getElementById("number-invalid").innerHTML="Please enter valid data to proceed"},a.toggleUserNotFoundModal=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{userNotFound:!e.userNotFound})}))},a.toggleUnderageModal=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{toggleUnderage:!e.toggleUnderage})}))},a.saveGuardianData=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:({}),t={"Guardian Name":a.state.guardianName,"Guardian Phone":a.state.guardianPhone,"Guardian Email":a.state.guardianEmail,"Guardian Relationship":a.state.guardianRelationship,"Guardian Address":a.state.guardianAddress},a.setState({guardianDataObject:t}),a.setState({guardianDataFilled:!0});case 4:case"end":return e.stop()}}),e)}))),a.toggleConditionModal=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{toggleCondition:!e.toggleCondition})}))},a.handleTextChange=function(e){return function(t){a.setState(Object(A.a)({},e,t.target.value))}},a.handleDate=function(e){console.log(e.target.value),a.setState({userBirthdate:e.target.value})},a.handleNameChange=function(e){return function(t){var n;a.setState((n={},Object(A.a)(n,e,t.target.value),Object(A.a)(n,"nameError",t.target.validationMessage),n))}},a.handleCheckboxChange=function(e){return function(t){"userUnderage"==e&&1==t.target.checked&&a.setState({toggleUnderage:!0}),a.setState(Object(A.a)({},e,t.target.checked)),console.log(t.target.checked)}},a.handleRegisterClick=Object(f.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("register clicked"),t={},n={name:a.state.userName,phone:a.state.userPhone,gender:a.state.userGender,userUnderage:a.state.userUnderage,communicationMode:a.state.communicationMode,birthdate:a.state.userBirthdate},a.state.userEmail&&(n.email=a.state.userEmail),a.state.userUnderage&&(n.guardian=a.state.guardianDataObject),"WhatsApp"==a.state.communicationMode&&(n.userWhatsapp=a.state.userWhatsapp),t["patients/".concat(a.state.userPhone)]=n,e.next=9,E.database().ref().update(t);case 9:return e.abrupt("return",a.setState({userLoggedInFromRegister:!0}));case 10:case"end":return e.stop()}}),e)}))),a.toggleSlotPopover=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{slotPopoverOpen:!e.slotPopoverOpen})}))},a.toggleNavbar=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{isNavbarOpen:!e.isNavbarOpen})}))},a.toggleCommunicationModeModal=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{communicationModeModal:!e.communicationModeModal})}))},a.state={doctorId:a.props.match.params.handle,toggleSwitch:!1,toggleCondition:!1,toggleUnderage:!1,guardianDataFilled:!1,userUnderage:!1,nameError:"",isFetching:!1,handleDocId:a.props.match.params.handle,slotPopoverOpen:!1,communicationModeModal:!1,userGender:"Male"},e.location.state&&e.location.state.userNotFound&&(console.log("reached user not found"),a.state.userNotFound=!0),a}return Object(i.a)(n,[{key:"handleToggleArrow",value:function(){console.log("I reached arrow click"),this.setState({toggleSwitch:!this.state.toggleSwitch})}},{key:"render",value:function(){return o.a.createElement("body",{className:"body"},o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement("header",{className:"header-style"},o.a.createElement(m.b,{to:{pathname:"/".concat(this.state.handleDocId,"/")}},o.a.createElement("text",{className:"header-title-consultancy"}," Teleconsultancy - Dr. ",this.state.doctorName))),o.a.createElement(b.a,{isOpen:this.state.userNotFound,toggle:this.toggleUserNotFoundModal},o.a.createElement(v.a,{toggle:this.toggleUserNotFoundModal},"Welcome"),o.a.createElement(S.a,null,"We noticed that you do not have an account with us, please register to continue."),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleUserNotFoundModal},"Okay"))),o.a.createElement("div",{className:"row"},this.state.isFetching?(console.log(this.state.isFetching),o.a.createElement(N,{loading:this.state.isFetching})):this.state.doctorData?this.state.toggleSwitch?o.a.createElement("div",null," "):o.a.createElement("div",{className:"col-md-7 col-sm-12 col-xs-12 profile-box"},o.a.createElement("div",{className:"left-box"},o.a.createElement("div",{className:"welcome-box profile-box"},o.a.createElement("p",{className:"heading"},"Welcome to the",o.a.createElement("span",{className:"bold"}," Dr. "+this.state.doctorData.name,"'s consultancy")),o.a.createElement("p",null,this.state.doctorData.description.doctorIntro)),o.a.createElement("div",{className:"profile-box"},o.a.createElement("div",{className:"profile-section"},o.a.createElement("div",{className:"img-box"},o.a.createElement("img",{className:"img-box",src:this.state.doctorData.avatar})),o.a.createElement("div",{className:"timings",id:"SlotPopover",style:{cursor:"pointer"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",textAlign:"right",justifyContent:"center",marginRight:"3vmin"}},o.a.createElement("div",{className:"small-img-box-pull-left"},o.a.createElement("img",{className:"grey-clock-style",src:a(335)})),o.a.createElement("p",{style:{paddingTop:"1vh"}},"Timings")),o.a.createElement(B.a,{isOpen:this.state.slotPopoverOpen,target:"SlotPopover",trigger:"legacy",placement:"left",toggle:this.toggleSlotPopover},o.a.createElement(G.a,null,o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("b",null," The doctor operates on the following days: ")),o.a.createElement("p",null,this.state.dObjArray?this.state.dObjArray.map((function(e,t){return o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("b",null,Object.keys(e)[0],":"),"\u2003"),(console.log(e[Object.keys(e)[0]]),e[Object.keys(e)[0]]?(console.log("entered hotzone"),e[Object.keys(e)[0]].map((function(e,t){return o.a.createElement("span",null,o.a.createElement("span",null,e.openTime),o.a.createElement("span",null,"\xa0to\xa0"),o.a.createElement("span",null,e.closeTime),o.a.createElement("span",null,"\xa0\xa0"))}))):o.a.createElement("div",null)),o.a.createElement("hr",null))})):o.a.createElement("div",null)))))),o.a.createElement("div",{className:"pro-description"},o.a.createElement("p",null,o.a.createElement("span",{className:"bold"},"Dr. "+this.state.doctorData.name),o.a.createElement("br",null),this.state.doctorData.description.hospitalName)))),o.a.createElement("div",{className:"profile-box"},o.a.createElement("div",{className:"pro-description"},o.a.createElement("p",null,o.a.createElement("span",{className:"bold"},"Education and experience"),o.a.createElement("br",null),this.state.doctorData.description.education))))):o.a.createElement("div",null),o.a.createElement("div",{className:"col-sm-12 xol-xs-12 ".concat(this.state.toggleSwitch?"col-md-12":"col-md-5"),style:{padding:0}},o.a.createElement("div",{className:"login-section text-center"},o.a.createElement("h1",{className:"main-heading"},"Patient Registration"),o.a.createElement("p",null,"If you are not registered patient please fillup the form below"),o.a.createElement(O.AvForm,{onValidSubmit:this.handleRegisterClick,onInvalidSubmit:this.handleInvalidSubmit},o.a.createElement(H.a,null,o.a.createElement(O.AvField,{name:"username",className:"std-input",placeholder:"Enter your Full Name*",validate:{required:{value:!0,errorMessage:"Please enter a name"},pattern:{value:"^[A-Za-z\\s]+$",errorMessage:"Names can only contain letters"}},style:{width:"60%"},onChange:this.handleTextChange("userName")})),o.a.createElement(H.a,null,o.a.createElement(O.AvField,{name:"mobilenumber",type:"number",className:"std-input",placeholder:"Enter your Mobile Number*",validate:{required:{value:!0,errorMessage:"Please enter a mobile number"},pattern:{value:"^[789]{1}[0-9]{9}$",errorMessage:"Enter valid 10 digit mobile number"}},style:{width:"60%"},onChange:this.handleTextChange("userPhone")})),o.a.createElement(H.a,null,o.a.createElement(O.AvField,{name:"email-id",type:"email",className:"std-input",style:{width:"60%"},placeholder:"Enter your Email Id",onChange:this.handleTextChange("userEmail")})),o.a.createElement(H.a,null,o.a.createElement(O.AvField,{type:"select",name:"genderSelect",onChange:this.handleTextChange("userGender"),className:"std-input",style:{width:"60%",height:"50px",padding:"10px"},helpMessage:"Enter your gender*"},o.a.createElement("option",{value:"Male"},"Male"),o.a.createElement("option",{value:"Female"},"Female"),o.a.createElement("option",{value:"Other"},"Other"))),o.a.createElement(H.a,null,o.a.createElement(O.AvField,{type:"date",name:"dobSelect",onChange:this.handleDate,required:!0,className:"std-input",style:{width:"60%",height:"50px",padding:"10px"},helpMessage:"Enter your Date of Birth*"})),o.a.createElement("div",{id:"followUpGroup",className:"follow-up-group"},o.a.createElement("div",{style:this.state.userUnderage?{marginBottom:"1rem"}:{marginBottom:"2rem"}},o.a.createElement("div",{className:"chiller_cb",style:{height:"50%",float:"left"}},o.a.createElement("input",{id:"myCheckbox1",type:"checkbox",onChange:this.handleCheckboxChange("userUnderage")}),o.a.createElement("label",{for:"myCheckbox1"}," I am under age of 18. "),o.a.createElement("span",null),o.a.createElement(b.a,{isOpen:this.state.toggleUnderage,toggle:this.toggleUnderageModal},o.a.createElement(O.AvForm,null,o.a.createElement(v.a,{toggle:this.toggleUnderageModal},"User Underage Modal"),o.a.createElement(S.a,null,o.a.createElement(O.AvField,{name:"gname",className:"modal-inputs",placeholder:"Enter Name",validate:{required:{value:!0,errorMessage:"Please enter a name"},pattern:{value:"^[A-Za-z\\s]+$",errorMessage:"Names can only contain letters"}},onChange:this.handleTextChange("guardianName")}),o.a.createElement(O.AvField,{name:"mobilenumber",type:"number",className:"modal-inputs",placeholder:"Enter phone number",validate:{required:{value:!0,errorMessage:"Please enter a mobile number"},pattern:{value:"^[789]{1}[0-9]{9}$",errorMessage:"Enter valid 10 digit mobile number"}},onChange:this.handleTextChange("guardianPhone")}),o.a.createElement(O.AvField,{name:"grelation",className:"modal-inputs",placeholder:"Relationship with you",validate:{required:{value:!0,errorMessage:"Please enter a name"}},onChange:this.handleTextChange("guardianRelationship")}),o.a.createElement(O.AvField,{name:"gemail",type:"email",className:"modal-inputs",placeholder:"Enter E-mail",onChange:this.handleTextChange("guardianEmail")}),o.a.createElement(O.AvField,{name:"gaddress",type:"textarea",className:"modal-inputs",placeholder:"Enter Address",style:{width:"90%"},onChange:this.handleTextChange("guardianAddress")})),o.a.createElement(w.a,null,o.a.createElement(I.a,{type:"submit",color:"primary",onClick:(this.toggleUnderageModal,this.saveGuardianData),disabled:!(this.state.guardianName&&this.state.guardianPhone&&this.state.guardianRelationship&&this.state.guardianEmail&&this.state.guardianAddress)},"Submit Guardian Data")," ",o.a.createElement(I.a,{color:"secondary",onClick:this.toggleUnderageModal},"Cancel")))))),this.state.userUnderage?this.state.guardianDataFilled?o.a.createElement("p",{onClick:this.toggleUnderageModal,style:{textDecoration:"underline",color:"green",float:"right",marginTop:"1rem",cursor:"pointer"}},"To edit guardian data, click here."):o.a.createElement("p",{onClick:this.toggleUnderageModal,style:{textDecoration:"underline",color:"blue",float:"right",marginTop:"1rem",cursor:"pointer"}},"Please finish entering guardian data."):o.a.createElement("p",null),o.a.createElement(H.a,null,o.a.createElement("div",{className:"chiller_cb long",style:{height:"50%",float:"left"}},o.a.createElement("input",{id:"myCheckbox2",type:"checkbox",onChange:this.handleCheckboxChange("userAgree")}),o.a.createElement("label",{for:"myCheckbox2"},"I agree with all "),o.a.createElement("span",null)),o.a.createElement("span",{onClick:this.toggleConditionModal},o.a.createElement("span",null," \xa0 "),o.a.createElement("label",{for:"myCheckbox2",style:{cursor:"pointer",textDecoration:"underline",color:"blue"}}," telemedicine conditions")),o.a.createElement(b.a,{isOpen:this.state.toggleCondition,toggle:this.toggleConditionModal},o.a.createElement(v.a,{toggle:this.toggleConditionModal},"Teleconsultancy Conditions"),o.a.createElement(S.a,null,o.a.createElement("p",null,"I hereby agree and hence give consent that my personal health information may be shared for referral purposes as well as for Medical Insurance purposes. (reimbursement or cashless). It is understood and agreed that the medical information will not be shared with dispensing chemists or drug manufacturers, apart from working diagnosis and prescription part. I also hereby consent to use my clinical information for data collection, research, scientific publication, advertising and surveys without disclosing my identity in any manner and without breach of confidentiality. I have understood the implications of such partial or full disclosure of my information to other agencies, which is required in my own interest. While sharing the information to next caregiver or referral, Dr. ",this.state.doctorName," has laid down the same standards of confidentiality, but in case of any breach by them, we will not hold Dr. ",this.state.doctorName," liable in any manner. *ln case of children or insane person, consent provided by Dr. ",this.state.doctorName," parent/guardian user. "),o.a.createElement("p",null,o.a.createElement("b",null,"Please Note:")),o.a.createElement("p",null,"Online/phone consultation is not a substitute for physical/in-person consultation. Your doctors response may be delayed and is dependant on their availability. Please visit your hospital or nearest medical centre if you need immediate or urgent help.")),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleConditionModal},"Okay"))))),o.a.createElement("div",{style:{paddingBottom:"1vh"}},this.state.communicationMode?o.a.createElement("p",{onClick:this.toggleCommunicationModeModal,style:{textDecoration:"underline",color:"green",marginTop:"1rem",cursor:"pointer"}},"Click to edit your mode of communication"):o.a.createElement("p",{onClick:this.toggleCommunicationModeModal,style:{textDecoration:"underline",color:"blue",marginTop:"1rem",cursor:"pointer"}},"Please configure your mode of communication"," ",o.a.createElement("sup",{style:{color:"red"}},"(required)"))),o.a.createElement(H.a,{style:{paddingBottom:"1vh"}},o.a.createElement(I.a,{className:"".concat(this.state.userName&&this.state.userPhone&&this.state.userGender&&this.state.userBirthdate&&this.state.userAgree&&this.state.communicationMode&&("WhatsApp"!=this.state.communicationMode||this.state.userWhatsapp)&&(!this.state.userUnderage||this.state.guardianDataFilled)?"std-button":"std-button-disabled"),disabled:!(this.state.userName&&this.state.userPhone&&this.state.userGender&&this.state.userBirthdate&&this.state.userAgree&&this.state.communicationMode&&("WhatsApp"!=this.state.communicationMode||this.state.userWhatsapp)&&(!this.state.userUnderage||this.state.guardianDataFilled))},"Register")),o.a.createElement("div",{id:"errors-in-form"})),o.a.createElement("hr",null),o.a.createElement("p",null,"If you are already registered patient, please click on the Login for consultation"),o.a.createElement("div",{className:"form-group"},o.a.createElement(m.b,{to:"/".concat(this.state.handleDocId,"/")},o.a.createElement("button",{className:"std-button"},"Login"))),o.a.createElement("span",{className:"".concat(this.state.toggleSwitch?"toggle-button-rotate":"toggle-button-regi"),onClick:this.handleToggleArrow.bind(this)})))),this.state.userLoggedInFromRegister?o.a.createElement(u.a,{push:!0,to:{pathname:"/".concat(this.state.handleDocId,"/"),state:{userLoggedInFromRegister:this.state.userLoggedInFromRegister}}}):o.a.createElement("div",null))),o.a.createElement(b.a,{isOpen:this.state.communicationModeModal,toggle:this.toggleCommunicationModeModal},o.a.createElement(O.AvForm,{onValidSubmit:this.toggleCommunicationModeModal,onInvalidSubmit:this.handleInvalidWhatsapp},o.a.createElement(v.a,{toggle:this.toggleCommunicationModeModal},"Mode of Communication"),o.a.createElement(S.a,null,o.a.createElement("div",null,o.a.createElement("p",{style:{fontWeight:"bold"}},"Please select your mode of communication."),o.a.createElement("p",null,"How do you want the doctor to interact with you? (By selecting any of the following options, you consent to a verified doctor communicating with you by the respective mode of communication during Offline teleconsultations, in order to better understand your medical ailments, or to give you general teleconsultancy cycle updates or medical advice.)"),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"4vh"}},o.a.createElement("div",{class:"chiller_cb"},o.a.createElement("input",{id:"modeOfCommCheckbox1",type:"radio",name:"modeOfComm",value:"SMS",onChange:this.handleTextChange("communicationMode")}),o.a.createElement("label",{for:"modeOfCommCheckbox1"},"SMS"),o.a.createElement("span",null)),o.a.createElement("div",{class:"chiller_cb"},o.a.createElement("input",{id:"modeOfCommCheckbox2",type:"radio",name:"modeOfComm",value:"WhatsApp",onChange:this.handleTextChange("communicationMode")}),o.a.createElement("label",{for:"modeOfCommCheckbox2"},"WhatsApp"),o.a.createElement("span",null))),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"4vh"}},"WhatsApp"==this.state.communicationMode?o.a.createElement("div",{style:{width:"100%",textAlign:"center"}},o.a.createElement(H.a,null,o.a.createElement(O.AvField,{name:"whatsappnumber",className:"std-input",placeholder:"Enter your whatsapp number",validate:{required:{value:!0,errorMessage:"Please enter a whatsapp number"},pattern:{value:"^[789]{1}[0-9]{9}$",errorMessage:"Enter valid 10 digit whatsapp number"}},style:{width:"70%"},onChange:this.handleTextChange("userWhatsapp")})),o.a.createElement("p",{style:{marginTop:"1vh"},id:"number-invalid"})):o.a.createElement("div",null)))),o.a.createElement(w.a,null,o.a.createElement(H.a,null,o.a.createElement(I.a,{color:"primary"},"Okay"))))))}}]),n}(n.Component),X=(n.Component,a(188)),Q=a(318),K=a(429),Z=a(312),J=a(299),_=a(298),$=(a(336),function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),(t=document.createElement("script")).src="https://checkout.razorpay.com/v1/checkout.js",t.async=!0,t.crossOrigin=!0,document.body.appendChild(t),e.next=8,a.getValuesFromLocalStorage();case 8:return a.fetchDoctorData(),e.next=11,a.getStaticValueFromSessionStorage();case 11:return e.next=13,a.getDynamicValueFromSessionStorage();case 13:case"end":return e.stop()}}),e)}))),a.componentDidUpdate=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getDynamicValueFromSessionStorage();case 2:case"end":return e.stop()}}),e)}))),a.getStaticValueFromSessionStorage=Object(f.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"undefined"!==(t=sessionStorage.getItem("userCommunicationMode"))&&(a.setState({userCommunicationMode:t}),"WhatsApp"==t&&"undefined"!==(n=sessionStorage.getItem("userWhatsapp"))&&a.setState({userWhatsapp:n}));case 2:case"end":return e.stop()}}),e)}))),a.getDynamicValueFromSessionStorage=Object(f.a)(g.a.mark((function e(){var t,n,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sessionStorage.getItem("loginTimestamp")){e.next=7;break}return e.next=4,a.setState({sessionExpired:!0});case 4:localStorage.removeItem("doctorId"),e.next=17;break;case 7:if(n=x()(new Date),o=x()(parseInt(t)),!o.add(30,"m").isBefore(n)){e.next=16;break}return e.next=13,a.setState({sessionExpired:!0});case 13:localStorage.removeItem("doctorId"),e.next=17;break;case 16:sessionStorage.setItem("sessionTimestamp",n);case 17:case"end":return e.stop()}}),e)}))),a.getValuesFromLocalStorage=function(){var e=localStorage.getItem("doctorId"),t=localStorage.getItem("userDependentName"),n=localStorage.getItem("userDependentId"),o=localStorage.getItem("userDependentRelation"),r=localStorage.getItem("userDependentGender"),s=localStorage.getItem("userDependentBirthdate"),l=localStorage.getItem("userId"),i=localStorage.getItem("doctorPaymentAlternativeOnline"),c=localStorage.getItem("doctorPaymentAlternativeOffline");console.log(t),console.log(n),console.log(o),console.log(r),console.log(s),a.setState({doctorId:e}),a.setState({userId:l}),a.setState({dependentInfo:{name:t,id:n,relation:o,gender:r,birthdate:s}}),a.setState({doctorPaymentAlternativeOnline:i}),a.setState({doctorPaymentAlternativeOffline:c})},a.fetchDoctorData=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in doctor fetcher"+a.state.doctorId),t=E.database().ref("doctors/".concat(a.state.doctorId,"/")),e.next=4,t.once("value").then((function(e){var t=e.val();a.setState({doctorData:t}),a.setState({doctorName:t.name}),a.setState({doctorFeeData:t.consultancyFee});var n=t.slotDetails.unavailableDates,o=t.slotDetails.timeSlotsTemp,r=Object.keys(o),s=[];console.log(n);for(var l=0;l<r.length;l++){for(var i=Object.keys(o[r[l]]),c=[],d=0;d<i.length;d++)c.push(o[r[l]][i[d]]);var m={};m[r[l]]=c,s.push(m)}var u={Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6,Sun:7};if(s.sort((function(e,t){var a=Object.keys(e)[0],n=Object.keys(t)[0];return u[a]-u[n]})),console.log(s),a.setState({daysAvailable:r}),a.setState({daysObject:o}),a.setState({dObjArray:s}),n){console.log(n),console.log("entered leave dates");for(var p=[],h=1;h<n.length;h++)for(var g=x()(n[h].From,"DD-MM-YY"),f=x()(n[h].To,"DD-MM-YY"),y=g;!y.isAfter(f);)console.log(y.format("DD-MM-YY")),p.push(y.format("DD-MM-YY")),y.add(1,"d");console.log(p),a.setState({leaveDateArray:p})}}));case 4:return e.next=6,a.setAvailableSlots();case 6:case"end":return e.stop()}}),e)}))),a.setAvailableSlots=function(){for(var e={},t=0;t<a.state.daysAvailable.length;t++){for(var n=a.state.daysObject[a.state.daysAvailable[t]],o=Object.keys(n),r=[],s=0;s<o.length;s++)for(var l=n[o[s]],i=l.openTime,c=l.closeTime,d=parseInt(l.timeAlloted.toString().substring(0,2),10),m=x()(i,"LT",!0),u=x()(c,"LT",!0),p=m;p<u;)r.push(p.format("LT")),p=x()(p).add(d,"m");e[a.state.daysAvailable[t]]=r}a.setState({slotArray:e}),a.setState({isLoading:!1})},a.onCalendarChange=function(){var e=Object(f.a)(g.a.mark((function e(t){var n,o,r,s,l,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=x()(new Date).format("DD-MM-YY"),o=x()(t).format("DD-MM-YY"),r=x()(new Date).format("LT"),o!=n){e.next=18;break}return a.setState({todaySelected:!0}),s=(new Date).toString().substring(0,3),console.log(s),l=Object(A.a)({},s,a.state.slotArray[s]),i=l[s].filter((function(e){return x()(e,"LT")>x()(r,"LT")})),console.log(i),l=Object(A.a)({},s,i),console.log(l),console.log(a.state.slotArray),console.log(a.state.busyArray),e.next=16,a.setState({todaySlotArray:l});case 16:e.next=19;break;case 18:a.setState({todaySelected:!1});case 19:return a.state.leaveDateArray&&a.state.leaveDateArray.includes(o)?(console.log("detected leave day"),a.setState({leaveSelected:!0})):a.setState({leaveSelected:!1}),t<new Date&&o!=n?a.setState({olderDateSelected:!0}):a.setState({olderDateSelected:!1}),a.setState({slotClicked:""}),a.setState({date:t}),a.setState({dateSelected:!0}),a.setState({dayOfDate:t.toString().substr(0,3)}),e.next=27,a.fetchCalendarSlots(t);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.fetchCalendarSlots=function(){var e=Object(f.a)(g.a.mark((function e(t){var n,o,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={year:"2-digit",month:"2-digit",day:"2-digit"},o=(o=t.toLocaleDateString("en-GB",n)).replace(/\//g,""),a.setState({isLoading:!0}),r=E.database().ref("doctors/".concat(a.state.doctorId,"/slotDetails/busySlots/").concat(o)),e.next=8,r.once("value").then((function(e){var t=e.val();if(t){for(var n=Object.keys(t),o=[],r={},s=0;s<n.length;s++)r[s]=t[n[s]];var l=Object.keys(r);for(s=0;s<l.length;s++){var i=x()(r[s].timeBegin,"LT");o.push(i.format("LT"))}a.setState({busyArray:o})}else a.setState({busyArray:[]});a.setState({isLoading:!1})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handlePayButton=Object(f.a)(g.a.mark((function e(){var t,n,o,r,s,l,i,c,d,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,t="online"==a.state.appointmentMode?a.state.date:new Date,n={year:"2-digit",month:"2-digit",day:"2-digit"},o=t.toLocaleDateString("en-GB",n),r=o.replace(/\//g,""),s={},l={id:a.state.doctorId,name:a.state.doctorData.name},i={id:a.state.userId,name:a.state.dependentInfo.name,dependentId:a.state.dependentInfo.id,relation:a.state.dependentInfo.relation,gender:a.state.dependentInfo.gender,birthdate:a.state.dependentInfo.birthdate,phone:a.state.userId},s["patients/".concat(a.state.userId,"/doctorInfo/d").concat(a.state.dependentInfo.id,"/").concat(a.state.doctorId)]=l,s["doctors/".concat(a.state.doctorId,"/patientDetails/").concat(a.state.userId,"/d").concat(a.state.dependentInfo.id)]=i,e.next=12,E.database().ref().update(s);case 12:c=0,c="online"==a.state.appointmentMode?"Follow up"==a.state.appointmentType?parseInt(a.state.doctorData.consultancyFee.followup_online):parseInt(a.state.doctorData.consultancyFee.firstTime_online):"Follow up"==a.state.appointmentType?parseInt(a.state.doctorData.consultancyFee.followup_offline):parseInt(a.state.doctorData.consultancyFee.firstTime_offline),a.setState({consultancyFee:c}),d=E.database().ref("doctors/".concat(a.state.doctorId,"/slotDetails/busySlots/")),m=0,d.once("value",function(){var e=Object(f.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.val())){e.next=10;break}if(!n[r.toString()]){e.next=7;break}return m=Object.keys(n[r.toString()]).length,e.abrupt("return",a.uploadBusySlots(m));case 7:return e.abrupt("return",a.uploadBusySlots(m));case 8:e.next=11;break;case 10:return e.abrupt("return",a.uploadBusySlots(0));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:case"end":return e.stop()}}),e)}))),a.uploadBusySlots=function(){var e=Object(f.a)(g.a.mark((function e(t){var n,o,r,s,l,i,c,d,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,n="online"==a.state.appointmentMode?a.state.date:new Date,o=null,"online"==a.state.appointmentMode?o=a.state.slotClicked:(o=x()(new Date).format("LT"),console.log(o)),r={year:"2-digit",month:"2-digit",day:"2-digit"},s=n.toLocaleDateString("en-GB",r),l=s.replace(/\//g,""),i=new Date,c=i.toLocaleDateString("en-GB",r),c.replace(/\//g,""),"online"!=a.state.appointmentMode){e.next=17;break}return d={},t++,m={id:t,date:s.replace(/\//g,"."),timeBegin:a.state.slotClicked},d["doctors/".concat(a.state.doctorId,"/slotDetails/busySlots/").concat(l,"/").concat(t)]=m,e.next=17,E.database().ref().update(d);case 17:if("online"!=a.state.appointmentMode){e.next=22;break}return e.next=20,a.createAppointmentAndPayOnline();case 20:e.next=25;break;case 22:if("offline"!=a.state.appointmentMode){e.next=25;break}return e.next=25,a.createAppointmentAndPayOffline();case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.createAppointmentAndPayOnline=Object(f.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("fee is "+a.state.consultancyFee),"Before"!=a.state.doctorPaymentAlternativeOnline){e.next=8;break}return t={key:"rzp_live_GyQtumhJW1szIn",amount:100*a.state.consultancyFee,currency:"INR",name:"Mobilesutra Corp",description:"Payment for Appointment",image:"data:image/png;base64,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",handler:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.handlePaymentSuccess(t.razorpay_payment_id);case 2:a.setState({razorPayResp:t.razorpay_payment_id});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),notes:{address:"Razorpay Corporate Office"},theme:{color:"#4be4ac"}},n=new window.Razorpay(t),e.next=6,n.open();case 6:e.next=9;break;case 8:a.handleContinueWithoutPayment();case 9:case"end":return e.stop()}}),e)}))),a.createAppointmentAndPayOffline=Object(f.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("fee is "+a.state.consultancyFee),"Before"!=a.state.doctorPaymentAlternativeOffline){e.next=8;break}return t={key:"rzp_test_sAgw6NczoaNFRz",amount:100*a.state.consultancyFee,currency:"INR",name:a.state.doctorName,description:"Payment for Appointment",image:"data:image/png;base64,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",handler:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.handlePaymentSuccess(t.razorpay_payment_id);case 2:a.setState({razorPayResp:t.razorpay_payment_id});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),notes:{address:"Razorpay Corporate Office"},theme:{color:"#4be4ac"}},n=new window.Razorpay(t),e.next=6,n.open();case 6:e.next=9;break;case 8:a.handleContinueWithoutPayment();case 9:case"end":return e.stop()}}),e)}))),a.handleContinueWithoutPayment=Object(f.a)(g.a.mark((function e(){var t,n,o,r,s,l,i,c,d,m,u,p,h,f,y,b,v;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,t="online"==a.state.appointmentMode?a.state.date:new Date,n=null,"online"==a.state.appointmentMode?n=a.state.slotClicked:(n=x()(new Date).format("LT"),console.log(n)),o={year:"2-digit",month:"2-digit",day:"2-digit"},r=t.toLocaleDateString("en-GB",o),console.log(r),s=r.replace(/\//g,""),l=r.replace(/\//g,"."),i=n.replace(/\s/g,""),c=new Date,d=c.toLocaleDateString("en-GB",o),d.replace(/\//g,""),m=d.replace(/\//g,"."),c.toLocaleTimeString("en-US"),u=x()(c),p=u.format("LT"),h=p.replace(/\s/g,""),p.replace(/\s/g," "),console.log(m+" "+h),f="APPMT-"+a.state.userId+"-"+a.state.doctorId+"-"+s+"-"+i+"-d"+a.state.dependentInfo.id,y={additionalInfo:"",form:[null,{ans:"",ques:""},{ans:"",ques:""},{ans:"",ques:""},{ans:"",ques:""}]},console.log(a.state.userCommunicationMode),console.log(a.state.dependentInfo),b={},b="online"==a.state.appointmentMode?{hasPaid:!1,paymentAlternative:a.state.doctorPaymentAlternativeOnline,patientId:a.state.userId,doctorId:a.state.doctorId,id:f,mode:a.state.appointmentMode,visitType:a.state.appointmentType,dependentInfo:a.state.dependentInfo,dateBooked:m,date:l,timeBegin:n,name:a.state.dependentInfo.name,fee:a.state.consultancyFee,isSeen:!1,diagnosisForm:y,userCommunicationMode:a.state.userCommunicationMode}:{hasPaid:!1,paymentAlternative:a.state.doctorPaymentAlternativeOffline,patientId:a.state.userId,doctorId:a.state.doctorId,id:f,mode:a.state.appointmentMode,visitType:a.state.appointmentType,dependentInfo:a.state.dependentInfo,dateBooked:m,date:l,timeBegin:n,name:a.state.dependentInfo.name,fee:a.state.consultancyFee,isSeen:!1,diagnosisForm:y,userCommunicationMode:a.state.userCommunicationMode},"WhatsApp"==a.state.userCommunicationMode&&(b.userWhatsapp=a.state.userWhatsapp),(v={})["appointments/".concat(f)]=b,e.next=31,E.database().ref().update(v);case 31:localStorage.setItem("dateSelected",t),localStorage.setItem("slotSelected",n),localStorage.setItem("appointmentMode",a.state.appointmentMode),localStorage.setItem("appointmentType",a.state.appointmentType),localStorage.setItem("lastAppointment",JSON.stringify(a.state.lastAppointment)),a.setState({allowedToRedirect:!0});case 37:case"end":return e.stop()}}),e)}))),a.handlePaymentSuccess=function(){var e=Object(f.a)(g.a.mark((function e(t){var n,o,r,s,l,i,c,d,m,u,p,h,f,y,b,v,S,w,I,O,D;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,n="online"==a.state.appointmentMode?a.state.date:new Date,o=null,"online"==a.state.appointmentMode?o=a.state.slotClicked:(o=x()(new Date).format("LT"),console.log(o)),r={year:"2-digit",month:"2-digit",day:"2-digit"},s=n.toLocaleDateString("en-GB",r),console.log(s),l=s.replace(/\//g,""),i=s.replace(/\//g,"."),c=o.replace(/\s/g,""),d=new Date,m=d.toLocaleDateString("en-GB",r),u=m.replace(/\//g,""),p=m.replace(/\//g,"."),d.toLocaleTimeString("en-US"),h=x()(d),f=h.format("LT"),y=f.replace(/\s/g,""),b=f.replace(/\s/g," "),console.log(p+" "+y),v="APPMT-"+a.state.userId+"-"+a.state.doctorId+"-"+l+"-"+c+"-d"+a.state.dependentInfo.id,S="PYMT-"+a.state.userId+"-"+a.state.doctorId+"-"+u+"-"+y,console.log(S),w={additionalInfo:"",form:[null,{ans:"",ques:""},{ans:"",ques:""},{ans:"",ques:""},{ans:"",ques:""}]},I={},console.log(a.state.userCommunicationMode),console.log(a.state.dependentInfo),I=(a.state.appointmentMode,{hasPaid:!0,patientId:a.state.userId,doctorId:a.state.doctorId,id:v,mode:a.state.appointmentMode,visitType:a.state.appointmentType,dependentInfo:a.state.dependentInfo,dateBooked:p,date:i,timeBegin:o,name:a.state.dependentInfo.name,fee:a.state.consultancyFee,isSeen:!1,paymentId:S,diagnosisForm:w,userCommunicationMode:a.state.userCommunicationMode}),"WhatsApp"==a.state.userCommunicationMode&&(I.userWhatsapp=a.state.userWhatsapp),O={amount:a.state.consultancyFee,appointmentId:v,date:p,doctorId:a.state.doctorId,dependentInfo:a.state.dependentInfo,id:S,patientId:a.state.userId,time:b,paymentIdRP:t,type:"Appointment Payment"},(D={})["appointments/".concat(v)]=I,D["payments/".concat(S)]=O,e.next=35,E.database().ref().update(D);case 35:localStorage.setItem("dateSelected",n),localStorage.setItem("slotSelected",o),localStorage.setItem("appointmentMode",a.state.appointmentMode),localStorage.setItem("appointmentType",a.state.appointmentType),localStorage.setItem("lastAppointment",JSON.stringify(a.state.lastAppointment)),a.setState({allowedToRedirect:!0});case 41:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changeSlotSelect=function(e){var t=x()(e,"LT");a.setState({slotClicked:t.format("LT")})},a.toggleAppointmentMode=function(e){return function(t){"online"==e&&a.handleOnlineClickScroll(),"offline"==e&&a.handleOfflineClickScroll(),a.setState({appointmentMode:e})}},a.changeAppointmentType=function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("First Time"!=a.state.appointmentType){e.next=5;break}return e.next=3,a.checkFollowupAppointment();case 3:e.next=6;break;case 5:a.setState({appointmentType:"First Time"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.checkFollowupAppointment=Object(f.a)(g.a.mark((function e(){var t,n,o,r,s,l,i,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.date,n={year:"2-digit",month:"2-digit",day:"2-digit"},o=t.toLocaleDateString("en-GB",n),o.replace(/\//g,""),r=new Date,s=r.toLocaleDateString("en-GB",n),s.replace(/\//g,""),l=x()(t),i=x()(r),c=E.database().ref("appointments"),e.next=12,c.orderByChild("patientId").equalTo(a.state.userId).once("value",function(){var e=Object(f.a)(g.a.mark((function e(n){var o,s,c,d,m,u,p,h;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.val(),console.log(o),!o){e.next=20;break}if(s=[],n.forEach((function(e){var t=e.val();console.log(t.doctorId+" "+a.state.handleDocId+" "+t.dependentInfo.id+" "+a.state.dependentInfo.id),t.doctorId==a.state.handleDocId&&t.dependentInfo.id==a.state.dependentInfo.id&&s.push(t)})),console.log(s),!(s.length<1)){e.next=12;break}return"online"==a.state.appointmentMode?document.getElementById("myCheckbox1").checked=!1:document.getElementById("myCheckbox2").checked=!1,a.setState({appointmentType:"First Time"}),a.setState({notFollowup:!0}),a.setState({notFollowupModal:!0}),e.abrupt("return");case 12:s.sort((function(e,t){var a=x()(e.date,"DD-MM-YY"),n=x()(t.date,"DD-MM-YY"),o=x()(e.timeBegin,"LT"),r=x()(t.timeBegin,"LT");if(x()(a).isSame(n)){if(console.log("having to sort times"),x()(o).isAfter(r))return-1;if(x()(o).isBefore(r))return 1}return x()(a).isAfter(n)?-1:x()(a).isBefore(n)?1:void 0})),console.log(s),a.setState({lastAppointment:s[0]}),c=s[0].date,d=x()(c,"DD-MM-YY"),"online"==a.state.appointmentMode?((m=l).subtract(parseInt(a.state.doctorFeeData.followup_online_period),"days"),console.log(m>d),console.log(m.format("DD-MM-YY")),console.log(d.format("DD-MM-YY")),u=x()(t),console.log(u.format("DD-MM-YY")),u.isBefore(d)||m.isAfter(d)?(document.getElementById("myCheckbox1").checked=!1,a.setState({appointmentType:"First Time"}),a.setState({notFollowup:!0}),a.setState({notFollowupModal:!0})):(a.setState({notFollowup:!1}),a.setState({appointmentType:"Follow up"}))):((p=i).subtract(parseInt(a.state.doctorFeeData.followup_online_period),"days"),console.log(p.format("DD-MM-YY")),console.log(d.format("DD-MM-YY")),h=x()(r),console.log(h.format("DD-MM-YY")),h.isBefore(d)||p.isAfter(d)?(document.getElementById("myCheckbox2").checked=!1,a.setState({appointmentType:"First Time"}),a.setState({notFollowup:!0}),a.setState({notFollowupModal:!0})):(a.setState({notFollowup:!1}),a.setState({appointmentType:"Follow up"}))),e.next=24;break;case 20:"online"==a.state.appointmentMode?document.getElementById("myCheckbox1").checked=!1:document.getElementById("myCheckbox2").checked=!1,a.setState({appointmentType:"First Time"}),a.setState({notFollowup:!0}),a.setState({notFollowupModal:!0});case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return e.stop()}}),e)}))),a.toggleGuideModal=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{guideModalOpen:!e.guideModalOpen})}))},a.toggleOfflineClick=function(){a.togglePayClick(),a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{payOfflineClick:!e.payOfflineClick})}))},a.toggleOnlineClick=function(){a.togglePayClick(),a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{payOnlineClick:!e.payOnlineClick})}))},a.toggleErrorModal=function(){a.togglePayClick(),a.setState({payOfflineClick:!1}),a.setState({payOnlineClick:!1})},a.toggleNotFollowupModal=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{notFollowupModal:!e.notFollowupModal})}))},a.togglePayClick=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{payClick:!e.payClick})}))},a.toggleDocSlotsModal=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{viewDocSlotsModal:!e.viewDocSlotsModal})}))},a.toggleNavbar=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{isNavbarOpen:!e.isNavbarOpen})}))},a.togglePrivacyPolicyModal=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{privacyPolicyModal:!e.privacyPolicyModal})}))},a.toggleTermsModal=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{termsModal:!e.termsModal})}))},a.toggleCancellationRefundModal=function(){a.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{cancellationRefundModal:!e.cancellationRefundModal})}))},a.handleOnlineClickScroll=function(){a.calendarRef.current&&a.calendarRef.current.scrollIntoView({behavior:"smooth",block:"nearest"})},a.handleOfflineClickScroll=function(){a.buttonsRef.current&&a.buttonsRef.current.scrollIntoView({behavior:"smooth",block:"nearest"})},a.state={isLoading:!1,date:new Date,appointmentType:"First Time",busyArray:[],doctorData:{},payClick:!1,payOfflineClick:!1,payOnlineClick:!1,daysAvailable:[],viewDocSlotsModal:!1,handleDocId:a.props.match.params.handle,guideModalOpen:!0,notFollowup:!1,notFollowupModal:!1,sessionExpired:!1,privacyPolicyModal:!1,termsModal:!1,cancellationRefundModal:!1},a.calendarRef=o.a.createRef(),a.buttonsRef=o.a.createRef(),a}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("body",{className:"body"},o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement(P.a,{dark:!0,expand:"md",style:{backgroundColor:"#4be4ac"}},o.a.createElement(F.a,{href:"/".concat(this.state.handleDocId,"/"),style:{color:"#ffffff",fontWeight:"600"}},"Teleconsultancy - Dr. ",this.state.doctorName),o.a.createElement(j.a,{onClick:this.toggleNavbar}),o.a.createElement(L.a,{isOpen:this.state.isNavbarOpen,navbar:!0},o.a.createElement(R.a,{className:"mr-auto",navbar:!0},o.a.createElement(z.a,null,o.a.createElement(U.a,{style:{color:"#ffffff"},href:"/".concat(this.state.handleDocId,"/Appointments")},"My Appointments")),o.a.createElement(z.a,null,o.a.createElement(U.a,{style:{color:"#ffffff"},href:"/".concat(this.state.handleDocId,"/Prescriptions")},"My Prescriptions")),o.a.createElement(Q.a,{nav:!0,inNavbar:!0},o.a.createElement(K.a,{color:"success",style:{color:"#ffffff"},nav:!0,caret:!0},"Important Info ",o.a.createElement(Z.a,{color:"danger"},"3")),o.a.createElement(J.a,{className:"bg-nav",right:!0},o.a.createElement(_.a,{className:"bg-nav-option",style:{color:"#fff"},onClick:this.togglePrivacyPolicyModal},"Privacy Policy"),o.a.createElement(_.a,{className:"bg-nav-option",style:{color:"#fff"},onClick:this.toggleTermsModal},"Terms and Conditions"),o.a.createElement(_.a,{className:"bg-nav-option",style:{color:"#fff"},onClick:this.toggleCancellationRefundModal},"Refund Policy"))),o.a.createElement(z.a,null,o.a.createElement(m.b,{to:{pathname:"/".concat(this.state.handleDocId,"/")}},o.a.createElement(W.a,{style:{color:"#ffffff"},onClick:function(){localStorage.removeItem("doctorId")}}," Logout ")))))),this.state.sessionExpired?o.a.createElement("div",null,o.a.createElement(u.a,{push:!0,to:{pathname:"/".concat(this.state.handleDocId,"/")}})):o.a.createElement("div",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 col-sm-12 col-xs-12 consultancyMargins"},o.a.createElement("div",{className:"pro-description cunsultancyMargins"},o.a.createElement("div",{className:"row",style:{borderBottom:"0.75px solid #d3d3d3",padding:"3rem 3rem 3rem 0rem",cursor:"pointer"},onClick:this.toggleAppointmentMode("online")},o.a.createElement("div",{style:{position:"absolute",textAlign:"center",width:"100%",alignSelf:"center"},className:"".concat("offline"==this.state.appointmentMode?"showButton":"hideButton")},o.a.createElement("button",{style:{border:"1.5px solid black"},className:"std-button"},"CLICK TO SWITCH TO ONLINE CONSULTANCY")),o.a.createElement("div",{className:"row ".concat("offline"!=this.state.appointmentMode?"":"blurEffectMode")},o.a.createElement("div",{className:"col-md-3 c-imagebox"},o.a.createElement("img",{src:a(650)})),o.a.createElement("div",{className:"col-md-9"},o.a.createElement("p",null,o.a.createElement("h4",null," Online Consultancy "),"Using online consultancy, patient can talk with doctor using the video call. So patient can virtually consult with the doctor."),o.a.createElement("hr",null),o.a.createElement("br",null),this.state.doctorFeeData?o.a.createElement("div",null,o.a.createElement("h5",null," Consultancy Fee (First Visit) : Rs. ",this.state.doctorFeeData.firstTime_online,"/- "),o.a.createElement("h6",null," Consultancy Fee (Follow-up Visit) : Rs. ",this.state.doctorFeeData.followup_online,"/- ")):o.a.createElement("div",null),o.a.createElement("br",null),o.a.createElement("p",null,o.a.createElement("b",null,"Note:")," ","For online consultancy you need to take doctor's appointment in available slots")))),o.a.createElement("div",{className:"row",style:{borderTop:"0.75px solid #d3d3d3",padding:"3rem 3rem 3rem 0rem",cursor:"pointer"},onClick:this.toggleAppointmentMode("offline")},o.a.createElement("div",{style:{position:"absolute",textAlign:"center",width:"100%",alignSelf:"center"},className:"".concat("online"==this.state.appointmentMode?"showButton":"hideButton")},o.a.createElement("button",{style:{border:"1.5px solid black"},className:"std-button"},"CLICK TO SWITCH TO OFFLINE CONSULTANCY")),o.a.createElement("div",{className:"row ".concat("online"!=this.state.appointmentMode?"":"blurEffectMode")},o.a.createElement("div",{className:"col-md-3 c-imagebox"},o.a.createElement("img",{src:a(651)})),o.a.createElement("div",{className:"col-md-9"},o.a.createElement("p",null,o.a.createElement("h4",null,"Offline Consultancy"),"Using offline consultancy, patient can visit the doctor at his clinic, just how conventional consultations work. So patient can personally, and physically  consult with the doctor."),o.a.createElement("hr",null),o.a.createElement("br",null),this.state.doctorFeeData?o.a.createElement("div",null,o.a.createElement("h5",null," Consultancy Fee (First Visit) : Rs. ",this.state.doctorFeeData.firstTime_offline,"/- "),o.a.createElement("h6",null," Consultancy Fee (Follow-up Visit) : Rs. ",this.state.doctorFeeData.followup_offline,"/- ")):o.a.createElement("div",null),o.a.createElement("br",null),o.a.createElement("p",null,o.a.createElement("b",null,"Note:")," ","For offline consultancy you need to take doctor's appointment in available slots")))),o.a.createElement("hr",null))),o.a.createElement("div",{className:"col-md-6 col-sm-12 col-xs-12 calenderMargin ".concat(this.state.appointmentMode?"":"blurEffectCalendar")},o.a.createElement("div",{style:{display:"flex"},ref:this.calendarRef},o.a.createElement("div",{style:{position:"absolute",textAlign:"center",width:"100%",alignSelf:"center",cursor:"not-allowed"},className:"".concat("offline"==this.state.appointmentMode?"showButton":"hideButton")},o.a.createElement(I.a,{color:"info",style:{border:"1.5px solid black",cursor:"not-allowed"}},"CALENDAR NOT REQUIRED FOR OFFLINE CONSULTANCY")),o.a.createElement("div",{className:"".concat("offline"==this.state.appointmentMode?"blurEffectCalendar":"")},o.a.createElement(X.a,{onChange:this.onCalendarChange,value:this.state.date}),o.a.createElement("div",{style:{textAlign:"center",margin:"1.5vh 0vh"}},o.a.createElement("button",{className:"std-button",onClick:this.toggleDocSlotsModal},"View Doctor's Slots")),o.a.createElement("div",{className:"slot-info"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"slots-margins"},o.a.createElement("span",{className:"slots selected-slot"}),"Selected"),o.a.createElement("div",null,o.a.createElement("span",{className:"slots booked-slot"}),"Booked"),o.a.createElement("div",null,o.a.createElement("span",{className:"slots open-slot"}),"Available")))))),o.a.createElement("div",{className:"appointment-box"},o.a.createElement("div",{className:"slot-prensentation ".concat("offline"==this.state.appointmentMode?"blurEffectCalendar":"")},o.a.createElement("div",{className:"slots-row"},this.state.isLoading?o.a.createElement(N,{loading:this.state.isLoading}):this.state.olderDateSelected?o.a.createElement("p",null,"Sorry, you must select a date after today, to book an appointment."):!this.state.daysAvailable.includes(this.state.dayOfDate)&&this.state.dayOfDate?o.a.createElement("p",null,"Sorry, you must select a day when the doctor is available, to book an appointment."):this.state.leaveSelected?o.a.createElement("p",null,"Sorry, the doctor is on a leave on this date, select another date to continue."):this.state.todaySelected?this.state.todaySlotArray&&this.state.todaySlotArray[this.state.dayOfDate]?this.state.busyArray.length>0?this.state.todaySlotArray[this.state.dayOfDate].map((function(t,a){return e.state.busyArray.includes(t)?o.a.createElement("div",{className:"slot-present"},o.a.createElement("button",{className:"booked-slot_time",style:{cursor:"default"}},o.a.createElement("span",null,t.toString()))):o.a.createElement("div",{className:"slot-present"},o.a.createElement("button",{className:e.state.slotClicked!=t?"open-slot_time":"selected-slot_time",onClick:e.changeSlotSelect.bind(e,t)},o.a.createElement("span",null,t.toString())))})):this.state.dateSelected?this.state.todaySlotArray[this.state.dayOfDate].map((function(t,a){return o.a.createElement("div",{className:"slot-present"},o.a.createElement("button",{className:e.state.slotClicked!=t?"open-slot_time":"selected-slot_time",onClick:e.changeSlotSelect.bind(e,t)},o.a.createElement("span",null,t.toString())))})):o.a.createElement("div",null):o.a.createElement("div",null):this.state.slotArray&&this.state.slotArray[this.state.dayOfDate]?this.state.busyArray.length>0?this.state.slotArray[this.state.dayOfDate].map((function(t,a){return e.state.busyArray.includes(t)?o.a.createElement("div",{className:"slot-present"},o.a.createElement("button",{className:"booked-slot_time",style:{cursor:"default"}},o.a.createElement("span",null,t.toString()))):o.a.createElement("div",{className:"slot-present"},o.a.createElement("button",{className:e.state.slotClicked!=t?"open-slot_time":"selected-slot_time",onClick:e.changeSlotSelect.bind(e,t)},o.a.createElement("span",null,t.toString())))})):this.state.dateSelected?this.state.slotArray[this.state.dayOfDate].map((function(t,a){return o.a.createElement("div",{className:"slot-present"},o.a.createElement("button",{className:e.state.slotClicked!=t?"open-slot_time":"selected-slot_time",onClick:e.changeSlotSelect.bind(e,t)},o.a.createElement("span",null,t.toString())))})):o.a.createElement("div",null):o.a.createElement("div",null))),o.a.createElement("div",null,"offline"==this.state.appointmentMode?o.a.createElement("div",null,o.a.createElement("div",{className:"chiller_cb pull-left",style:{marginLeft:0,marginTop:"2vh"}},o.a.createElement("input",{id:"myCheckbox2",type:"checkbox",onChange:this.changeAppointmentType}),o.a.createElement("label",{for:"myCheckbox2"}," Tick if this is a follow-up appointment "),o.a.createElement("span",null)),o.a.createElement("div",{className:"form-group"},o.a.createElement("button",{className:"std-button",onClick:this.toggleOfflineClick},"Book Offline Appointment"))):o.a.createElement("div",null," "),"online"==this.state.appointmentMode?this.state.dateSelected&&this.state.slotClicked?o.a.createElement("div",null,o.a.createElement("div",{className:"chiller_cb pull-left",style:{marginLeft:0,marginTop:"2vh"}},o.a.createElement("input",{id:"myCheckbox1",type:"checkbox",onChange:this.changeAppointmentType}),o.a.createElement("label",{for:"myCheckbox1"}," Tick if this is a follow-up appointment "),o.a.createElement("span",null)),o.a.createElement("div",{className:"form-group"},o.a.createElement("button",{className:"std-button",onClick:this.toggleOnlineClick},"Book Online Slots"))):o.a.createElement("div",null,o.a.createElement("p",null,"Select a valid date and slot from the interactive section above.")):o.a.createElement("div",null," "))))),o.a.createElement(b.a,{isOpen:this.state.guideModalOpen,toggle:this.toggleGuideModal},o.a.createElement(v.a,{toggle:this.toggleGuideModal},"Note"),o.a.createElement(S.a,null,"In this page, you must select one of Online or Offline consultancy sections. To select, click on either, and proceed with booking your slot. Incase you want to change your preference later, you can click on your respective preference to switch to it."),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleGuideModal},"Okay"))),o.a.createElement(b.a,{isOpen:this.state.payClick&&!this.state.slotClicked&&!(this.state.payClick&&this.state.payOfflineClick),toggle:this.toggleErrorModal},o.a.createElement(v.a,{toggle:this.toggleErrorModal},"Error"),o.a.createElement(S.a,null,"You must select a valid slot before you proceed with payment."),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleErrorModal},"Okay"))),o.a.createElement(b.a,{isOpen:this.state.notFollowupModal,toggle:this.toggleNotFollowupModal},o.a.createElement(v.a,{toggle:this.toggleNotFollowupModal},"Error"),o.a.createElement(S.a,null,o.a.createElement("p",null,"Your appointment was not found to be a followup appointment, because of one of the following reasons:"),o.a.createElement("p",null,"1. You do not have any appointments in our records."),o.a.createElement("p",null,"2. The request exceeded the maximum time limit for followups set by the doctor."),o.a.createElement("p",null,"3. The  request was set for ",o.a.createElement("b",null,"BEFORE")," an already existing appointment.")),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleNotFollowupModal},"Okay"))),o.a.createElement(b.a,{isOpen:this.state.payOnlineClick&&this.state.slotClicked,toggle:this.toggleOnlineClick},o.a.createElement(v.a,{toggle:this.toggleOnlineClick},"Online Consultancy Payment"),o.a.createElement(S.a,null,this.state.doctorFeeData?o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("b",null," Patient Name: ")," ",this.state.dependentInfo.name),o.a.createElement("hr",null),o.a.createElement("p",null,o.a.createElement("b",null," Appointment Mode: ")," Online"),o.a.createElement("hr",null),o.a.createElement("p",null,o.a.createElement("b",null," Appointment Details: ")," ",this.state.date.toString().slice(0,15)+" "+this.state.slotClicked),o.a.createElement("hr",null),o.a.createElement("p",null,o.a.createElement("b",null," Appointment Fees: ")," ","First Time"==this.state.appointmentType?o.a.createElement("span",null," Rs. ",this.state.doctorFeeData.firstTime_online," /-"):o.a.createElement("span",null," Rs. ",this.state.doctorFeeData.followup_online," /- (follow up)"))):o.a.createElement("div",null),o.a.createElement("div",{style:{textAlign:"center",marginTop:"2em"}},o.a.createElement("button",{className:"std-button primary",onClick:this.handlePayButton},"Continue")))),o.a.createElement(b.a,{isOpen:this.state.payOfflineClick,toggle:this.toggleOfflineClick},o.a.createElement(v.a,{toggle:this.toggleOfflineClick},"Offline Consultancy Payment"),o.a.createElement(S.a,null,this.state.doctorFeeData?o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("b",null," Patient Name: ")," ",this.state.dependentInfo.name),o.a.createElement("hr",null),o.a.createElement("p",null,o.a.createElement("b",null," Appointment Mode: ")," Offline"),o.a.createElement("hr",null),o.a.createElement("p",null,o.a.createElement("b",null," Appointment Details: ")," ",(new Date).toString().slice(0,15)+" "+x()(new Date).format("LT")),o.a.createElement("hr",null),o.a.createElement("p",null,o.a.createElement("b",null," Appointment Fees: ")," ","First Time"==this.state.appointmentType?o.a.createElement("span",null," Rs. ",this.state.doctorFeeData.firstTime_offline," /-"):o.a.createElement("span",null," Rs. ",this.state.doctorFeeData.followup_offline," /- (follow up)"))):o.a.createElement("div",null),o.a.createElement("div",{style:{textAlign:"center",marginTop:"2em"}},o.a.createElement("button",{className:"std-button primary",onClick:this.handlePayButton},"Continue")))),o.a.createElement(b.a,{isOpen:this.state.viewDocSlotsModal,toggle:this.toggleDocSlotsModal},o.a.createElement(v.a,{toggle:this.toggleDocSlotsModal},"Doctor's operational timings"),o.a.createElement(S.a,null,o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("b",null," The doctor operates on the following days: ")),o.a.createElement("hr",null),o.a.createElement("p",null,this.state.dObjArray?this.state.dObjArray.map((function(e,t){return o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("b",null,Object.keys(e)[0],":"),"\u2003"),e[Object.keys(e)[0]]?e[Object.keys(e)[0]].map((function(e,t){return o.a.createElement("span",null,o.a.createElement("span",null,e.openTime),o.a.createElement("span",null,"\xa0to\xa0"),o.a.createElement("span",null,e.closeTime),o.a.createElement("span",null,"\xa0\xa0"))})):o.a.createElement("div",null),o.a.createElement("hr",null))})):o.a.createElement("div",null)))),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleDocSlotsModal},"Okay"))),o.a.createElement(b.a,{isOpen:this.state.privacyPolicyModal,toggle:this.togglePrivacyPolicyModal},o.a.createElement(v.a,{toggle:this.togglePrivacyPolicyModal},"Privacy Statement"),o.a.createElement(S.a,null,o.a.createElement("p",null,o.a.createElement("b",null,"SECTION 1 - WHAT DO WE DO WITH YOUR INFORMATION?"),o.a.createElement("p",null," When you purchase our services, as part of the purchasing process, we collect the personal information you give us such as your name, address and email address. When you browse our store, we also automatically receive your computer\u2019s internet protocol (IP) address in order to provide us with information that helps us learn about your browser and operating system. Email marketing (if applicable): With your permission, we may send you emails about our store, new products and other updates. "),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 2 - CONSENT"),o.a.createElement("p",null,"How do you get my consent? When you provide us with personal information to complete a transaction, verify your credit card, place an order, we imply that you consent to our collecting it and using it for that specific reason only. If we ask for your personal information for a secondary reason, like marketing, we will either ask you directly for your expressed consent, or provide you with an opportunity to say no."),o.a.createElement("br",null),o.a.createElement("b",null,"How do I withdraw my consent?"),o.a.createElement("p",null,"If after you opt-in, you change your mind, you may withdraw your consent for us to contact you, for the continued collection, use or disclosure of your information, at anytime, by contacting us at sanjayathavale@mobilesurta.com or mailing us at: B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038"),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 3 - DISCLOSURE"),o.a.createElement("p",null,"We may disclose your personal information if we are required by law to do so or if you violate our Terms of Service."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 4 - PAYMENT"),o.a.createElement("p",null,"We use Razorpay for processing payments. We/Razorpay do not store your card data on their servers. The data is encrypted through the Payment Card Industry Data Security Standard (PCI-DSS) when processing payment. Your purchase transaction data is only used as long as is necessary to complete your purchase transaction. After that is complete, your purchase transaction information is not saved."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 4 - PAYMENT"),o.a.createElement("p",null,"We use Razorpay for processing payments. We/Razorpay do not store your card data on their servers. The data is encrypted through the Payment Card Industry Data Security Standard (PCI-DSS) when processing payment. Your purchase transaction data is only used as long as is necessary to complete your purchase transaction. After that is complete, your purchase transaction information is not saved. Our payment gateway adheres to the standards set by PCI-DSS as managed by the PCI Security Standards Council, which is a joint effort of brands like Visa, MasterCard, American Express and Discover. PCI-DSS requirements help ensure the secure handling of credit card information by our store and its service providers. For more insight, you may also want to read terms and conditions of razorpay on https://razorpay.com/."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 5 - THIRD-PARTY SERVICES"),o.a.createElement("p",null,"In general, the third-party providers used by us will only collect, use and disclose your information to the extent necessary to allow them to perform the services they provide to us. However, certain third-party service providers, such as payment gateways and other payment transaction processors, have their own privacy policies in respect to the information we are required to provide to them for your purchase-related transactions. For these providers, we recommend that you read their privacy policies so you can understand the manner in which your personal information will be handled by these providers. In particular, remember that certain providers may be located in or have facilities that are located a different jurisdiction than either you or us. So if you elect to proceed with a transaction that involves the services of a third-party service provider, then your information may become subject to the laws of the jurisdiction(s) in which that service provider or its facilities are located. Once you leave our store\u2019s website or are redirected to a third-party website or application, you are no longer governed by this Privacy Policy or our website\u2019s Terms of Service. When you click on links on our store, they may direct you away from our site. We are not responsible for the privacy practices of other sites and encourage you to read their privacy statements."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 6 - SECURITY"),o.a.createElement("p",null,"To protect your personal information, we take reasonable precautions and follow industry best practices to make sure it is not inappropriately lost, misused, accessed, disclosed, altered or destroyed."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 7 - COOKIES"),o.a.createElement("p",null,"We use cookies to maintain session of your user. It is not used to personally identify you on other websites."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 8 - AGE OF CONSENT"),o.a.createElement("p",null,"By using this site, you represent that you are at least the age of majority in your state or province of residence, or that you are the age of majority in your state or province of residence and you have given us your consent to allow any of your minor dependents to use this site."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 9 - CHANGES TO THIS PRIVACY POLICY"),o.a.createElement("p",null,"We reserve the right to modify this privacy policy at any time, so please review it frequently. Changes and clarifications will take effect immediately upon their posting on the website. If we make material changes to this policy, we will notify you here that it has been updated, so that you are aware of what information we collect, how we use it, and under what circumstances, if any, we use and/or disclose it. If our store is acquired or merged with another company, your information may be transferred to the new owners so that we may continue to sell our services to you."),o.a.createElement("br",null),o.a.createElement("b",null,"QUESTIONS AND CONTACT INFORMATION"),o.a.createElement("p",null,"If you would like to: access, correct, amend or delete any personal information we have about you, register a complaint, or simply want more information contact our Privacy Compliance Officer at sanjayathavale@mobilesutra.com or by mail at B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038"),o.a.createElement("p",null,"Sanjay Athavale"),o.a.createElement("p",null,"B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038"))),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.togglePrivacyPolicyModal},"Okay"))),o.a.createElement(b.a,{isOpen:this.state.termsModal,toggle:this.toggleTermsModal},o.a.createElement(v.a,{toggle:this.toggleTermsModal},"Teleconsultancy Conditions"),o.a.createElement(S.a,null,o.a.createElement("p",null,"I hereby agree and hence give consent that my personal health information may be shared for referral purposes as well as for Medical Insurance purposes. (reimbursement or cashless). It is understood and agreed that the medical information will not be shared with dispensing chemists or drug manufacturers, apart from working diagnosis and prescription part. I also hereby consent to use my clinical information for data collection, research, scientific publication, advertising and surveys without disclosing my identity in any manner and without breach of confidentiality. I have understood the implications of such partial or full disclosure of my information to other agencies, which is required in my own interest. While sharing the information to next caregiver or referral, the doctors have laid down the same standards of confidentiality, but in case of any breach by them, we will not hold any doctor liable in any manner. *ln case of children or insane person, consent provided by the patient's parent/guardian user. "),o.a.createElement("p",null,o.a.createElement("b",null,"Please Note:")),o.a.createElement("p",null,"Online/phone consultation is not a substitute for physical/in-person consultation. Your doctors response may be delayed and is dependant on their availability. Please visit your hospital or nearest medical centre if you need immediate or urgent help.")),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleTermsModal},"Okay"))),o.a.createElement(b.a,{isOpen:this.state.cancellationRefundModal,toggle:this.toggleCancellationRefundModal},o.a.createElement(v.a,{toggle:this.toggleCancellationRefundModal},"Cancellation Policy"),o.a.createElement(S.a,null,o.a.createElement("p",null,"Currently, we do not provide a functionality to cancel booked appointments, but do provide a functionality to re-schedule these appointments, until before 1 day before the date of appointment, in the case of Online Appointments."),o.a.createElement("p",null,"Hence, there would be strictly no refunds, in regards to the transactions undertaken in the appointment booking process.")),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleCancellationRefundModal},"Okay"))),this.state.allowedToRedirect?o.a.createElement(u.a,{push:!0,to:{pathname:"/".concat(this.state.handleDocId,"/ConsultancyForm")}}):o.a.createElement("div",null),o.a.createElement("div",{ref:this.buttonsRef}))))}}]),n}(n.Component)),ee=a(150),te=(a(652),a(434)),ae=a.n(te);var ne=function(e){var t=function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.meta,"https://httpbin.org/post",e.abrupt("return",{url:"https://httpbin.org/post"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(t){return e.viewIsUploading(5),Promise.allSettled(t.map((function(a,n){E.storage().ref().child("/imagesTemp/".concat(e.keyString,"/").concat(a.file.name)).put(a.file,a.meta).then((function(t){console.log(n),t.ref.getDownloadURL().then((function(t){return console.log("File available at",t),e.changeUrlValue(t),e.viewIsUploading(2),"image"==a.file.type.substring(0,5)?e.changeImageArray():"video"==a.file.type.substring(0,5)?e.changeVideoArray():void 0}))})).then((function(a){console.log(t.length),console.log("entered here in then"),n==t.length-1&&(e.changeIsUploading(),e.toggleOpenUploadingModal())}))}))),r(t)},n=function(){var t=Object(f.a)(g.a.mark((function t(n,o){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.viewIsUploading(0),e.changeIsUploading(),e.viewIsUploading(1),a(o);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),r=function(t){t.forEach((function(e){return e.remove()})),e.viewIsUploading(4)};return o.a.createElement(ae.a,{getUploadParams:t,onChangeStatus:function(e,t){var a=e.meta;console.log(t,a)},onSubmit:n,accept:"image/*,video/*",submitButtonContent:"Upload",inputContent:function(e,t){return t.reject?"Image or video files only":"Upload images/videos by click or drop"},styles:{dropzoneReject:{borderColor:"red",backgroundColor:"#DAA"},inputLabel:function(e,t){return t.reject?{color:"red"}:{}},previewImage:{width:150,height:150,maxWidth:200,maxHeight:200}}})},oe=(a(653),a(261)),re=a.n(oe),se=(a(921),a(435)),le=a.n(se),ie=function(e){e.loading,Object(D.a)(e,["loading"]);return o.a.createElement(b.a,{isOpen:e.loading},o.a.createElement(S.a,null,o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("img",{src:le.a,height:200,width:200}),o.a.createElement("p",{style:{fontWeight:"heavy",fontSize:20,fontFamily:"Roboto"}}," Finished uploading! ")),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:e.toggleHasUploaded},"Okay"))))},ce=a(436),de=a.n(ce),me={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:2}},ue=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),e.next=3,n.setValuesFromLocalStorage();case 3:return n.fetchDoctorData(),e.next=6,n.getValueFromSessionStorage();case 6:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getValueFromSessionStorage();case 2:case"end":return e.stop()}}),e)}))),n.getValueFromSessionStorage=Object(f.a)(g.a.mark((function e(){var t,a,o,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sessionStorage.getItem("loginTimestamp"),console.log(t),console.log("i check for session expiry"),t){e.next=9;break}return e.next=6,n.setState({sessionExpired:!0});case 6:localStorage.removeItem("doctorId"),e.next=22;break;case 9:if(a=x()(new Date),o=x()(parseInt(t)),r=o.add(30,"m"),console.log(a),console.log(o),console.log(r),!r.isBefore(a)){e.next=21;break}return e.next=18,n.setState({sessionExpired:!0});case 18:localStorage.removeItem("doctorId"),e.next=22;break;case 21:sessionStorage.setItem("sessionTimestamp",a);case 22:case"end":return e.stop()}}),e)}))),n.setValuesFromLocalStorage=function(){var e=localStorage.getItem("doctorId"),t=localStorage.getItem("userDependentName"),a=localStorage.getItem("userDependentId"),o=localStorage.getItem("userDependentRelation"),r=localStorage.getItem("userDependentGender"),s=localStorage.getItem("userId"),l=localStorage.getItem("slotSelected"),i=localStorage.getItem("dateSelected"),c=localStorage.getItem("appointmentMode"),d=localStorage.getItem("appointmentType"),m=localStorage.getItem("lastAppointment"),u=localStorage.getItem("doctorPaymentAlternativeOnline"),p=localStorage.getItem("doctorPaymentAlternativeOffline");console.log(m);var h="";"undefined"!=m&&(h=JSON.parse(m)),n.setState({doctorId:e}),n.setState({userId:s}),n.setState({dependentInfo:{name:t,id:a,relation:o,gender:r}}),console.log(t),console.log(a),console.log(o),n.setState({slotSelected:l}),n.setState({dateSelected:new Date(i)}),n.setState({appointmentMode:c.substring(0,1).toUpperCase()+c.substring(1)}),n.setState({appointmentType:d}),n.setState({lastAppointment:h}),n.setState({doctorPaymentAlternativeOnline:u}),n.setState({doctorPaymentAlternativeOffline:p})},n.fetchDoctorData=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.database().ref("doctors/".concat(n.state.doctorId)),console.log(n.state.lastAppointment),t.once("value").then((function(e){var t=e.val(),a=[],o=[],r=[];console.log(t),n.setState({doctorData:t}),n.setState({doctorName:t.name});for(var s=0;s<Object.keys(t.diagnosisFormData).length;s++){var l=[];if(a.push(t.diagnosisFormData[s+1].ques),o.push(t.diagnosisFormData[s+1].type),"text"==t.diagnosisFormData[s+1].type)l.push(0);else for(var i=0;i<t.diagnosisFormData[s+1].options.length-1;i++)l.push(t.diagnosisFormData[s+1].options[i+1]);r.push(l)}if(n.setState({diagnosisFormMedia:t.diagnosisFormMedia}),n.setState({diagnosisFormQuestionData:a}),n.setState({diagnosisFormTypeData:o}),n.setState({diagnosisFormAnswerData:r}),"Follow up"==n.state.appointmentType){var c=[],d=[];console.log(typeof n.state.lastAppointment);var m=n.state.lastAppointment.date,u=n.state.lastAppointment.timeBegin;if(console.log(n.state.lastAppointment.diagnosisForm.form),n.state.lastAppointment.diagnosisForm.form){d=c.concat(n.state.lastAppointment.diagnosisForm.form),c=n.state.lastAppointment.diagnosisForm.form;var p=n.state.lastAppointment.diagnosisForm.additionalInfo;if(n.state.lastAppointment.media){for(var h=n.state.lastAppointment.media.images,g=[],f=0;f<Object.keys(h).length;f++)g[f]=h[f];n.setState({previousAppointmentMedia:g})}c.shift(),n.setState({previousAppointmentAddInfo:p}),n.setState({previousFormData:c}),n.setState({previousFormObj:d})}n.setState({previousAppointmentDate:m}),n.setState({previousAppointmentTime:u})}var y=n.state.dateSelected;console.log(y);var E={year:"2-digit",month:"2-digit",day:"2-digit"},b=y.toLocaleDateString("en-GB",E),v=b.replace(/\//g,""),S=(b.replace(/\//g,"."),n.state.slotSelected.replace(/\s/g,"")),w=new Date,I=w.toLocaleDateString("en-GB",E),O=I.replace(/\//g,""),D=I.replace(/\//g,"."),k=(w.toLocaleTimeString("en-US"),x()(w).format("LT")),C=k.replace(/\s/g,"");k.replace(/\s/g,".");console.log(D+" "+C);var N="APPMT-"+n.state.userId+"-"+n.state.doctorId+"-"+v+"-"+S+"-d"+n.state.dependentInfo.id,M="PYMT-"+n.state.userId+"-"+n.state.doctorId+"-"+O+"-"+C;console.log(M),n.setState({paymentStr:M}),n.setState({keyString:N})})).then(n.setState({isLoading:!1}));case 3:case"end":return e.stop()}}),e)}))),n.handleAnswerChange=function(e){return function(t){var a=t.target.value;if(n.setState(Object(A.a)({},e,a)),console.log(e),console.log(a),"Answ"==e.substring(0,4)){var o="".concat(e.substring(4)).concat(a),r=parseInt("".concat(e.substring(4))),s=n.state.finalAnswersArray;s[r-1]=o,n.setState({finalAnswersArray:s})}if("Resp"==e.substring(0,4)){var l="".concat(e.substring(4)).concat(a),i=parseInt("".concat(e.substring(4))),c=n.state.finalAnswersArray;c[i-1]=l,n.setState({finalAnswersArray:c})}}},n.handleFollowUpClick=Object(f.a)(g.a.mark((function e(){var t,a,o,r,s,l,i,c,d,m,u,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.additionalInfo){e.next=7;break}return e.next=3,n.setState({dataNotFilled:!0});case 3:return e.next=5,n.setState({dataNotFilledModal:!0});case 5:e.next=9;break;case 7:return e.next=9,n.setState({dataNotFilled:!1});case 9:if(n.state.dataNotFilled){e.next=40;break}return t={},a=n.state.dateSelected,o={year:"2-digit",month:"2-digit",day:"2-digit"},r=a.toLocaleDateString("en-GB",o),s=r.replace(/\//g,""),r.replace(/\//g,"."),l=n.state.slotSelected.replace(/\s/g,""),i=new Date,c=i.toLocaleDateString("en-GB",o),c.replace(/\//g,""),c.replace(/\//g,"."),i.toLocaleTimeString("en-US"),d=x()(i),m=d.format("LT"),m.replace(/\s/g,""),m.replace(/\s/g," "),console.log("entered follow up submit click"),"APPMT-"+n.state.userId+"-"+n.state.doctorId+"-"+s+"-"+l+"-d"+n.state.dependentInfo.id,console.log(n.state.previousFormObj),console.log(n.state.previousAppointmentMedia),console.log(x()(new Date).format("DD.MM.YY h:m A")),u={form:n.state.previousFormObj,additionalInfo:n.state.previousAppointmentAddInfo+"\n"+n.state.additionalInfo+" (as of "+x()(new Date).format("DD.MM.YY hh:mm A")+")"},p={},p=n.state.previousAppointmentMedia?{images:[].concat(Object(ee.a)(n.state.previousAppointmentMedia),[n.state.imagesArray]),video:n.state.videosArray}:{images:n.state.imagesArray,video:n.state.videosArray},t["appointments/".concat(n.state.keyString,"/diagnosisForm")]=u,t["appointments/".concat(n.state.keyString,"/media")]=p,e.next=38,E.database().ref().update(t);case 38:console.log("even finished uploads"),n.setState({hasUploaded:!0});case 40:case"end":return e.stop()}}),e)}))),n.handleSubmitClick=Object(f.a)(g.a.mark((function e(){var t,a,o,r,s,l,i,c,d,m,u,p,h,f,y,b,v,S;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=!0,a=0;a<n.state.diagnosisFormQuestionData.length;a++)console.log(a+" "+n.state.finalAnswersArray[a]),void 0==n.state.finalAnswersArray[a]&&(n.state.finalAnswersArray[a]=!1),t=t&&n.state.finalAnswersArray[a],console.log(t);if(t&&n.state.additionalInfo){e.next=9;break}return e.next=5,n.setState({dataNotFilled:!0});case 5:return e.next=7,n.setState({dataNotFilledModal:!0});case 7:e.next=11;break;case 9:return e.next=11,n.setState({dataNotFilled:!1});case 11:if(console.log(n.state.dataNotFilled),n.state.dataNotFilled){e.next=42;break}if(console.log("must not enter before everything filled"),o={},r=n.state.dateSelected,s={year:"2-digit",month:"2-digit",day:"2-digit"},l=r.toLocaleDateString("en-GB",s),i=l.replace(/\//g,""),l.replace(/\//g,"."),c=n.state.slotSelected.replace(/\s/g,""),d=new Date,m=d.toLocaleDateString("en-GB",s),m.replace(/\//g,""),m.replace(/\//g,"."),d.toLocaleTimeString("en-US"),u=x()(d),p=u.format("LT"),p.replace(/\s/g,""),p.replace(/\s/g," "),console.log("entered submit click"),"APPMT-"+n.state.userId+"-"+n.state.doctorId+"-"+i+"-"+c+"-d"+n.state.dependentInfo.id,h={},n.state.diagnosisFormQuestionData)for(f=0;f<n.state.diagnosisFormQuestionData.length;f++){for(y=[],h[f+1]={},b=0;b<n.state.finalAnswersArray.length;b++)console.log(n.state.finalAnswersArray),n.state.finalAnswersArray[b].substring(0,1)==(f+1).toString()&&(console.log(b+n.state.finalAnswersArray[b]),y.push(n.state.finalAnswersArray[b].substring(1)));h[f+1].ques=n.state.diagnosisFormQuestionData[f],h[f+1].ans=y[0]}return v={form:h,additionalInfo:n.state.additionalInfo+" (as of "+x()(new Date).format("DD.MM.YY hh:mm A")+")"},S={images:n.state.imagesArray,video:n.state.videosArray},o["appointments/".concat(n.state.keyString,"/diagnosisForm")]=v,o["appointments/".concat(n.state.keyString,"/media")]=S,e.next=40,E.database().ref().update(o);case 40:console.log("even finished uploads"),n.setState({hasUploaded:!0});case 42:case"end":return e.stop()}}),e)}))),n.changeImageArray=function(){n.setState((function(e){return{imagesArray:[].concat(Object(ee.a)(e.imagesArray),[e.urlValue]),mediaItems:[].concat(Object(ee.a)(e.mediaItems),[{original:e.urlValue,thumbnail:e.urlValue}])}}))},n.changeVideoArray=function(){n.setState((function(e){return{videosArray:[].concat(Object(ee.a)(e.videosArray),[e.urlValue])}}))},n.changeUrlValue=function(e){n.setState({urlValue:e})},n.changeIsUploading=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{isUploading:!e.isUploading})}))},n.viewIsUploading=function(e){console.log(n.state.isUploading+" "+e)},n.toggleHasUploaded=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{hasUploaded:!e.hasUploaded})})),n.setState({animationSeen:!0})},n.handleCarouselClick=function(){console.log("carousel clicked"),n.toggleImageGalleryModal()},n.toggleImageGalleryModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{imageGalleryModal:!e.imageGalleryModal})}))},n.toggleErrorModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{dataNotFilledModal:!e.dataNotFilledModal})}))},n.toggleMediaErrorModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{mediaNotUploaded:!e.mediaNotUploaded})}))},n.toggleOpenUploadingModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{openUploadingModal:!e.openUploadingModal})}))},n.toggleNavbar=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{isNavbarOpen:!e.isNavbarOpen})}))},console.log(e.location.state),n.state={isLoading:!1,dataNotFilled:!1,dataNotFilledModal:!1,finalAnswersArray:[],urlValue:"",imagesArray:[],videosArray:[],diagnosisFormMedia:[],isUploading:!1,hasUploaded:!1,animationSeen:!1,handleDocId:n.props.match.params.handle,imageGalleryModal:!1,mediaItems:[],sessionExpired:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("body",{className:"body"},o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement(P.a,{dark:!0,expand:"md",style:{backgroundColor:"#4be4ac"}},o.a.createElement(F.a,{href:"/".concat(this.state.handleDocId,"/"),style:{color:"#ffffff",fontWeight:"600"}},"Teleconsultancy - Dr. ",this.state.doctorName),o.a.createElement(j.a,{onClick:this.toggleNavbar}),o.a.createElement(L.a,{isOpen:this.state.isNavbarOpen,navbar:!0},o.a.createElement(R.a,{className:"mr-auto",navbar:!0},o.a.createElement(z.a,null,o.a.createElement(U.a,{style:{color:"#ffffff"},href:"/".concat(this.state.handleDocId,"/Appointments")},"My Appointments")),o.a.createElement(z.a,null,o.a.createElement(U.a,{style:{color:"#ffffff"},href:"/".concat(this.state.handleDocId,"/Prescriptions")},"My Prescriptions")),o.a.createElement(z.a,null,o.a.createElement(m.b,{to:{pathname:"/".concat(this.state.handleDocId,"/")}},o.a.createElement(W.a,{style:{color:"#ffffff"},onClick:function(){localStorage.removeItem("doctorId")}}," Logout ")))))),this.state.sessionExpired?o.a.createElement("div",null,o.a.createElement(u.a,{push:!0,to:{pathname:"/".concat(this.state.handleDocId,"/")}})):o.a.createElement("div",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{class:"col-md-12 col-sm-12 col-xs-12 Consultancy-box"},"First Time"==this.state.appointmentType?o.a.createElement("h2",null,this.state.appointmentMode," Consultancy"):o.a.createElement("h2",null,this.state.appointmentType," ",this.state.appointmentMode," Consultancy"),o.a.createElement("div",{class:"consultancy-section"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{class:"col-md-6 col-sm-12 col-xs-12"},o.a.createElement("div",{class:"question-box"},o.a.createElement("div",null,this.state.dependentInfo?"Follow up"==this.state.appointmentType?o.a.createElement("h4",null,"Hello ",this.state.dependentInfo.name+"! ","Your previous answers are"):o.a.createElement("h4",null,"Hello ",this.state.dependentInfo.name+"! ","Answer the general questions"):o.a.createElement("div",null," "),"Follow up"==this.state.appointmentType?this.state.diagnosisFormQuestionData?this.state.diagnosisFormQuestionData.map((function(t,a){return o.a.createElement("div",{class:"question-set"},o.a.createElement("p",null,t),e.state.previousFormData?e.state.previousFormData[a]?o.a.createElement("p",{style:{fontWeight:"bold",fontSize:18}},o.a.createElement("span",{style:{fontWeight:"bolder"}},"Ans:")," ",e.state.previousFormData[a].ans):o.a.createElement("div",null):o.a.createElement("div",{style:{width:"100%",textAlign:"center",marginTop:"5vh"}},o.a.createElement(Y.a,{style:{width:"2rem",height:"2rem"},color:"dark"})))})):o.a.createElement("div",{style:{width:"100%",textAlign:"center",marginTop:"5vh"}},o.a.createElement(Y.a,{style:{width:"2rem",height:"2rem"},color:"dark"})):this.state.diagnosisFormQuestionData?this.state.diagnosisFormQuestionData.map((function(t,a){return o.a.createElement("div",{class:"question-set"},o.a.createElement("p",null,t," ",o.a.createElement("sup",{style:{color:"red"}},"(required)")),e.state.diagnosisFormTypeData?"text"==e.state.diagnosisFormTypeData[a]?o.a.createElement("div",null,o.a.createElement("textarea",{id:"myText".concat(a),type:"text",name:"Answ".concat(a+1),placeholder:"Enter your response",onChange:e.handleAnswerChange("Answ".concat(a+1))})):e.state.diagnosisFormAnswerData?e.state.diagnosisFormAnswerData[a].map((function(t,n){return o.a.createElement("div",{class:"chiller_cb"},o.a.createElement("input",{id:"myCheckbox".concat(a).concat(n),type:"radio",name:"Resp".concat(a+1),value:t,onChange:e.handleAnswerChange("Resp".concat(a+1))}),o.a.createElement("label",{for:"myCheckbox".concat(a).concat(n)},t),o.a.createElement("span",null))})):o.a.createElement("div",{style:{width:"100%",textAlign:"center",marginTop:"5vh"}},o.a.createElement(Y.a,{style:{width:"2rem",height:"2rem"},color:"dark"})):o.a.createElement("div",{style:{width:"100%",textAlign:"center",marginTop:"5vh"}},o.a.createElement(Y.a,{style:{width:"2rem",height:"2rem"},color:"dark"})))})):o.a.createElement("div",{style:{width:"100%",textAlign:"center",marginTop:"5vh"}},o.a.createElement(Y.a,{style:{width:"2rem",height:"2rem"},color:"dark"}))))),this.state.isLoading||!this.state.diagnosisFormQuestionData||this.state.isUploading?o.a.createElement(N,{loading:this.state.isLoading||this.state.isUploading||!this.state.diagnosisFormQuestionData}):o.a.createElement("div",null),o.a.createElement("div",{class:"col-md-6 col-sm-12 col-xs-12"},o.a.createElement("div",{class:"offlin-collection"},o.a.createElement("h4",null,"Upload photos/videos "),o.a.createElement("br",null),o.a.createElement("p",null,"Upload some images of your infected eyes or take a video. Please see the demo video wich shows how to take pictures to send the doctor."),o.a.createElement("div",{class:"demo-videobox"},o.a.createElement("iframe",{width:"100%",height:"315",src:this.state.diagnosisFormMedia.videoUrl,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})),"Follow up"==this.state.appointmentType?o.a.createElement("div",{onClick:this.handleCarouselClick},o.a.createElement(re.a,{responsive:me},this.state.previousAppointmentMedia?this.state.previousAppointmentMedia.map((function(e){return o.a.createElement("div",null,o.a.createElement("img",{src:"".concat(e),width:"125",height:"100"}))})):o.a.createElement("div",null))):o.a.createElement("div",null,o.a.createElement(I.a,{color:"success",onClick:this.toggleOpenUploadingModal}," Upload Photos"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(re.a,{responsive:me,onClick:this.handleCarouselClick},this.state.imagesArray?this.state.imagesArray.map((function(e){return o.a.createElement("div",null,o.a.createElement("img",{src:"".concat(e),width:"125",height:"100"}))})):o.a.createElement("div",null))),o.a.createElement("br",null),"Follow up"==this.state.appointmentType?o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-md-12"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Additional Information ",o.a.createElement("sup",{style:{color:"red"}},"(required)")),o.a.createElement("p",{style:{fontWeight:"bold",fontSize:18}},o.a.createElement("span",{style:{fontWeight:"bolder"}},"Ans:")," ",this.state.previousAppointmentAddInfo),o.a.createElement("textarea",{placeholder:"Enter some symptoms, notes about the ailment.",onChange:this.handleAnswerChange("additionalInfo")})))):o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-md-12"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Additional Information ",o.a.createElement("sup",{style:{color:"red"}},"(required)")),o.a.createElement("textarea",{placeholder:"Enter some symptoms, notes about the ailment.",onChange:this.handleAnswerChange("additionalInfo")})))),o.a.createElement("div",{style:{width:"100%",textAlign:"center",marginTop:"3vmin"}},"Follow up"==this.state.appointmentType?o.a.createElement("button",{className:"std-button primary",onClick:this.handleFollowUpClick},"Submit"):o.a.createElement("button",{className:"std-button primary",onClick:this.handleSubmitClick},"Submit")))))))),this.state.hasUploaded?o.a.createElement(ie,{toggleHasUploaded:this.toggleHasUploaded,loading:this.state.hasUploaded}):o.a.createElement("div",null," "),o.a.createElement(b.a,{isOpen:this.state.dataNotFilledModal,toggle:this.toggleErrorModal},o.a.createElement(v.a,{toggle:this.toggleErrorModal},"Error"),o.a.createElement(S.a,null,"Please fill out all required details in the form before submitting."),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleErrorModal},"Okay"))),o.a.createElement(b.a,{isOpen:this.state.openUploadingModal},o.a.createElement(v.a,{toggle:this.toggleOpenUploadingModal},"Upload Media"),o.a.createElement(S.a,null,o.a.createElement(ne,{keyString:this.state.keyString,changeImageArray:this.changeImageArray,changeVideoArray:this.changeVideoArray,changeUrlValue:this.changeUrlValue,changeIsUploading:this.changeIsUploading,viewIsUploading:this.viewIsUploading,toggleOpenUploadingModal:this.toggleOpenUploadingModal}))),o.a.createElement(b.a,{isOpen:this.state.mediaNotUploaded,toggle:this.toggleMediaErrorModal},o.a.createElement(v.a,{toggle:this.toggleMediaErrorModal},"Error"),o.a.createElement(S.a,null,"Please finish uploading your files to the server before submitting."),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleMediaErrorModal},"Okay"))),o.a.createElement(b.a,{isOpen:this.state.imageGalleryModal,toggle:this.toggleImageGalleryModal},o.a.createElement("div",{style:{width:"100%",height:"100%"}},o.a.createElement(de.a,{items:this.state.mediaItems}))),this.state.animationSeen?o.a.createElement(u.a,{push:!0,to:{pathname:"/".concat(this.state.handleDocId,"/Thankyou")}}):o.a.createElement("div",null))))}}]),a}(n.Component),pe=a(437),he=a.n(pe),ge=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggleNavbar=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{isNavbarOpen:!e.isNavbarOpen})}))},n.componentDidMount=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.database().ref("doctors/".concat(n.state.doctorId,"/name")),e.next=3,t.once("value",(function(e){n.setState({doctorName:e.val()})}));case 3:return e.next=5,n.getValueFromSessionStorage();case 5:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getValueFromSessionStorage();case 2:case"end":return e.stop()}}),e)}))),n.getValueFromSessionStorage=Object(f.a)(g.a.mark((function e(){var t,a,o,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sessionStorage.getItem("loginTimestamp"),console.log(t),console.log("i check for session expiry"),t){e.next=9;break}return e.next=6,n.setState({sessionExpired:!0});case 6:localStorage.removeItem("doctorId"),e.next=22;break;case 9:if(a=x()(new Date),o=x()(parseInt(t)),r=o.add(30,"m"),console.log(a),console.log(o),console.log(r),!r.isBefore(a)){e.next=21;break}return e.next=18,n.setState({sessionExpired:!0});case 18:localStorage.removeItem("doctorId"),e.next=22;break;case 21:sessionStorage.setItem("sessionTimestamp",a);case 22:case"end":return e.stop()}}),e)}))),n.state={handleDocId:n.props.match.params.handle,sessionExpired:!1},n}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("body",{className:"body"},o.a.createElement("div",{className:"wrapper"},o.a.createElement(P.a,{dark:!0,expand:"md",style:{backgroundColor:"#4be4ac"}},o.a.createElement(F.a,{href:"/".concat(this.state.handleDocId,"/"),style:{color:"#ffffff",fontWeight:"600"}},"Teleconsultancy - Dr. ",this.state.doctorName),o.a.createElement(j.a,{onClick:this.toggleNavbar}),o.a.createElement(L.a,{isOpen:this.state.isNavbarOpen,navbar:!0},o.a.createElement(R.a,{className:"mr-auto",navbar:!0},o.a.createElement(z.a,null,o.a.createElement(U.a,{style:{color:"#ffffff"},href:"/".concat(this.state.handleDocId,"/Appointments")},"My Appointments")),o.a.createElement(z.a,null,o.a.createElement(U.a,{style:{color:"#ffffff"},href:"/".concat(this.state.handleDocId,"/Prescriptions")},"My Prescriptions")),o.a.createElement(z.a,null,o.a.createElement(m.b,{to:{pathname:"/".concat(this.state.handleDocId,"/")}},o.a.createElement(W.a,{style:{color:"#ffffff"},onClick:function(){localStorage.removeItem("doctorId")}}," Logout ")))))),this.state.sessionExpired?o.a.createElement("div",null,o.a.createElement(u.a,{push:!0,to:{pathname:"/".concat(this.state.handleDocId,"/")}})):o.a.createElement("div",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{style:{flexDirection:"column",textAlign:"center",justifyContent:"center",width:"100%"}},o.a.createElement("img",{src:he.a,height:250,width:250}),o.a.createElement("p",null,"Thank you for using our website. Proceed to the home section by clicking below."),o.a.createElement(m.b,{to:"/".concat(this.state.handleDocId,"/")},o.a.createElement("button",{className:"std-button"},"Back to Home"))))))}}]),a}(n.Component),fe=a(16),ye=(a(421),a(187));ye.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(ye.pdfjs.version,"/pdf.worker.js");var Ee=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(f.a)(g.a.mark((function e(){var t,a,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isFetching:!0}),(t=document.createElement("script")).src="https://checkout.razorpay.com/v1/checkout.js",t.async=!0,document.body.appendChild(t),e.next=7,n.setValuesFromLocalStorage();case 7:return e.next=9,n.getValueFromSessionStorage();case 9:return a=E.database().ref("doctors/".concat(n.state.doctorId,"/name")),e.next=12,a.once("value",(function(e){n.setState({doctorName:e.val()})}));case 12:return E.database().ref("prescriptions").orderByChild("patientId").equalTo(n.state.userId).on("value",function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.val()),null==t.val()){e.next=10;break}return console.log(t.val()),n.setState({prescription:[]}),t.forEach((function(e){e.val().doctorId==n.state.doctorId&&n.state.prescription.push(e.val()),console.log(n.state.prescription)})),n.setState({prescriptionList:n.state.prescription}),e.next=8,n.setState({emptyData:!1});case 8:e.next=13;break;case 10:return console.log("entered alterer"),e.next=13,n.setState({emptyData:!0});case 13:console.log("prescription",n.state.prescription),console.log("prescriptionList",n.state.prescriptionList);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o=E.database().ref("appointments"),e.next=17,o.orderByChild("patientId").equalTo(n.state.userId).on("value",function(){var e=Object(f.a)(g.a.mark((function e(t){var a,o,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.val(),console.log(a),!a){e.next=15;break}for(o=Object.keys(a),r={},s=0;s<o.length;s++)a[o[s]].doctorId==n.state.doctorId&&(r[o[s]]=a[o[s]]);return console.log(r),e.next=9,n.setState({appointmentObj:r});case 9:return e.next=11,n.setState({emptyData:!1});case 11:return e.next=13,n.setState({isFetching:!1});case 13:e.next=19;break;case 15:return e.next=17,n.setState({emptyData:!0});case 17:return e.next=19,n.setState({isFetching:!1});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getValueFromSessionStorage();case 2:case"end":return e.stop()}}),e)}))),n.getValueFromSessionStorage=Object(f.a)(g.a.mark((function e(){var t,a,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sessionStorage.getItem("loginTimestamp")){e.next=7;break}return e.next=4,n.setState({sessionExpired:!0});case 4:localStorage.removeItem("doctorId"),e.next=17;break;case 7:if(a=x()(new Date),o=x()(parseInt(t)),!o.add(30,"m").isBefore(a)){e.next=16;break}return e.next=13,n.setState({sessionExpired:!0});case 13:localStorage.removeItem("doctorId"),e.next=17;break;case 16:sessionStorage.setItem("sessionTimestamp",a);case 17:case"end":return e.stop()}}),e)}))),n.setValuesFromLocalStorage=function(){var e=localStorage.getItem("userId"),t=localStorage.getItem("userDependentName"),a=localStorage.getItem("userDependentId"),o=localStorage.getItem("userDependentRelation"),r=localStorage.getItem("doctorPaymentAlternativeOnline"),s=localStorage.getItem("doctorPaymentAlternativeOffline");n.setState({userId:e}),n.setState({dependentInfo:{name:t,id:a,relation:o}}),n.setState({doctorPaymentAlternativeOnline:r}),n.setState({doctorPaymentAlternativeOffline:s})},n.fetchAppointmentDetails=function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isFetching:!0}),a=E.database().ref("appointments/".concat(t)),e.next=4,a.once("value",(function(e){var t=e.val();console.log(t),n.setState({appointmentData:t}),n.setState({isFetching:!1}),n.togglePaymentModal()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetchReceiptDetails=function(){var e=Object(f.a)(g.a.mark((function e(t,a){var o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isFetching:!0}),o=E.database().ref("appointments/".concat(t)),e.next=4,o.once("value",(function(e){var t=e.val();console.log(t),n.setState({appointmentData:t}),a.reciepturl&&n.setState({receiptUrl:a.reciepturl}),n.setState({hasPaid:t.hasPaid}),n.setState({isFetching:!1}),t.hasPaid&&n.toggleReceiptOpenModal()}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.fetchAppointmentDetails2=function(){var e=Object(f.a)(g.a.mark((function e(t,a){var o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isFetching:!0}),o=E.database().ref("appointments/".concat(t)),e.next=4,o.once("value",(function(e){var t=e.val();console.log(t),n.setState({appointmentData:t}),a.reciepturl&&n.setState({receiptUrl:a.reciepturl}),n.setState({pdfLink:a.printableFile}),n.setState({hasPaid:t.hasPaid}),n.setState({isFetching:!1}),t.hasPaid?n.togglePdfNonPaymentOpenModal():n.togglePdfPaymentOpenModal()}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handlePaymentClick=Object(f.a)(g.a.mark((function e(){var t,a,o,r,s,l,i,c,d,m,u,p,h,y,b;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,a={year:"2-digit",month:"2-digit",day:"2-digit"},o=t.toLocaleDateString("en-GB",a),r=o.replace(/\//g,""),s=o.replace(/\//g,"."),t.toLocaleTimeString("en-US"),l=x()(t),i=l.format("LT"),c=i.replace(/\s/g,""),d=i.replace(/\s/g," "),m="PYMT-"+n.state.userId+"-"+n.state.doctorId+"-"+r+"-"+c,u="PRSCTN-"+n.state.appointmentData.id.substring(6),p=n.state.appointmentData.id,h={},a={key:"rzp_live_GyQtumhJW1szIn",amount:100*parseInt(n.state.appointmentData.fee),currency:"INR",name:n.state.doctorName,description:"Payment for Prescription",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAADaCAMAAABqzqVhAAABaFBMVEX///9NTU1zc3NWVlb6+vptbW1ISEhwcHD//v9QUFBDQ0OTk5PIyMj///37//9TU1Pg4OBeXl6rq6tZWVm+vr709PTQ0NB6enq3t7fs7OxAQEDu7u7ugEpkZGT0fUXwyrD0ez70ejaioqLZ2dmGhobnoHiOjo6bm5uAgID++e2SkpL84tGwsLDz//////jjjVvqg0L7eEfmiFf26NLoeEz/9vDqez3puJc1NTX//ez/8eHqjGn///Prh1T22sX0dj33377z06/uvJDutYv8r3L5oFfhlE/owJzwoGzxjULcpW/0hC/ffSrasYrj2tLs07rgk1TVwaL0tnrhwIjpp3Tr3MPlsnv9uIr8oWz4m0jmdwvooV+Ha1Xj4sNpdX3scyPbe1SHe2HuwKz5llXchj3hy7mnc1TrsZCjf2v/6N3hvZrdiW98dGmQgnZ6VEN5Tj5VVGLvooXnvK3mqYTsmHj00Mv9czbgeF6j/5u5AAAXZklEQVR4nO1di3/a2JXWBekiCb0ACRAgHuIhsEEQY+MYG5NkZprJtFl3u8l0djvbTD0z9Wam223qTPrv772SEOLlSFjYTqsv+QVbSIo+nXPP/c7VvUcEESFChAgRIkSIECFChAgRIkSIECFChAgRIvyrgSze9xXcDZKPpfu+hDtBG9Tv+xLuBG3wr2HP3Iwneb/XsWvEGJunTKmI6ydKVvH+onLpblZZ3oUSVeuzXZC4RiyXzN7RpYUJOTOPMYoRLxQKrMYt7aPFrY5F0TKtAkylWLb96XU0+ULL+iRjaSLHUt0s14JwiWgmY5lYEkWoS4pSb7OJFZs/dBQzGcs4JKt1C0nr8mUAFmnEU7Ptzg1osfqdXmQYaLGy9UmJ8ZwTYpJs3rsHKWoWzz04Y6fGNWdXrvWpWDYLbXo6A2bxpc62vXuQjMWKpKA62xSDdgslNaASnwZIyu4dszAzMw0JMt49FEBhnqpIuZtyDj2ObaSpFKWrn0DXmrYbW5HV3GtNQK8AUqBFkGMNd0vK2ZcSmQIQYQEuOPrDhMqkrIvWRNcFdSh7diiyCWtjwd1Yhw37kwU51C2RcqbwCRBtsFYY3YNu/59l9zzfq4Uc/sjNjdwtdK3PHHD2k+KFh9+lcrZ15ILbWSgs5fleKuCwVEzN/brFWuJCmrt6mk3fwZUGRHFvQQgodtCUYM7dlGI8YVR6jHnWC43ZBlKLWyGrNW+WdXZ+8EOBEissdvMGi92QzKTcvlDPeHiSXWw9pesKRAlYpNSCG6HRTVroih4EuvPAaaPOWG7ahi4T8sbe3/FwA85vVxc+MIWktOWGttzZxQqYYfqxz6DJMThiFRno3g1SKzywVFyBGa21vDEPcdwspv1qG4tfmk26G7hZ267r7bbxIPI2GYIVnioDg+sZ2dOGbYcgii1QgOhv+yGIwT2orbS+rrFuz49gfmuy0FISRQpqslrMNtjUAyCqaKGrtEbB6qjabMO+g/kC9QD0bh3Ew73ddUbDHxzrsjPuUQcWs1mHXpqNhXpmww7Ujfk4hALD/R/8ox4rIGh2KMyFOx4gpe1EYK4z0M/347hpFrTT6TawCaoZGH7sJ+OeRnlPPPMsZStvzc5NOKiFn19ocxl4T36rAifQ1zNOp2c8Dj+/MObt08ndifrdjh7pzlhXFqQceab41j7+IblOUod2zl4vJG86IHTk7LFLDqZ2kw0LPI8/0nbrILm400M3WPmmw0KHZil3GVKIZnYHI5GIp4A/dQhyhhGD0G4UErOSMewWMWzPPJvDDFsw/MyCFwTLoEQWRXQW5JxgvjQOvHvoKMp22TamORt0DhXCcCzQ9o9qvT5r+Wo8dceD2BJMGGzD8iGjEHJCbAqEIFw86SHP5Re/0e/+6YTOAjvypdmwFTbf+/Hp8Nmz4bMhLSx8UcyId5+1NKCWl9RsLvyMiRc6zz77/ItfPT9Z4tktbJPs3RZpgPWt47xhgud7wy+/f/GC79GmdzupMfcylFLMtxrpsP5nnqdnjZHmO1/98Otf/+blCbFgT5l1hi1ISTZ2/FQt29C0xi5Ga0zT5cnz/3Yx/O2r4cV4IQ6RFDInqXJ6TkRutFPTkkkWxDOQbYQeDuiOhyf6VXh20TNnfagNlCno7ThbgHGqla/v9KFEko1li0WOYsV82DH238du0KFpJIaGHRppIi/PHABQpFrd7M5jbtYWBgSZZthcSBO6eJomBJoef/UEGQ+pIHsjL2DZt0CTSDfSWfVOVF/DFXhSm2X0UCIB8s3O+IR4/bunPf5IdYjRYZx5ayiZhHs7yXwmnHxTEMzhV//x/LPfv/rs89++9s2QVIs7M63CNDy/qXooEY+nCf7J17//3ZffvPjVU1Pwx1NKaplMIr2brqVeTGzzpI4XaH5lG2qUONzQGKgtvv7i82++Hzw9I5cE0AboTEFMUAxL7aJvkQpUbqtR2h7R6wnL6KFQg0GbPCGYz/7ziy9e1F6d9ATz4+dDeaCYR92KmmR3keSjvpNhttCXpLq/Fm87iCHiSdDm8YsXA6R//usPiOjHT5iHM0WtszsZRKlrAATMi0iu9cdvD0ZrUJr0mz+emMhR+f/++un4ePRq/PQlaqAfP2WKnbkrSYHdyAUdBGsT2QSV+OO3h49Ka1Ge9lGARc0XGXb45jnqMnFTpjF186zHr7Rq55xgHg27heUJkiFBikFW9x3QdS0WiyF7ltejNCp/VzFRUoIk/MmrJ5bIQ9GXR3rvp7FwtoGn7Bk6ye5uVCyfYVM+dbxOIZpU4k8/H/bX4KBUHVXLg4qla3nzlxPS7lNMc9zpPLvojJX1fYyXp8yuTu29HeanUxuw4EshcMiaiYReV47MziqOjirvJoNBtXSOPBd3Pj3T4Xn2+uXvPv/81dfj9aetw/lD5YZIsaHKBRV4bMhpfgbdlASypjVOhztJ/K+t52h7C1Ky5mWpNHpxembxc7wUtUq69/TVH77/4mSDZPBMdEwzDGiHxhOfSF+YFOHr1HnktYnNYh+1SZM/LpWqhxdLMZY/+uz7F29+eLIp9MosZRHN5qA73hkCJMqokykt8HE51Da7m79GduN7ZrNcrjZNj+WQPDJ/fPnsN988e3m06dA0G9e5fBuiJDHwVW1GXWQBBeZXrLR89SwqNucN8gn1IcJZr1I9rB50PIkm5tkRzK9e9zqbvaaejEMIY1y4Sl6R2yKTaWWds0r+hmuzVCzR2PDdTPzx9Lj0qDQZC8KCjyKXvjjh6c0SkGyJgJLDz1dUMaGxkLLHvDh/EwU4xHNvw3e8A6HXOSiPSmM7UM2/JgT+jF9V/y6KBW3OkgwnD8boFupktgFZpi2rdargS8xjnhvVp8PTFE4wz7c0QXsTT+zFPLE8Fu+Fd1hBwlMZwlnqI9uTDLtagQXA51OGDTyLkiSp++PhcDx8i/6eH4zKpQr67QQPLCBhZO2EiNI30VwEk+NaqVioXlzXc22finIdz2wLxw/220MHk4NJdVAuTfDPrypHOE0LfknpDANZthUmT9Lz78ewylOiWCaOwPy5OrBRLZfQn3IZ/1yb9it8T/BtRYyi3ADIxUQ3Rt4DVnjKUMQsRfFvf54+smElLejvo3L5sITE7lXH13CCjWKaYlmYasj1sCawJrd5erPMU2YxSRBPaan/8aj56qhctkU9suzopUlvSsdWzi+yTEy3ZDxFfXRvP1Di2wwLLfGUsDVBjlMVRTkau3iL49B5Zzw8vy4NytVBhRf8ua7KiO68D50NZeRaFTf19zdhiSeFaDK2qPIOEx31R+XJW6GH2D3tlwfT/ljYmGAvQC7MFVoxnIcDJLXN3IdFnlmIrGlfGR7hc/vPo8loWhqiDoUXiIvDQXn6kyn448mGPpJAymCLEelFni0mLrrezzs6gaCFI+y3QywBTeHsp+lo2u8IvJ9gJLHbONlNIGNUBiQDj5Qu8CRTYhysMcCMJ5J9SOcNkUGRE/viSTQKS8nKbX2X3MtAAMWczgV6iLPAU0Ud57qpBR6eKPM+O0Wi4cInTyU/l7WKStRz2q0fbCn1fCsFC6xI7flPEhZ4SiAurptuOedpqfr3g2m1EkgpkGq2uxfLwHr3cUjzRVXZoGDB/1qLgDytVtuslmoVv8KWlDg9l2LQNbGptkRKIQ6IKdmd2ZPA0xKC8FRSkC2gZHEvb2mFexN+AXnSQXmS7ZjOSfe/NsAPT/oWPB8KfPHsnfzcP/x56Px2rzyVRq7daCUNXU9387L/xu6HJ0+Tf4r95S9ObNuGp1LnuHCmZRRTKMtgUSbLol708Q0DlUvww1MgyFwiRm3Ns2iIBRSMEqFIQDUHWlw9m83HQC7v/9758luex6O82/KUNDbV0I0cYI0Q4pHOOkYk9eXqHTfBV7xF9tyep6JBw3r8WadCWOKsMu56CjKW8f9Ydfc80+7sTTV1+/mqWc/DsXyAx6o750lS88Ut+dsvPsvPaxwgzuHGoVvxVD2LTiW4aUjcN2TPrZID3Lad85Q8a8KL4NbZqATnp2hA/7nPHdtzZUFxUJCUm/BkYYCZ8DvnqXgWE8oBGtQmZKFoRx8ZBEnxdh9v54sfFC2M9QFdyGpG2kixIEhQu4P+MzVbpBRG/4mQjQEk+5hgM2635ulz3ITASxXZlJFPtyEMa1qYynFBZzHfAU9CbYnIAIC626V1i9iCp9mclqaVlUVIN0Hl8nL9XpPtLXieNUsHh5UbH/A+PATnSRD/+9e//p9M+JuD+1CwDc828zfgn2fY7lrkdJ0LPGq4FU8xDnzHFF1r5cNcrN3NsChn9zt30cXueQL8mLeth7ScxYCins0aLBNwWD8AT/dCA/Ekitl0G9kAZBJGgHGrDciyml1zMOgqTzxPyhXXm3nGtudpHS91M4wIH99aKLRnmtZgg3lunYrFZtU1N/OUEolYzDVGcJ4EvlVMunvbhQ9KZjZqohaCpbIkIkDNbs1GnumF2XFb8STI+O3X4BdF1/eogFM2DUR0Njl2E08J34w5s+14hjFLXsm4d9sIWMe0riEOzoDjBp5qOxFLUPMYsiXPeggL4WOuT3BB75qBWijVsIu9IJ4r7kBmc4vm3JantFxVbwsYboVaFaW1ZDHrPxopmEaCaqTzeZ2JxzP5Rehta5mAN1JuyZMLYTRhbkUlRem5eIH1P4Sr5jCTBIWAZ4JRi8CRNkYtzMsLwFP1XEYuhKL7EsA+oUj5FiVClOq1gtzvYpLCZBBXEdkztgKKSi80Wv881UI8p9urXkkjjKknpBbLphsaUn6ZoDMxMLgWNmcCz5LKUMtIGEsayz9PpaUBtsAkkl2dYrUwlF8LwgLUGt0tF36TEtdNpw3MM72I/KowDdI+FUk2EgxbKMBwFsVzlCHfeo6D1a98fLegcYhUs7L8kKpwbtRDi9gy3j4cIJ7xzMedIsesnTX26UDBk1I/6mDW7LhP+/0zqGNhPirOOOTd4qfyMoD1SCPHFT9iUFJDN+Ph1WoOBAXzpG7smsgGEoc7KOp4t0jDeJzRblgRVs+hW8GEoGzuGZiGCCgj3V2DtJ4DeOrqXVc52wGUGMALHhiwFgxe8+GWdvykQe4BawHLJogw9wBKM4eBbBtZk1kPCGI7WOh4X5Bk3UiuwjD0/AOYYhohQoQIESJEiBAhQoQIEf7JYdUf4j+2zl5YKlP06QHX4BY+Wk+A5+n7rYt7a8yqRty8F/8A7KmuG4JWnPo2Nw1WWjW3rZoRuJ7CjfYShLMTPlyLkquLKtdsmiPLrnmVRR1axY9uWIyAqyYQQue8cnx1dXV5PrYKjG+clsoLlf7lmmK6t4C8+lY0o3BDNRcZxFcN2gUi3ihtXg6CixWOj/uT6rRWG40OT6/3cRm4Te2UF5q1d2aos5DTYLnUR50Vb6h+s54ntB5+ScwNPM0fv6t9KJcOTt+fTqq16uTSFAhzE0+++SF0nsuPKzUmME81Zz0JXOC56CU9szKola4vxh2TPBqfH09qVllRfqnguFUkDdeEa5YxT3q2lXD3s0pazqrGBWjCiCez8BqtNIwv8lSKiueaZWjxJJV1c/gW7EmiA93r740PHv1wgUyIa8gjH94/GB2MewLf65DmfHkHf9bBRWwEgXxXbnYE0ySIM7zBxFVReKt+Lq43b3ZOOiaOZx3/xbcQT9H7akSJiYsenpKR0FJazHBNbvHMtihNy82rkKvtFXtmk1QqpeXcCkmVUbkiuKFFEM4PD8+RVY7evR/PeZJX/XNaOLr6sjkZHDSb796f4/o2l9dvheHzV19eIqZCT3h72Tzt968rR72/N/d9u3YaaDHGM28xx2QazIwnaTAAYgBmti5ahhmpBSDaDACTdAyWZ5fap9oAzoFxu/XzV7VRp+f2JjQtXDw/QSSGo9q54JZwPuq/ORaEox/elKflWvXNtPpcwAUOp5cXBx9qb34+Q47QQS4/RaiVm+cHby4D8ExJzLxgUB5AWQcOTzIHYErnslxagyBnc5JBKgdArsvl9+IAxIrOUZkFnqoGIJXO1jk9A4D11hbhqnZwNCdE4yqMAmL7tjzy8jytHiOvff200h+d/vJj5aKDXPaoX/5yUju9Ot5HPMfN8nRy/bzyvFmq9ku1ywB+m0LdwuwV5moKJAhjxhPZLekIAB0460tRHGJS9gyKYhI6NWmXeJIJwDgFrpQWxNPpaKHyqIorgmGhQFtVGO1AMiwhnvycZ+2YsMqvN6dNkxCs6rmdg0G59BMuqYqa5vW01LSqAgv778vlUSB7kijE2u+0xswkl2cWgPnEat3pG2UgZiTPRm4Nzzz0zA3aA/j9KfS4XytdvTUtRYdbGW8RXc+Tpi2eVrzFPEelK6dC8Plh7apj7W4KnX55dByMp8QyLZsZXn8449lmMp4dKXur7O1vkeEsIbTEM+V9ia+Swm+RonsXB7XaoN+8Pq5cvB6emLaCXeRJz+xJODzxRszzYGzvfdac9sd24Xl0gkqpHJAnfhcch3Ubg8WRw1PNLCgIGVjzVGXo7W7zwHr3+SJPCS6sDElDjSTIHj+8QhGkWq3VpuXDSf94yPvniX7GpWPpk8n0UrDFBW/2OsF5khqDZKsBrLlLDk9kXO/lqozlo07/6UCC1sZFnjJcmHxQB1j1om6TONqvXL17f9qfjKrV0eTyDMfbUnVN++TpZrUpuDzLV4L1+iRhv1x6Tdgej9rq0aQasH3iJctArzPWDNwZTxlAr/JRMtYi30U9pMatCLbIMw0yhgct0fEA7HuImnkyHl5cD6qjCjKNX55WxytclA/3nVfSoJ224EkSSZDRnLfq3cwTet9er4pr7NkFcdYL6HTPWMzg6uO4jrNw/l3t9Eigl3gerOWJwo3Ds1rap2/DExerEUVnZuF6v5XENX5bhxazZb/N5GUvnNMI1rshedo0UeNCHerhfg/xLLs8ed7lySOe/CrP/dHo3LEnaq+dbXgSHJxVJlgfh/LAqm2J4q3kPTq+Jg6tWaFG71++7dFuBoJs9bRc2u8Jw0n5whk7QCnN+aR6heMM6leq16atnrw8O5PapVPF0USSGfU3wXkS+my2sqdfmccTkrJVL4q3noLkGmgTKzwJbaVmBX3U/PC+Ny8cStO9qze4KnenjxLNnh1YekfNas3heY14Cpane3ki+pOhXTkX9bGVwP3nIjw6Yd4P6oxd5hLFofkk9SQA63SCDJl5ZmDP0DZf1gYXc9knnO0f4gyTFo5HpfMzK4KaZ8elctnmKVxVTzsoP0Xw8OSF/cn0+sQ6hcAPg+uE9TwxjYbdGItJxqP7ErbnKsnZjVjWfTnAOG80UnRbSdD731W/q3RmQ5ZHTyelwTl25OF3tX7lDLVdfvzZqDQpH1uiUKgg+gRuyTwutOrwNHvm1eHgeoybujBsIt13HETfbuRJtiGTSSIdb6QYONPxUMvB+B5Xz+opMNu4rOOLFASaIXP5VgbYRVMEvjKZjvpXl+f7++eXV/3yh0Ocr6CgdDkZofx7+Pr4tFo6/nJ6bA2RCeODWv/5k+OfL3ChuNqlHaqQaBy/K09P//7LL79cTUrvJ+Xn/u0J48s8k8DNy5BOwkBpmJuXsSm1jXMyvNmY5WXOuAmYVfxUDCspQ3+cQld0zxx+VfpQGwwGpcGoVhv1z008/Ef3+Mrp9ANKtD5MJ5VO882xdVd6ZuUfjz4cTj98hVrtwfSYn/HkO8ejD6PBaPCheo3uhX+edWZl4SjneWWQmk4wgKHmL5KWNOSqXAxll5l58i3FLf8lkw03cKndtpbR2l3nQDwOxqMM+fDRo+mjw3+8e4KTT+sdJchGlebk8PD0eB9J1vfnvEPoyde/+qF/NeRNoYLybCtS494X3a+rSfnRo2bF7B2/fxLmkODa1blKsHmltkTgzbPOcDg8sRI0GrFE7Y7GycvZEYo+PZyfWAbCkQgPlZgEflmWiQdBZ10s7pvQWc54a5Do/oezg4FeO6a1bpiL37A9QoQIESJEiBAhQoQIESJEiBAhQoQIESI8ePw/yaepuOUzIQUAAAAASUVORK5CYII=",handler:function(){var e=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={})["payments/".concat(m,"/paymentIdRP")]=t.razorpay_payment_id,a["prescriptions/".concat(u,"/hasPaid")]=!0,a["prescriptions/".concat(u,"/recieptId")]=m,a["appointments/".concat(p,"/hasPaid")]=!0,e.next=7,E.database().ref().update(a);case 7:n.setState({razorPayResp:t.razorpay_payment_id}),n.setState({hasPaid:!0}),n.togglePaymentModal();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),notes:{address:"Razorpay Corporate Office"},theme:{color:"#4be4ac"}},y={amount:n.state.appointmentData.fee,appointmentId:n.state.appointmentData.id,date:s,doctorId:n.state.doctorId,dependentInfo:n.state.dependentInfo,id:m,patientId:n.state.userId,time:d,type:"Prescription Payment"},h["payments/".concat(m)]=y,b=new window.Razorpay(a),e.next=20,b.open();case 20:case"end":return e.stop()}}),e)}))),n.togglePaymentModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{paymentModalOpen:!e.paymentModalOpen})}))},n.togglePdfPaymentOpenModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{pdfPaymentOpenModal:!e.pdfPaymentOpenModal})}))},n.togglePdfNonPaymentOpenModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{pdfNonPaymentOpenModal:!e.pdfNonPaymentOpenModal})}))},n.toggleReceiptOpenModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{receiptOpenModal:!e.receiptOpenModal})}))},n.toggleNavbar=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{isNavbarOpen:!e.isNavbarOpen})}))},n.togglePrivacyPolicyModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{privacyPolicyModal:!e.privacyPolicyModal})}))},n.toggleTermsModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{termsModal:!e.termsModal})}))},n.toggleCancellationRefundModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{cancellationRefundModal:!e.cancellationRefundModal})}))},n.state={doctorId:n.props.match.params.handle,prescription:[],isFetching:!1,paymentModalOpen:!1,pdfPaymentOpenModal:!1,pdfNonPaymentOpenModal:!1,preDetailsData:[],prescriptionList:[],prescriptionTrue:[],prescriptionFalse:[],prescriptionListTrue:[],prescriptionListFalse:[],appointmentData:{},numPages:null,pageNumber:1,sessionExpired:!1,emptyData:!1,privacyPolicyModal:!1,termsModal:!1,cancellationRefundModal:!1,receiptOpenModal:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.prescriptionList.map((function(t,a){return o.a.createElement(fe.Tr,{key:t.id},o.a.createElement(fe.Td,{className:"td"},t.date),o.a.createElement(fe.Td,{className:"td"},t.dependentInfo.name),o.a.createElement(fe.Td,{className:"td"},t.mode),e.state.appointmentObj?o.a.createElement(fe.Td,{className:"td"},e.state.appointmentObj[t.appointmentId].visitType,console.log(e.state.appointmentObj),console.log(t.appointmentId),console.log(e.state.appointmentObj[t.appointmentId]),console.log(e.state.appointmentObj[t.appointmentId].visitType)):o.a.createElement(fe.Td,{className:"td"}),e.state.appointmentObj?o.a.createElement(fe.Td,{className:"td"},e.state.appointmentObj[t.appointmentId].fee):o.a.createElement(fe.Td,{className:"td"}),o.a.createElement(fe.Td,{className:"td"},o.a.createElement("button",{className:"std-button",style:{height:30},onClick:e.fetchAppointmentDetails2.bind(e,t.appointmentId,t)},"View")),e.state.receiptUrl?o.a.createElement(fe.Td,null,o.a.createElement("button",{className:"std-button",style:{height:30},onClick:e.fetchReceiptDetails.bind(e,t.appointmentId,t)},"View")):o.a.createElement(fe.Td,null,o.a.createElement("p",null,"N/A")))}));return o.a.createElement("body",{className:"body"},o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement(P.a,{dark:!0,expand:"md",style:{backgroundColor:"#4be4ac"}},o.a.createElement(F.a,{href:"/".concat(this.state.doctorId,"/"),style:{color:"#ffffff",fontWeight:"600"}},"Teleconsultancy - Dr. ",this.state.doctorName),o.a.createElement(j.a,{onClick:this.toggleNavbar}),o.a.createElement(L.a,{isOpen:this.state.isNavbarOpen,navbar:!0},o.a.createElement(R.a,{className:"mr-auto",navbar:!0},o.a.createElement(z.a,null,o.a.createElement(U.a,{style:{color:"#ffffff"},href:"/".concat(this.state.doctorId,"/Appointments")},"My Appointments")),o.a.createElement(z.a,null,o.a.createElement(U.a,{style:{color:"#ffffff"},href:"/".concat(this.state.doctorId,"/Prescriptions")},"My Prescriptions")),o.a.createElement(Q.a,{nav:!0,inNavbar:!0},o.a.createElement(K.a,{color:"success",style:{color:"#ffffff"},nav:!0,caret:!0},"Important Info ",o.a.createElement(Z.a,{color:"danger"},"3")),o.a.createElement(J.a,{className:"bg-nav",right:!0},o.a.createElement(_.a,{className:"bg-nav-option",style:{color:"#fff"},onClick:this.togglePrivacyPolicyModal},"Privacy Policy"),o.a.createElement(_.a,{className:"bg-nav-option",style:{color:"#fff"},onClick:this.toggleTermsModal},"Terms and Conditions"),o.a.createElement(_.a,{className:"bg-nav-option",style:{color:"#fff"},onClick:this.toggleCancellationRefundModal},"Refund Policy"))),o.a.createElement(z.a,null,o.a.createElement(m.b,{to:{pathname:"/".concat(this.state.doctorId,"/")}},o.a.createElement(W.a,{style:{color:"#ffffff"},onClick:function(){localStorage.removeItem("doctorId")}}," Logout ")))))),this.state.sessionExpired?o.a.createElement("div",null,o.a.createElement(u.a,{push:!0,to:{pathname:"/".concat(this.state.doctorId,"/")}})):o.a.createElement("div",null),o.a.createElement("div",{className:"row"},this.state.isFetching?o.a.createElement(N,{loading:this.state.isFetching}):o.a.createElement("div",{className:" col-md-12 col-sm-12 col-xs-12 Consultancy-box margin-box-table"},o.a.createElement("text",{className:"Prescription-heading-title"},"Prescription Received"),o.a.createElement("br",null),o.a.createElement("br",null),this.state.emptyData?o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",height:"100%",alignContent:"center",justifyContent:"center"}},console.log(this.state.emptyData),o.a.createElement("text",{style:{fontWeight:"300",fontSize:24,textAlign:"center"}},"You do not currently have any prescriptions!")):o.a.createElement(fe.Table,{className:"table"},console.log(this.state.emptyData),o.a.createElement(fe.Thead,{className:"Prescription-heading"},o.a.createElement(fe.Tr,null,o.a.createElement(fe.Th,{className:"th",scope:"col"}," Date "),o.a.createElement(fe.Th,{className:"th",scope:"col"}," Patient Name "),o.a.createElement(fe.Th,{className:"th",scope:"col"}," Mode "),o.a.createElement(fe.Th,{className:"th",scope:"col"}," Type "),o.a.createElement(fe.Th,{className:"th",scope:"col"}," Fee "),o.a.createElement(fe.Th,{className:"th",scope:"col"}," Prescription "),o.a.createElement(fe.Th,{className:"th",scope:"col"}," Receipt "))),o.a.createElement(fe.Tbody,null,t)))),o.a.createElement(b.a,{isOpen:this.state.paymentModalOpen,toggle:this.togglePaymentModal},o.a.createElement(v.a,{toggle:this.togglePaymentModal},"Online Consultancy Payment"),o.a.createElement(S.a,null,this.state.appointmentData?o.a.createElement("div",null,o.a.createElement("p",null,this.state.appointmentData.dependentInfo?o.a.createElement("div",null,o.a.createElement("b",null," Patient Name: ")," ",o.a.createElement("span",null,this.state.appointmentData.dependentInfo.name)):o.a.createElement("div",null,o.a.createElement("b",null," Patient Name: ")," ",o.a.createElement("span",null,this.state.appointmentData.name))),o.a.createElement("hr",null),o.a.createElement("p",null,o.a.createElement("b",null," Appointment Mode: ")," ",this.state.appointmentData.mode),o.a.createElement("hr",null),o.a.createElement("p",null,o.a.createElement("b",null," Appointment Details: ")," ",this.state.appointmentData.date+" "+this.state.appointmentData.timeBegin),o.a.createElement("hr",null),o.a.createElement("p",null,o.a.createElement("b",null," Appointment Fees: ")," ",this.state.appointmentData.fee)):o.a.createElement("div",null)),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"secondary",onClick:this.togglePaymentModal},"Cancel"),o.a.createElement(I.a,{color:"primary",onClick:this.handlePaymentClick},"Pay Now"))),o.a.createElement(b.a,{isOpen:this.state.pdfPaymentOpenModal,toggle:this.togglePdfPaymentOpenModal},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{},class:"".concat(this.state.hasPaid?"hideButton":"showPrescriptionButton")},o.a.createElement("button",{style:{border:"0.75px solid black"},className:"std-button",onClick:this.togglePaymentModal},"Pay to View")),o.a.createElement("div",{style:{display:"flex",position:"absolute",textAlign:"center",width:"100%",alignSelf:"flex-end",justifyContent:"center",paddingBottom:"2vh"},className:"showButton"},o.a.createElement(I.a,{style:{border:"0.75px solid black",alignSelf:"flex-end"},color:"danger",onClick:this.togglePdfPaymentOpenModal},"Close")),o.a.createElement("div",{style:{height:"80vh",width:"100%"},className:" ".concat(this.state.hasPaid?"":"blurEffectCalendar")},console.log(this.state.pdfLink),o.a.createElement("iframe",{style:{width:"100%",height:"100%"},src:this.state.pdfLink})))),o.a.createElement(b.a,{isOpen:this.state.pdfNonPaymentOpenModal,toggle:this.togglePdfNonPaymentOpenModal},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{display:"flex",position:"absolute",textAlign:"center",width:"100%",alignSelf:"flex-end",justifyContent:"center",paddingBottom:"2vh"},className:"showButton"},o.a.createElement(I.a,{style:{border:"0.75px solid black",alignSelf:"flex-end"},color:"danger",onClick:this.togglePdfNonPaymentOpenModal},"Close")),o.a.createElement("div",{style:{height:"80vh",width:"100%"},className:" ".concat(this.state.hasPaid?"":"blurEffectCalendar")},console.log(this.state.pdfLink),o.a.createElement("iframe",{style:{width:"100%",height:"100%"},src:this.state.pdfLink})))),o.a.createElement(b.a,{isOpen:this.state.receiptOpenModal,toggle:this.toggleReceiptOpenModal},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{display:"flex",position:"absolute",textAlign:"center",width:"100%",alignSelf:"flex-end",justifyContent:"center",paddingBottom:"2vh"},className:"showButton"},o.a.createElement(I.a,{style:{border:"0.75px solid black",alignSelf:"flex-end"},color:"danger",onClick:this.toggleReceiptOpenModal},"Close")),o.a.createElement("div",{style:{height:"80vh",width:"100%"},className:" ".concat(this.state.hasPaid?"":"blurEffectCalendar")},console.log(this.state.pdfLink),o.a.createElement("iframe",{style:{width:"100%",height:"100%"},src:this.state.pdfLink})))),o.a.createElement(b.a,{isOpen:this.state.privacyPolicyModal,toggle:this.togglePrivacyPolicyModal},o.a.createElement(v.a,{toggle:this.togglePrivacyPolicyModal},"Privacy Statement"),o.a.createElement(S.a,null,o.a.createElement("p",null,o.a.createElement("b",null,"SECTION 1 - WHAT DO WE DO WITH YOUR INFORMATION?"),o.a.createElement("p",null," When you purchase our services, as part of the purchasing process, we collect the personal information you give us such as your name, address and email address. When you browse our store, we also automatically receive your computer\u2019s internet protocol (IP) address in order to provide us with information that helps us learn about your browser and operating system. Email marketing (if applicable): With your permission, we may send you emails about our store, new products and other updates. "),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 2 - CONSENT"),o.a.createElement("p",null,"How do you get my consent? When you provide us with personal information to complete a transaction, verify your credit card, place an order, we imply that you consent to our collecting it and using it for that specific reason only. If we ask for your personal information for a secondary reason, like marketing, we will either ask you directly for your expressed consent, or provide you with an opportunity to say no."),o.a.createElement("br",null),o.a.createElement("b",null,"How do I withdraw my consent?"),o.a.createElement("p",null,"If after you opt-in, you change your mind, you may withdraw your consent for us to contact you, for the continued collection, use or disclosure of your information, at anytime, by contacting us at sanjayathavale@mobilesurta.com or mailing us at: B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038"),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 3 - DISCLOSURE"),o.a.createElement("p",null,"We may disclose your personal information if we are required by law to do so or if you violate our Terms of Service."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 4 - PAYMENT"),o.a.createElement("p",null,"We use Razorpay for processing payments. We/Razorpay do not store your card data on their servers. The data is encrypted through the Payment Card Industry Data Security Standard (PCI-DSS) when processing payment. Your purchase transaction data is only used as long as is necessary to complete your purchase transaction. After that is complete, your purchase transaction information is not saved."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 4 - PAYMENT"),o.a.createElement("p",null,"We use Razorpay for processing payments. We/Razorpay do not store your card data on their servers. The data is encrypted through the Payment Card Industry Data Security Standard (PCI-DSS) when processing payment. Your purchase transaction data is only used as long as is necessary to complete your purchase transaction. After that is complete, your purchase transaction information is not saved. Our payment gateway adheres to the standards set by PCI-DSS as managed by the PCI Security Standards Council, which is a joint effort of brands like Visa, MasterCard, American Express and Discover. PCI-DSS requirements help ensure the secure handling of credit card information by our store and its service providers. For more insight, you may also want to read terms and conditions of razorpay on https://razorpay.com/."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 5 - THIRD-PARTY SERVICES"),o.a.createElement("p",null,"In general, the third-party providers used by us will only collect, use and disclose your information to the extent necessary to allow them to perform the services they provide to us. However, certain third-party service providers, such as payment gateways and other payment transaction processors, have their own privacy policies in respect to the information we are required to provide to them for your purchase-related transactions. For these providers, we recommend that you read their privacy policies so you can understand the manner in which your personal information will be handled by these providers. In particular, remember that certain providers may be located in or have facilities that are located a different jurisdiction than either you or us. So if you elect to proceed with a transaction that involves the services of a third-party service provider, then your information may become subject to the laws of the jurisdiction(s) in which that service provider or its facilities are located. Once you leave our store\u2019s website or are redirected to a third-party website or application, you are no longer governed by this Privacy Policy or our website\u2019s Terms of Service. When you click on links on our store, they may direct you away from our site. We are not responsible for the privacy practices of other sites and encourage you to read their privacy statements."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 6 - SECURITY"),o.a.createElement("p",null,"To protect your personal information, we take reasonable precautions and follow industry best practices to make sure it is not inappropriately lost, misused, accessed, disclosed, altered or destroyed."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 7 - COOKIES"),o.a.createElement("p",null,"We use cookies to maintain session of your user. It is not used to personally identify you on other websites."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 8 - AGE OF CONSENT"),o.a.createElement("p",null,"By using this site, you represent that you are at least the age of majority in your state or province of residence, or that you are the age of majority in your state or province of residence and you have given us your consent to allow any of your minor dependents to use this site."),o.a.createElement("br",null),o.a.createElement("b",null,"SECTION 9 - CHANGES TO THIS PRIVACY POLICY"),o.a.createElement("p",null,"We reserve the right to modify this privacy policy at any time, so please review it frequently. Changes and clarifications will take effect immediately upon their posting on the website. If we make material changes to this policy, we will notify you here that it has been updated, so that you are aware of what information we collect, how we use it, and under what circumstances, if any, we use and/or disclose it. If our store is acquired or merged with another company, your information may be transferred to the new owners so that we may continue to sell our services to you."),o.a.createElement("br",null),o.a.createElement("b",null,"QUESTIONS AND CONTACT INFORMATION"),o.a.createElement("p",null,"If you would like to: access, correct, amend or delete any personal information we have about you, register a complaint, or simply want more information contact our Privacy Compliance Officer at sanjayathavale@mobilesutra.com or by mail at B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038"),o.a.createElement("p",null,"Sanjay Athavale"),o.a.createElement("p",null,"B-6, Patil Gardens, Tejas Nagar, Kothrud Pune, India 411038"))),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.togglePrivacyPolicyModal},"Okay"))),o.a.createElement(b.a,{isOpen:this.state.termsModal,toggle:this.toggleTermsModal},o.a.createElement(v.a,{toggle:this.toggleTermsModal},"Teleconsultancy Conditions"),o.a.createElement(S.a,null,o.a.createElement("p",null,"I hereby agree and hence give consent that my personal health information may be shared for referral purposes as well as for Medical Insurance purposes. (reimbursement or cashless). It is understood and agreed that the medical information will not be shared with dispensing chemists or drug manufacturers, apart from working diagnosis and prescription part. I also hereby consent to use my clinical information for data collection, research, scientific publication, advertising and surveys without disclosing my identity in any manner and without breach of confidentiality. I have understood the implications of such partial or full disclosure of my information to other agencies, which is required in my own interest. While sharing the information to next caregiver or referral, the doctors have laid down the same standards of confidentiality, but in case of any breach by them, we will not hold any doctor liable in any manner. *ln case of children or insane person, consent provided by the patient's parent/guardian user. "),o.a.createElement("p",null,o.a.createElement("b",null,"Please Note:")),o.a.createElement("p",null,"Online/phone consultation is not a substitute for physical/in-person consultation. Your doctors response may be delayed and is dependant on their availability. Please visit your hospital or nearest medical centre if you need immediate or urgent help.")),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleTermsModal},"Okay"))),o.a.createElement(b.a,{isOpen:this.state.cancellationRefundModal,toggle:this.toggleCancellationRefundModal},o.a.createElement(v.a,{toggle:this.toggleCancellationRefundModal},"Cancellation Policy"),o.a.createElement(S.a,null,o.a.createElement("p",null,"Currently, we do not provide a functionality to cancel booked appointments, but do provide a functionality to re-schedule these appointments, until before 1 day before the date of appointment, in the case of Online Appointments."),o.a.createElement("p",null,"Hence, there would be strictly no refunds, in regards to the transactions undertaken in the appointment booking process.")),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.toggleCancellationRefundModal},"Okay"))))))}}]),a}(n.Component),be=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isFetching:!0}),e.next=3,n.setValuesFromLocalStorage();case 3:return t=E.database().ref("appointments"),e.next=6,t.orderByChild("patientId").equalTo(n.state.userId).once("value",function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("value"+t.val()),n.setState({appointment:[]}),n.setState({doctorIdList:[]}),t.val()?(t.forEach((function(e){e.val().doctorId==n.state.doctorId&&n.state.appointment.push(e.val()),n.state.doctorIdList.push(e.val().doctorId)})),n.state.appointment.sort((function(e,t){var a=x()(e.date,"DD-MM-YY"),n=x()(t.date,"DD-MM-YY");return a>n?1:a<n?-1:void 0})),n.setState({appointmentsList:n.state.appointment,doctorIdList1:n.state.doctorIdList,emptyData:!1})):n.setState({emptyData:!0}),console.log("appointment",n.state.appointment),console.log("appointmentsList",n.state.appointmentsList),console.log("doctors list: "+n.state.doctorIdList1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return e.next=8,n.fetchDoctorData();case 8:return e.next=10,n.getValueFromSessionStorage();case 10:n.setState({isFetching:!1});case 11:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getValueFromSessionStorage();case 2:case"end":return e.stop()}}),e)}))),n.getValueFromSessionStorage=Object(f.a)(g.a.mark((function e(){var t,a,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sessionStorage.getItem("loginTimestamp"),console.log(t),console.log("i check for session expiry"),t){e.next=9;break}return e.next=6,n.setState({sessionExpired:!0});case 6:localStorage.removeItem("doctorId"),e.next=19;break;case 9:if(a=x()(new Date),o=x()(parseInt(t)),!o.add(30,"m").isBefore(a)){e.next=18;break}return e.next=15,n.setState({sessionExpired:!0});case 15:localStorage.removeItem("doctorId"),e.next=19;break;case 18:sessionStorage.setItem("sessionTimestamp",a);case 19:case"end":return e.stop()}}),e)}))),n.fetchDoctorData=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.database().ref("doctors/".concat(n.state.doctorId,"/name")),e.next=3,t.once("value",(function(e){n.setState({doctorName:e.val()})}));case 3:case"end":return e.stop()}}),e)}))),n.setValuesFromLocalStorage=function(){var e=localStorage.getItem("userId"),t=localStorage.getItem("userDependentName"),a=localStorage.getItem("userDependentId"),o=localStorage.getItem("userDependentRelation");n.setState({userId:e}),n.setState({dependentInfo:{name:t,id:a,relation:o}})},n.handleEditClick=function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({appointmentChosen:t});case 2:return e.next=4,n.setState({isFetching:!0});case 4:return e.next=6,n.fetchDoctorAppointmentData();case 6:n.toggleRescheduleModal();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetchDoctorAppointmentData=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in doctor fetcher"+n.state.doctorId),t=E.database().ref("doctors/".concat(n.state.doctorId,"/")),e.next=4,t.once("value").then((function(e){var t=e.val();n.setState({doctorData:t}),n.setState({doctorFeeData:t.consultancyFee});var a=t.slotDetails.unavailableDates,o=t.slotDetails.timeSlotsTemp,r=Object.keys(o),s=[];console.log(a);for(var l=0;l<r.length;l++){for(var i=Object.keys(o[r[l]]),c=[],d=0;d<i.length;d++)c.push(o[r[l]][i[d]]);var m={};m[r[l]]=c,s.push(m)}var u={Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6,Sun:7};if(s.sort((function(e,t){var a=Object.keys(e)[0],n=Object.keys(t)[0];return u[a]-u[n]})),console.log(s),n.setState({daysAvailable:r}),n.setState({daysObject:o}),n.setState({dObjArray:s}),a){console.log(a),console.log("entered leave dates");for(var p=[],h=1;h<a.length;h++)for(var g=x()(a[h].From,"DD-MM-YY"),f=x()(a[h].To,"DD-MM-YY"),y=g;!y.isAfter(f);)console.log(y.format("DD-MM-YY")),p.push(y.format("DD-MM-YY")),y.add(1,"d");console.log(p),n.setState({leaveDateArray:p})}}));case 4:return e.next=6,n.setAvailableSlots();case 6:case"end":return e.stop()}}),e)}))),n.setAvailableSlots=function(){for(var e={},t=0;t<n.state.daysAvailable.length;t++){for(var a=n.state.daysObject[n.state.daysAvailable[t]],o=Object.keys(a),r=[],s=0;s<o.length;s++)for(var l=a[o[s]],i=l.openTime,c=l.closeTime,d=parseInt(l.timeAlloted.toString().substring(0,2),10),m=x()(i,"LT",!0),u=x()(c,"LT",!0),p=m;p<u;)r.push(p.format("LT")),p=x()(p).add(d,"m");e[n.state.daysAvailable[t]]=r}n.setState({slotArray:e}),n.setState({isFetching:!1})},n.onCalendarChange=function(){var e=Object(f.a)(g.a.mark((function e(t){var a,o,r,s,l,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=x()(new Date).format("DD-MM-YY"),o=x()(t).format("DD-MM-YY"),r=x()(new Date).format("LT"),o!=a){e.next=18;break}return n.setState({todaySelected:!0}),s=(new Date).toString().substring(0,3),console.log(s),l=Object(A.a)({},s,n.state.slotArray[s]),i=l[s].filter((function(e){return x()(e,"LT")>x()(r,"LT")})),console.log(i),l=Object(A.a)({},s,i),console.log(l),console.log(n.state.slotArray),console.log(n.state.busyArray),e.next=16,n.setState({todaySlotArray:l});case 16:e.next=19;break;case 18:n.setState({todaySelected:!1});case 19:return n.state.leaveDateArray&&n.state.leaveDateArray.includes(o)?(console.log("detected leave day"),n.setState({leaveSelected:!0})):n.setState({leaveSelected:!1}),t<new Date&&o!=a?n.setState({olderDateSelected:!0}):n.setState({olderDateSelected:!1}),n.setState({slotClicked:""}),n.setState({date:t}),n.setState({dateSelected:!0}),n.setState({dayOfDate:t.toString().substr(0,3)}),e.next=27,n.fetchCalendarSlots(t);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetchCalendarSlots=function(){var e=Object(f.a)(g.a.mark((function e(t){var a,o,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={year:"2-digit",month:"2-digit",day:"2-digit"},o=(o=t.toLocaleDateString("en-GB",a)).replace(/\//g,""),n.setState({isFetching:!0}),r=E.database().ref("doctors/".concat(n.state.doctorId,"/slotDetails/busySlots/").concat(o)),e.next=8,r.once("value").then((function(e){var t=e.val();if(t){for(var a=Object.keys(t),o=[],r={},s=0;s<a.length;s++)r[s]=t[a[s]];var l=Object.keys(r);for(s=0;s<l.length;s++){var i=x()(r[s].timeBegin,"LT");o.push(i.format("LT"))}n.setState({busyArray:o})}else n.setState({busyArray:[]});n.setState({isFetching:!1})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.changeSlotSelect=function(e){var t=x()(e,"LT");n.setState({slotClicked:t.format("LT")})},n.toggleNavbar=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{isNavbarOpen:!e.isNavbarOpen})}))},n.toggleRescheduleModal=function(){n.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{rescheduleModal:!e.rescheduleModal})}))},n.state=Object(A.a)({doctorId:n.props.match.params.handle,date:new Date,appointment:[],busyArray:[],slotArray:[],daysAvailable:[],isFetching:!1,rescheduleModal:!1,preDetailsData:[],appointmentsList:[],doctorIdList:[],doctorIdList1:[],appointmentData:{},sessionExpired:!1,emptyData:!1},"rescheduleModal",!1),n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.appointmentsList.map((function(t,a){return o.a.createElement(fe.Tr,{key:t.id},o.a.createElement(fe.Td,{className:"td"},t.date),o.a.createElement(fe.Td,{className:"td"},t.timeBegin),o.a.createElement(fe.Td,{className:"td"},t.dependentInfo.name),o.a.createElement(fe.Td,{className:"td"},t.mode),o.a.createElement(fe.Td,{className:"td"},t.visitType),o.a.createElement(fe.Td,{className:"td"},o.a.createElement("button",{className:"std-button",style:{height:30},onClick:e.handleEditClick.bind(e,t)},"Edit")))}));return o.a.createElement("body",{className:"body"},o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement(P.a,{dark:!0,expand:"md",style:{backgroundColor:"#4be4ac"}},o.a.createElement(F.a,{href:"/".concat(this.state.doctorId,"/"),style:{color:"#ffffff",fontWeight:"600"}},"Teleconsultancy - Dr. ",this.state.doctorName),o.a.createElement(j.a,{onClick:this.toggleNavbar}),o.a.createElement(L.a,{isOpen:this.state.isNavbarOpen,navbar:!0},o.a.createElement(R.a,{className:"mr-auto",navbar:!0},o.a.createElement(z.a,null,o.a.createElement(U.a,{style:{color:"#ffffff"},href:"/".concat(this.state.doctorId,"/Appointments")},"My Appointments")),o.a.createElement(z.a,null,o.a.createElement(U.a,{style:{color:"#ffffff"},href:"/".concat(this.state.doctorId,"/Prescriptions")},"My Prescriptions")),o.a.createElement(z.a,null,o.a.createElement(m.b,{to:{pathname:"/".concat(this.state.doctorId,"/")}},o.a.createElement(W.a,{style:{color:"#ffffff"},onClick:function(){localStorage.removeItem("doctorId")}}," Logout ")))))),this.state.sessionExpired?o.a.createElement("div",null,o.a.createElement(u.a,{push:!0,to:{pathname:"/".concat(this.state.doctorId,"/")}})):o.a.createElement("div",null),o.a.createElement("div",{className:"row"},this.state.isFetching?o.a.createElement(N,{loading:this.state.isFetching}):o.a.createElement("div",{className:" col-md-12 col-sm-12 col-xs-12 Consultancy-box margin-box-table"},o.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},o.a.createElement("text",{className:"Prescription-heading-title",style:{fontSize:22}},"My Appointments"),o.a.createElement("text",{className:"Prescription-heading-title",style:{fontSize:17,alignSelf:"center",marginLeft:"3%",marginRight:"3%",fontWeight:400,textAlign:"right"}},"Doctor Name: Dr. ",this.state.doctorName)),o.a.createElement("br",null),o.a.createElement("br",null),this.state.emptyData?o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",height:"100%",alignContent:"center",justifyContent:"center"}},o.a.createElement("text",{style:{fontWeight:"300",fontSize:24,textAlign:"center"}},"You do not currently have any appointments!")):o.a.createElement(fe.Table,{class:"table"},o.a.createElement(fe.Thead,{className:"Prescription-heading"},o.a.createElement(fe.Tr,null,o.a.createElement(fe.Th,{className:"th",scope:"col"}," Date "),o.a.createElement(fe.Th,{className:"th",scope:"col"}," Time "),o.a.createElement(fe.Th,{className:"th",scope:"col"}," Patient Name "),o.a.createElement(fe.Th,{className:"th",scope:"col"}," Mode "),o.a.createElement(fe.Th,{className:"th",scope:"col"}," Type "),o.a.createElement(fe.Th,{className:"th",scope:"col"}," Action "))),o.a.createElement(fe.Tbody,null,t)))),o.a.createElement(b.a,{isOpen:this.state.rescheduleModal,toggle:this.toggleRescheduleModal},o.a.createElement(v.a,{toggle:this.toggleRescheduleModal},"Online Consultancy Payment"),o.a.createElement(S.a,null,this.state.appointmentChosen?o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement(X.a,{onChange:this.onCalendarChange,value:this.state.date}))),o.a.createElement("div",{style:{textAlign:"center",margin:"1.5vh 0vh"}},o.a.createElement("button",{className:"std-button",onClick:this.toggleDocSlotsModal},"View Doctor's Slots")),o.a.createElement("div",{className:"slot-info"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"slots-margins"},o.a.createElement("span",{className:"slots selected-slot"}),"Selected"),o.a.createElement("div",null,o.a.createElement("span",{className:"slots booked-slot"}),"Booked"),o.a.createElement("div",null,o.a.createElement("span",{className:"slots open-slot"}),"Available")))),o.a.createElement("div",{className:"slots-row"},this.state.isLoading?o.a.createElement(N,{loading:this.state.isLoading}):this.state.olderDateSelected?o.a.createElement("p",null,"Sorry, you must select a date after today, to book an appointment."):!this.state.daysAvailable.includes(this.state.dayOfDate)&&this.state.dayOfDate?o.a.createElement("p",null,"Sorry, you must select a day when the doctor is available, to book an appointment."):this.state.leaveSelected?o.a.createElement("p",null,"Sorry, the doctor is on a leave on this date, select another date to continue."):this.state.todaySelected?this.state.todaySlotArray&&this.state.todaySlotArray[this.state.dayOfDate]?this.state.busyArray.length>0?this.state.todaySlotArray[this.state.dayOfDate].map((function(t,a){return e.state.busyArray.includes(t)?o.a.createElement("div",{className:"slot-present"},o.a.createElement("button",{className:"booked-slot_time",style:{cursor:"default"}},o.a.createElement("span",null,t.toString()))):o.a.createElement("div",{className:"slot-present"},o.a.createElement("button",{className:e.state.slotClicked!=t?"open-slot_time":"selected-slot_time",onClick:e.changeSlotSelect.bind(e,t)},o.a.createElement("span",null,t.toString())))})):this.state.dateSelected?this.state.todaySlotArray[this.state.dayOfDate].map((function(t,a){return o.a.createElement("div",{className:"slot-present"},o.a.createElement("button",{className:e.state.slotClicked!=t?"open-slot_time":"selected-slot_time",onClick:e.changeSlotSelect.bind(e,t)},o.a.createElement("span",null,t.toString())))})):o.a.createElement("div",null):o.a.createElement("div",null):this.state.slotArray&&this.state.slotArray[this.state.dayOfDate]?this.state.busyArray.length>0?this.state.slotArray[this.state.dayOfDate].map((function(t,a){return e.state.busyArray.includes(t)?o.a.createElement("div",{className:"slot-present"},o.a.createElement("button",{className:"booked-slot_time",style:{cursor:"default"}},o.a.createElement("span",null,t.toString()))):o.a.createElement("div",{className:"slot-present"},o.a.createElement("button",{className:e.state.slotClicked!=t?"open-slot_time":"selected-slot_time",onClick:e.changeSlotSelect.bind(e,t)},o.a.createElement("span",null,t.toString())))})):this.state.dateSelected?this.state.slotArray[this.state.dayOfDate].map((function(t,a){return o.a.createElement("div",{className:"slot-present"},o.a.createElement("button",{className:e.state.slotClicked!=t?"open-slot_time":"selected-slot_time",onClick:e.changeSlotSelect.bind(e,t)},o.a.createElement("span",null,t.toString())))})):o.a.createElement("div",null):o.a.createElement("div",null))):o.a.createElement("div",null)),o.a.createElement(w.a,null,o.a.createElement(I.a,{color:"primary",onClick:this.handlePaymentClick},"Reschedule"))))))}}]),a}(n.Component),ve=a(48),Se=Object(ve.a)(),we=function(){return o.a.createElement(m.a,{history:Se},o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/",component:T}),o.a.createElement(u.b,{exact:!0,path:"/:handle/",component:q}),o.a.createElement(u.b,{exact:!0,path:"/:handle/Register",component:V}),o.a.createElement(u.b,{exact:!0,path:"/:handle/Consultancy",component:$}),o.a.createElement(u.b,{exact:!0,path:"/:handle/ConsultancyForm",component:ue}),o.a.createElement(u.b,{exact:!0,path:"/:handle/Thankyou",component:ge}),o.a.createElement(u.b,{exact:!0,path:"/:handle/Prescriptions",component:Ee}),o.a.createElement(u.b,{exact:!0,path:"/:handle/Appointments",component:be})))},Ie=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(we,null)}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[439,1,2]]]);
//# sourceMappingURL=main.fe1b00cf.chunk.js.map